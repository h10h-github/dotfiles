<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>CHANGELOG - loofah-2.0.1 Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Changelog">Changelog</a>
    <li><a href="#label-2.0.1+%2F+2014-08-21">2.0.1 / 2014-08-21</a>
    <li><a href="#label-2.0.0+%2F+2014-05-09">2.0.0 / 2014-05-09</a>
    <li><a href="#label-1.2.1+%282012-04-14%29">1.2.1 (2012-04-14)</a>
    <li><a href="#label-1.2.0+%282011-08-08%29">1.2.0 (2011-08-08)</a>
    <li><a href="#label-1.1.0+%282011-08-08%29">1.1.0 (2011-08-08)</a>
    <li><a href="#label-1.0.0+%282010-10-26%29">1.0.0 (2010-10-26)</a>
    <li><a href="#label-0.4.7+%282010-03-09%29">0.4.7 (2010-03-09)</a>
    <li><a href="#label-0.4.4%2C+0.4.5%2C+0.4.6+%282010-02-01%29">0.4.4, 0.4.5, 0.4.6 (2010-02-01)</a>
    <li><a href="#label-0.4.3+%282010-01-29%29">0.4.3 (2010-01-29)</a>
    <li><a href="#label-0.4.2+%282010-01-22%29">0.4.2 (2010-01-22)</a>
    <li><a href="#label-0.4.1+%282009-11-23%29">0.4.1 (2009-11-23)</a>
    <li><a href="#label-0.4.0+%282009-11-21%29">0.4.0 (2009-11-21)</a>
    <li><a href="#label-0.3.1+%282009-10-12%29">0.3.1 (2009-10-12)</a>
    <li><a href="#label-0.3.0+%282009-10-06%29">0.3.0 (2009-10-06)</a>
    <li><a href="#label-0.2.2+%282009-09-30%29">0.2.2 (2009-09-30)</a>
    <li><a href="#label-0.2.1+%282009-09-19%29">0.2.1 (2009-09-19)</a>
    <li><a href="#label-0.2.0+%282009-09-11%29">0.2.0 (2009-09-11)</a>
    <li><a href="#label-0.1.2+%282009-04-30%29">0.1.2 (2009-04-30)</a>
    <li><a href="#label-0.1.0+%282009-02-10%29">0.1.0 (2009-02-10)</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./CHANGELOG_rdoc.html">CHANGELOG</a>
  
    <li><a href="./MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="./Manifest_txt.html">Manifest</a>
  
    <li><a href="./README_rdoc.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page CHANGELOG.rdoc">

<h1 id="label-Changelog">Changelog<span><a href="#label-Changelog">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<h2 id="label-2.0.1+%2F+2014-08-21">2.0.1 / 2014-08-21<span><a href="#label-2.0.1+%2F+2014-08-21">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Bug fixes:</p>
<ul><li>
<p>Load RR correctly when running test files directly. (Thanks, @ktdreyer!)</p>
</li></ul>

<p>Notes:</p>
<ul><li>
<p>Extracted HTML5::Scrub#scrub_css_attribute to accommodate the Rails
integration work. (Thanks, @kaspth!)</p>
</li></ul>

<h2 id="label-2.0.0+%2F+2014-05-09">2.0.0 / 2014-05-09<span><a href="#label-2.0.0+%2F+2014-05-09">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Compatibility notes:</p>
<ul><li>
<p>ActionView helpers now must be required explicitly: `require
“loofah/helpers”`</p>
</li><li>
<p>Support for Ruby 1.8.7 and prior has been dropped</p>
</li></ul>

<p>Enhancements:</p>
<ul><li>
<p>HTML5 whitelist allows the following …</p>
<ul><li>
<p>tags: `article`, `aside`, `bdi`, `bdo`, `canvas`, `command`, `datalist`,
`details`, `figcaption`, `figure`, `footer`, `header`, `mark`, `meter`,
`nav`, `output`, `section`, `summary`, `time`</p>
</li><li>
<p>attributes: `data-*` (Thanks, Rafael Franca!)</p>
</li><li>
<p>URI attributes: `poster` and `preload`</p>
</li></ul>
</li><li>
<p>Addition of the `:unprintable` scrubber to remove unprintable characters
from text nodes. #65 (Thanks, Matt Swanson!)</p>
</li><li>
<p>`Loofah.fragment` accepts an optional encoding argument, compatible with
`Nokogiri::HTML::DocumentFragment.parse`. #62 (Thanks, Ben Atkins!)</p>
</li><li>
<p>HTML5 sanitizers now remove attributes without values. (Thanks, Kasper Timm
Hansen!)</p>
</li></ul>

<p>Bug fixes:</p>
<ul><li>
<p>HTML5 sanitizers&#39; CSS keyword check now actually works (broken in
v2.0). Additional regression tests added. (Thanks, Kasper Timm Hansen!)</p>
</li><li>
<p>HTML5 sanitizers now allow negative arguments to CSS. #64 (Thanks, Jon
Calhoun!)</p>
</li></ul>

<h2 id="label-1.2.1+%282012-04-14%29">1.2.1 (2012-04-14)<span><a href="#label-1.2.1+%282012-04-14%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Declaring encoding in html5/scrub.rb. Without this, use of the ruby -KU
option would cause havoc. (#32)</p>
</li></ul>

<h2 id="label-1.2.0+%282011-08-08%29">1.2.0 (2011-08-08)<span><a href="#label-1.2.0+%282011-08-08%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p><a
href="Loofah/Helpers.html#method-i-sanitize_css">Loofah::Helpers#sanitize_css</a>
is a replacement for Rails&#39;s built-in sanitize_css helper.</p>
</li><li>
<p>Improving ActionView integration.</p>
</li></ul>

<h2 id="label-1.1.0+%282011-08-08%29">1.1.0 (2011-08-08)<span><a href="#label-1.1.0+%282011-08-08%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>Additional HTML5lib whitelist elements (from html5lib 1524:80b5efe26230).
Up to date with HTML5lib ruby code as of 1723:7ee6a0331856.</p>
</li><li>
<p>Whitelists (which are not part of the public API) are now Sets (were
previously Arrays).</p>
</li><li>
<p>Don&#39;t explode when encountering UTF-8 URIs. (#25, #29)</p>
</li></ul>

<h2 id="label-1.0.0+%282010-10-26%29">1.0.0 (2010-10-26)<span><a href="#label-1.0.0+%282010-10-26%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Notes:</p>
<ul><li>
<p>Moved ActiveRecord functionality into `loofah-activerecord` gem.</p>
</li><li>
<p>Removed DEPRECATIONS.rdoc documenting 0.3.0 API changes.</p>
</li></ul>

<h2 id="label-0.4.7+%282010-03-09%29">0.4.7 (2010-03-09)<span><a href="#label-0.4.7+%282010-03-09%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>New methods <a
href="Loofah/TextBehavior.html#method-i-to_text">Loofah::TextBehavior#to_text</a>
and <a
href="Loofah/TextBehavior.html#method-i-to_text">Loofah::TextBehavior#to_text</a>
do the right thing with whitespace. Note that these methods are
significantly slower than text. GH #12</p>
</li><li>
<p>Loofah::Elements::BLOCK_LEVEL contains a canonical list of HTML4
block-level4 elements.</p>
</li><li>
<p><a
href="Loofah/TextBehavior.html#method-i-text">Loofah::TextBehavior#text</a>
and <a
href="Loofah/TextBehavior.html#method-i-text">Loofah::TextBehavior#text</a>
will return unescaped HTML entities by passing :encode_special_chars =&gt;
false.</p>
</li></ul>

<h2 id="label-0.4.4%2C+0.4.5%2C+0.4.6+%282010-02-01%29">0.4.4, 0.4.5, 0.4.6 (2010-02-01)<span><a href="#label-0.4.4%2C+0.4.5%2C+0.4.6+%282010-02-01%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p><a
href="Loofah/TextBehavior.html#method-i-text">Loofah::TextBehavior#text</a>
and <a
href="Loofah/TextBehavior.html#method-i-text">Loofah::TextBehavior#text</a>
now escape HTML entities.</p>
</li></ul>

<p>Bug fixes:</p>
<ul><li>
<p>Loofah::XssFoliate was not properly escaping HTML entities when implicitly
scrubbing a string attribute. GH #17</p>
</li></ul>

<h2 id="label-0.4.3+%282010-01-29%29">0.4.3 (2010-01-29)<span><a href="#label-0.4.3+%282010-01-29%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>All built-in scrubbers are accepted by ActiveRecord::Base.xss_foliate</p>
</li><li>
<p>Loofah::XssFoliate.xss_foliate_all_models replaces use of the constant
LOOFAH_XSS_FOLIATE_ALL_MODELS</p>
</li></ul>

<p>Miscellaneous:</p>
<ul><li>
<p>Modified documentation for bootstrapping XssFoliate in a Rails app, since
the use of Bundler breaks the previously-documented method. To be safe,
always use an initializer file.</p>
</li></ul>

<h2 id="label-0.4.2+%282010-01-22%29">0.4.2 (2010-01-22)<span><a href="#label-0.4.2+%282010-01-22%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>Implemented Node#scrub! for scrubbing subtrees.</p>
</li><li>
<p>Implemented NodeSet#scrub! for scrubbing a set of subtrees.</p>
</li><li>
<p>Document.text now only serializes &lt;body&gt; contents (ignores
&lt;head&gt;)</p>
</li><li>
<p>&lt;head&gt;, &lt;html&gt; and &lt;body&gt; added to the HTML5lib
whitelist.</p>
</li></ul>

<p>Bug fixes:</p>
<ul><li>
<p>Supporting Rails apps that aren&#39;t loading ActiveRecord. GH #10</p>
</li></ul>

<p>Miscellaneous:</p>
<ul><li>
<p>Mailing list is now loofah@librelist.com / <a
href="http://librelist.com">librelist.com</a></p>
</li><li>
<p>IRC channel is now #loofah on freenode.</p>
</li></ul>

<h2 id="label-0.4.1+%282009-11-23%29">0.4.1 (2009-11-23)<span><a href="#label-0.4.1+%282009-11-23%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Bugfix:</p>
<ul><li>
<p><a href="Manifest_txt.html">Manifest</a> fixed. Whoops.</p>
</li></ul>

<h2 id="label-0.4.0+%282009-11-21%29">0.4.0 (2009-11-21)<span><a href="#label-0.4.0+%282009-11-21%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>Scrubber class introduced, allowing development of custom scrubbers.</p>
</li><li>
<p>Added support for XML documents and fragments.</p>
</li><li>
<p>Added :nofollow HTML scrubber (thanks Luke Melia!)</p>
</li><li>
<p>Built-in scrubbing methods refactored to use Scrubber.</p>
</li></ul>

<h2 id="label-0.3.1+%282009-10-12%29">0.3.1 (2009-10-12)<span><a href="#label-0.3.1+%282009-10-12%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Bug fixes:</p>
<ul><li>
<p>Scrubbed Documents properly render html, head and body tags when
serialized.</p>
</li></ul>

<h2 id="label-0.3.0+%282009-10-06%29">0.3.0 (2009-10-06)<span><a href="#label-0.3.0+%282009-10-06%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>New ActiveRecord extension `xss_foliate`, a drop-in replacement for <a
href="http://github.com/look/xss_terminate/tree/master">xss_terminate</a>.</p>
</li><li>
<p>Replacement methods for Rails&#39;s helpers, Loofah::Rails.sanitize and
Loofah::Rails.strip_tags.</p>
</li><li>
<p>Official support (and test coverage) for Rails versions 2.3, 2.2, 2.1, 2.0
and 1.2.</p>
</li></ul>

<p>Deprecations:</p>
<ul><li>
<p>The methods strip_tags, whitewash, whitewash_document, sanitize, and
sanitize_document have been deprecated. See DEPRECATED.rdoc for details on
the equivalent calls with the post-0.2 API.</p>
</li></ul>

<h2 id="label-0.2.2+%282009-09-30%29">0.2.2 (2009-09-30)<span><a href="#label-0.2.2+%282009-09-30%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>ActiveRecord extension scrubs fields in a before_validation callback (was
previously in a before_save)</p>
</li></ul>

<h2 id="label-0.2.1+%282009-09-19%29">0.2.1 (2009-09-19)<span><a href="#label-0.2.1+%282009-09-19%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Enhancements:</p>
<ul><li>
<p>when loaded in a Rails app, automatically extend ActiveRecord::Base with
html_fragment and html_document. GH #6 (Thanks Josh Nichols!)</p>
</li></ul>

<p>Bugfixes:</p>
<ul><li>
<p>ActiveRecord scrubbing should generate strings instead of Document or
DocumentFragment objects. GH #5</p>
</li><li>
<p>init.rb fixed to support installation as a Rails plugin. GH #6 (Thanks Josh
Nichols!)</p>
</li></ul>

<h2 id="label-0.2.0+%282009-09-11%29">0.2.0 (2009-09-11)<span><a href="#label-0.2.0+%282009-09-11%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Swank new API.</p>
</li><li>
<p>ActiveRecord extension.</p>
</li><li>
<p>Uses Nokogiri&#39;s Document and DocumentFragment for parsing.</p>
</li><li>
<p>Updated html5lib codes and tests to revision 1384:b9d3153d7be7.</p>
</li><li>
<p>Deprecated the Dryopteris sanitization methods. Will be removed in 0.3.0.</p>
</li><li>
<p>Documentation! Hey!</p>
</li></ul>

<h2 id="label-0.1.2+%282009-04-30%29">0.1.2 (2009-04-30)<span><a href="#label-0.1.2+%282009-04-30%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Added whitewashing – removal of all attributes and namespaced nodes. You
know, for microsofty HTML.</p>
</li></ul>

<h2 id="label-0.1.0+%282009-02-10%29">0.1.0 (2009-02-10)<span><a href="#label-0.1.0+%282009-02-10%29">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Birthday!</p>
</li></ul>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

