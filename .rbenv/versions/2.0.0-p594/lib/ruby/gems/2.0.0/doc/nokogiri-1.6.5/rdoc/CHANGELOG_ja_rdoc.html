<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>CHANGELOG.ja - nokogiri-1.6.5 Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-1.6.5+%2F+%E6%9C%AA%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9">1.6.5 / 未リリース</a>
    <li><a href="#label-%E6%A9%9F%E8%83%BD">機能</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.4.1+%2F+2014%E5%B9%B411%E6%9C%885%E6%97%A5">1.6.4.1 / 2014年11月5日</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.4+%2F+2014%E5%B9%B411%E6%9C%884%E6%97%A5">1.6.4 / 2014年11月4日</a>
    <li><a href="#label-%E6%A9%9F%E8%83%BD">機能</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.3.1+%2F+2014%E5%B9%B47%E6%9C%8821%E6%97%A5">1.6.3.1 / 2014年7月21日</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.3+%2F+2014%E5%B9%B47%E6%9C%8820%E6%97%A5">1.6.3 / 2014年7月20日</a>
    <li><a href="#label-%E6%A9%9F%E8%83%BD">機能</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.2.1+%2F+2014%E5%B9%B45%E6%9C%8813%E6%97%A5">1.6.2.1 / 2014年5月13日</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.2+%2F+2014%E5%B9%B45%E6%9C%8812%E6%97%A5">1.6.2 / 2014年5月12日</a>
    <li><a href="#label-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3">セキュリティ</a>
    <li><a href="#label-%E4%BA%92%E6%8F%9B%E6%80%A7">互換性</a>
    <li><a href="#label-%E6%A9%9F%E8%83%BD">機能</a>
    <li><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正</a>
    <li><a href="#label-1.6.1+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">1.6.1 / 2013年12月14日</a>
    <li><a href="#label-1.6.0+%2F+2013%E5%B9%B46%E6%9C%888%E6%97%A5">1.6.0 / 2013年6月8日</a>
    <li><a href="#label-1.6.0.rc1+%2F+2013%E5%B9%B44%E6%9C%8814%E6%97%A5">1.6.0.rc1 / 2013年4月14日</a>
    <li><a href="#label-1.5.11+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">1.5.11 / 2013年12月14日</a>
    <li><a href="#label-1.5.10+%2F+2013%E5%B9%B46%E6%9C%887%E6%97%A5">1.5.10 / 2013年6月7日</a>
    <li><a href="#label-1.5.9+%2F+2013%E5%B9%B43%E6%9C%8821%E6%97%A5">1.5.9 / 2013年3月21日</a>
    <li><a href="#label-1.5.8+%2F+2013%E5%B9%B43%E6%9C%8819%E6%97%A5">1.5.8 / 2013年3月19日</a>
    <li><a href="#label-1.5.7+%2F+2013%E5%B9%B43%E6%9C%8818%E6%97%A5">1.5.7 / 2013年3月18日</a>
    <li><a href="#label-1.5.6+%2F+2012%E5%B9%B412%E6%9C%8819%E6%97%A5">1.5.6 / 2012年12月19日</a>
    <li><a href="#label-1.5.5+%2F+2012%E5%B9%B46%E6%9C%8824%E6%97%A5">1.5.5 / 2012年6月24日</a>
    <li><a href="#label-1.5.4+%2F+2012%E5%B9%B46%E6%9C%8812%E6%97%A5">1.5.4 / 2012年6月12日</a>
    <li><a href="#label-1.5.3+%2F+2012%E5%B9%B46%E6%9C%881%E6%97%A5">1.5.3 / 2012年6月1日</a>
    <li><a href="#label-1.5.2+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">1.5.2 / 2012年3月9日</a>
    <li><a href="#label-1.5.1+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">1.5.1 / 2012年3月9日</a>
    <li><a href="#label-1.5.0+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">1.5.0 / 2011年7月1日</a>
    <li><a href="#label-1.5.0+beta3+2010%E5%B9%B412%E6%9C%882%E6%97%A5">1.5.0 beta3 2010年12月2日</a>
    <li><a href="#label-1.5.0+beta2+2010%E5%B9%B47%E6%9C%8830%E6%97%A5">1.5.0 beta2 2010年7月30日</a>
    <li><a href="#label-1.5.0+beta1+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">1.5.0 beta1 2010年5月22日</a>
    <li><a href="#label-1.4.7+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">1.4.7 / 2011年7月1日</a>
    <li><a href="#label-1.4.6+%2F+2011%E5%B9%B46%E6%9C%8819%E6%97%A5">1.4.6 / 2011年6月19日</a>
    <li><a href="#label-1.4.5+%2F+2011%E5%B9%B45%E6%9C%8819%E6%97%A5">1.4.5 / 2011年5月19日</a>
    <li><a href="#label-1.4.4+2010%E5%B9%B411%E6%9C%8815%E6%97%A5">1.4.4 2010年11月15日</a>
    <li><a href="#label-1.4.3+2010%E5%B9%B47%E6%9C%8828%E6%97%A5">1.4.3 2010年7月28日</a>
    <li><a href="#label-1.4.2+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">1.4.2 2010年5月22日</a>
    <li><a href="#label-1.4.1+2009%E5%B9%B412%E6%9C%8810%E6%97%A5">1.4.1 2009年12月10日</a>
    <li><a href="#label-1.4.0+2009%E5%B9%B410%E6%9C%8830%E6%97%A5">1.4.0 2009年10月30日</a>
    <li><a href="#label-1.3.3+%2F+2009%E5%B9%B47%E6%9C%8826%E6%97%A5">1.3.3 / 2009年7月26日</a>
    <li><a href="#label-1.3.2+%2F+2009%E5%B9%B46%E6%9C%8822%E6%97%A5">1.3.2 / 2009年6月22日</a>
    <li><a href="#label-1.3.1+%2F+2009%E5%B9%B46%E6%9C%887%E6%97%A5">1.3.1 / 2009年6月7日</a>
    <li><a href="#label-1.3.0+%2F+2009%E5%B9%B45%E6%9C%8830%E6%97%A5">1.3.0 / 2009年5月30日</a>
    <li><a href="#label-1.2.3+%2F+2009%E5%B9%B43%E6%9C%8822%E6%97%A5">1.2.3 / 2009年3月22日</a>
    <li><a href="#label-1.2.2+%2F+2009%E5%B9%B43%E6%9C%8814%E6%97%A5">1.2.2 / 2009年3月14日</a>
    <li><a href="#label-1.2.1+%2F+2009%E5%B9%B42%E6%9C%8823%E6%97%A5">1.2.1 / 2009年2月23日</a>
    <li><a href="#label-1.2.0+%2F+2009%E5%B9%B42%E6%9C%8822%E6%97%A5">1.2.0 / 2009年2月22日</a>
    <li><a href="#label-1.1.1">1.1.1</a>
    <li><a href="#label-1.1.0">1.1.0</a>
    <li><a href="#label-1.0.7">1.0.7</a>
    <li><a href="#label-1.0.6">1.0.6</a>
    <li><a href="#label-1.0.5">1.0.5</a>
    <li><a href="#label-1.0.4">1.0.4</a>
    <li><a href="#label-1.0.3">1.0.3</a>
    <li><a href="#label-1.0.2">1.0.2</a>
    <li><a href="#label-1.0.1">1.0.1</a>
    <li><a href="#label-1.0.0+%2F+2008%E5%B9%B407%E6%9C%8813%E6%97%A5">1.0.0 / 2008年07月13日</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./CHANGELOG_ja_rdoc.html">CHANGELOG.ja</a>
  
    <li><a href="./CHANGELOG_rdoc.html">CHANGELOG</a>
  
    <li><a href="./C_CODING_STYLE_rdoc.html">C_CODING_STYLE</a>
  
    <li><a href="./Manifest_txt.html">Manifest</a>
  
    <li><a href="./README_ja_rdoc.html">README.ja</a>
  
    <li><a href="./README_rdoc.html">README</a>
  
    <li><a href="./ROADMAP_md.html">ROADMAP</a>
  
    <li><a href="./STANDARD_RESPONSES_md.html">STANDARD_RESPONSES</a>
  
    <li><a href="./Y_U_NO_GEMSPEC_md.html">Y_U_NO_GEMSPEC</a>
  
    <li><a href="./lib/nokogiri/css/tokenizer_rex.html">tokenizer.rex</a>
  
    <li><a href="./suppressions/README_txt.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page CHANGELOG.ja.rdoc">

<h3 id="label-1.6.5+%2F+%E6%9C%AA%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9">1.6.5 / 未リリース<span><a href="#label-1.6.5+%2F+%E6%9C%AA%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E6%A9%9F%E8%83%BD">機能<span><a href="#label-%E6%A9%9F%E8%83%BD">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>Slop#respond_to_missing? を実装 (#1176)</p>
</li><li>
<p>Optimized the XPath query generated by an `an+b` CSS query.</p>
</li></ul>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>Capture non-parse errors from Document#dup in Document#errors. (#1196)</p>
</li><li>
<p>(JRuby) Document#canonicalize parameters are now consistent with MRI.
(#1189)</p>
</li></ul>

<h3 id="label-1.6.4.1+%2F+2014%E5%B9%B411%E6%9C%885%E6%97%A5">1.6.4.1 / 2014年11月5日<span><a href="#label-1.6.4.1+%2F+2014%E5%B9%B411%E6%9C%885%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>(MRI) 渡したCFLAGSが反映されないバグを修正 (#1188)</p>
</li><li>
<p>CSSセレクタの :nth(n) が動かなかったのを修正 (#1187)</p>
</li></ul>

<h3 id="label-1.6.4+%2F+2014%E5%B9%B411%E6%9C%884%E6%97%A5">1.6.4 / 2014年11月4日<span><a href="#label-1.6.4+%2F+2014%E5%B9%B411%E6%9C%884%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E6%A9%9F%E8%83%BD">機能<span><a href="#label-%E6%A9%9F%E8%83%BD">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>(MRI) 同梱の libxml2 を 2.9.2 に更新</p>
</li><li>
<p>(MRI) `nokogiri –version` の出力にパッチ一覧を追加</p>
</li><li>
<p>(MRI) ビルド中に端末に直接注意書きを出力していたのを廃止</p>
</li><li>
<p>(MRI) OS Xで /usr/include/iconv.h が存在しないのを検出し、警告するように (#1111)</p>
</li><li>
<p>(MRI) iconvの検出を libxml2 と同一の手順で行うようにした</p>
</li></ul>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>(MRI) DocumentFragment#element_children を修正 (#1138)</p>
</li><li>
<p>CSSの属性セレクタが先行トークンを伴わない場合 “foo [bar]” → “<a href="bar">foo</a>”
のように解釈されていたバグを修正 (#1174)</p>
</li></ul>

<h3 id="label-1.6.3.1+%2F+2014%E5%B9%B47%E6%9C%8821%E6%97%A5">1.6.3.1 / 2014年7月21日<span><a href="#label-1.6.3.1+%2F+2014%E5%B9%B47%E6%9C%8821%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>MacでGCCを使うとエラーになる問題に対処 #1130 (@zenspiderに感謝!)</p>
</li></ul>

<h3 id="label-1.6.3+%2F+2014%E5%B9%B47%E6%9C%8820%E6%97%A5">1.6.3 / 2014年7月20日<span><a href="#label-1.6.3+%2F+2014%E5%B9%B47%E6%9C%8820%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E6%A9%9F%E8%83%BD">機能<span><a href="#label-%E6%A9%9F%E8%83%BD">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>Node#document? と Node#processing_instruction? を追加</p>
</li></ul>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li><dl class="rdoc-list label-list"><dt>JRuby
<dd>
<p>メモリを使い果たす脆弱性の修正 #1087 (@ocherに感謝)</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>MRI
<dd>
<p>`libxml-ruby` と `nokogiri` とをマルチスレッド環境で同時に使うとGC中にsegfaultする問題を修正 #895
(@ender672に感謝!)</p>
</dd></dl>
</li><li>
<p>OS X 10.9 同梱の ruby 2.0.0 でビルド可能に #1101 (@zenspiderに感謝!)</p>
</li><li>
<p>1.6.2以降 Node#parse がHTML文書ノードに対して動かなかった問題を修正</p>
</li><li>
<p>XML処理命令(PI)を Node#add_next_sibling で挿入可能に</p>
</li></ul>

<h3 id="label-1.6.2.1+%2F+2014%E5%B9%B45%E6%9C%8813%E6%97%A5">1.6.2.1 / 2014年5月13日<span><a href="#label-1.6.2.1+%2F+2014%E5%B9%B45%E6%9C%8813%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>ユニバーサルバイナリ版 ruby における libxml2 の静的リンクを修正 #1104</p>
</li><li>
<p>`mini_portile` の Git への依存をパッチによって除去 #1102</p>
</li><li>
<p>一部プラットフォームにおけるライブラリロードにまつわるsegfaultを修正 #1097</p>
</li></ul>

<h3 id="label-1.6.2+%2F+2014%E5%B9%B45%E6%9C%8812%E6%97%A5">1.6.2 / 2014年5月12日<span><a href="#label-1.6.2+%2F+2014%E5%B9%B45%E6%9C%8812%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3">セキュリティ<span><a href="#label-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>同梱の libxml2 (2.8.0) と libxslt に各レポジトリからセキュリティ修正が移植された. 以下の脆弱性対応を含む.</p>
<ul><li>
<p><a
href="https://git.gnome.org/browse/libxml2/commit/?id=4629ee02ac649c27f9c0cf98ba017c6b5526070f">git.gnome.org/browse/libxml2/commit/?id=4629ee02ac649c27f9c0cf98ba017c6b5526070f</a></p>
</li><li>
<p>CVE-2013-2877 <a
href="https://git.gnome.org/browse/libxml2/commit/?id=e50ba8164eee06461c73cd8abb9b46aa0be81869">git.gnome.org/browse/libxml2/commit/?id=e50ba8164eee06461c73cd8abb9b46aa0be81869</a></p>
</li><li>
<p>CVE-2014-0191 <a
href="https://git.gnome.org/browse/libxml2/commit/?id=9cd1c3cfbd32655d60572c0a413e017260c854df">git.gnome.org/browse/libxml2/commit/?id=9cd1c3cfbd32655d60572c0a413e017260c854df</a></p>
</li></ul>

<p>1.6.x のユーザは早急にアップグレードされたい.</p>

<h4 id="label-%E4%BA%92%E6%8F%9B%E6%80%A7">互換性<span><a href="#label-%E4%BA%92%E6%8F%9B%E6%80%A7">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>libxml2 2.6.21 以上が必要に. (従前は 2.6.17 以上)</p>

<h4 id="label-%E6%A9%9F%E8%83%BD">機能<span><a href="#label-%E6%A9%9F%E8%83%BD">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>Add cross building of fat binary gems for 64-Bit Windows (x64-mingw32) and
add support for native builds on Windows. #864, #989, #1072</p>
</li><li>
<p>(MRI) iconvが Windows-31J をサポートしていない場合は CP932 のエイリアスとして扱うようにした #836</p>
</li><li>
<p>(MRI) 同梱ライブラリを静的にリンクするようになった (静的リンクをオフにするにはextconf.rbに –disable-static を渡す)
#923</p>
</li><li>
<p>(MRI) CRubyのバグ #9760 に起因するライブラリパス(LIBPATH)の優先順位問題に対応した</p>
</li><li>
<p>(MRI) 同梱ライブラリのビルド後に不要になったディレクトリ群を自動的に削除するようになった
(デバッグ等の目的で残すようにするにはextconf.rbに –disable-clean を渡す) #952</p>
</li><li>
<p>(MRI)
FreeBSDなど、libiconvがシステム標準ディレクトリ外にある環境でlibxml2がiconvサポート付きで正しくビルドされるようになった</p>
</li><li>
<p>nthセレクタにおいてan-bを認識するようになった #886 (Magnus Bergmarkに感謝!)</p>
</li><li>
<p>:not疑似クラスが、先行セレクタがない場合や複数重ねられた場合にも対応した #887 (Magnus Bergmarkに感謝!)</p>
</li><li>
<p>(MRI) extconf.rb のオプション –use-system-libraries を追加 環境変数
NOKOGIRI_USE_SYSTEM_LIBRARIES を設定する代わりに使える</p>
</li><li>
<p>(MRI) 同梱の libxslt を 1.1.28 に、 zlib を 1.2.8 に、 libiconv を 1.14 にそれぞれ更新した</p>
</li><li>
<p><a
href="Nokogiri/HTML/Document.html#method-i-title-3D">Nokogiri::HTML::Document#title=</a>
及び meta_encoding= は、head要素がない場合でも常に、最適な場所を探しつつ要素を追加するようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/DTD.html#method-i-html_dtd-3F">Nokogiri::XML::DTD#html_dtd?</a>
と html5_dtd? を追加</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-prepend_child">Nokogiri::XML::Node#prepend_child</a>
を追加 #664</p>
</li><li>
<p><a
href="Nokogiri/XML/SAX/ParserContext.html#method-i-recovery">Nokogiri::XML::SAX::ParserContext#recovery</a>
is added. #453</p>
</li></ul>

<h4 id="label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">バグ修正<span><a href="#label-%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p>:only-child疑似クラスが:not疑似クラスの中にある場合に正常な動作が行われるようになった #858 (Yamagishi
Kazutoshiに感謝!)</p>
</li><li>
<p>同梱のライブラリを使う場合にはextconf.rbでpkg_configを呼ばなくなった #931 (Shota Fukumoriに感謝!)</p>
</li><li>
<p><a
href="Nokogiri.html#method-i-parse">Nokogiri#parse</a>がRSS文書などをHTML文書として誤認する問題を修正
#932 (Yamagishi Kazutoshiに感謝!)</p>
</li><li>
<p>(MRI)
ノードに対して子ノードを追加する際、ノードタイプをチェックするようにした。従来はテキストノードに別のテキストノードを追加する操作によりSEGVが発生していた。
#1092</p>
</li><li>
<p>(JRuby) XSDのバリデーションがJava版でクラッシュする問題 #373</p>
</li><li>
<p>(JRuby) Builder使用時の「Document already has a root node」エラー #646</p>
</li><li>
<p>(JRuby) c14nテストがすべて通るように #226</p>
</li><li>
<p>厳格(strict)モードで空の文書をパースするとSyntaxErrorが起きる問題 #1005</p>
</li><li>
<p>(JRuby) XPathコンテクストをキャッシュするようにして高速化 #741</p>
</li><li>
<p>(JRuby) XML SAXプッシュパーサーのメモリリーク #998</p>
</li><li>
<p>(JRUby) JRubyによるディフォルトネームスペースエイリアスの振る舞いがCRubyと同じではない。#940</p>
</li><li>
<p>(JRuby) JRubyによるネームスペースのパースと追加の振る舞いが一致していない。 #943</p>
</li><li>
<p>(JRuby) Builderで作ったドキュメントとクローンしたドキュメントではXpathの結果が違う。#1034</p>
</li><li>
<p>(JRuby) Javaの実装はネームスペースを忘れることがある。 #902</p>
</li><li>
<p>(JRuby) JRuby-Nokogiriはネームスペーススコープ内のアトリビュートを正しく認識しない。#1081</p>
</li><li>
<p>(JRuby) JRuby-Nokogiriはコメントノードの名前が違う。#1080</p>
</li><li>
<p>(JRuby) JAXPExtensionsProvider / Java 7 / Secure Processingに問題がある。 #1070</p>
</li></ul>

<h3 id="label-1.6.1+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">1.6.1 / 2013年12月14日<span><a href="#label-1.6.1+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>Bugfixes</p>
<ul><li>
<p>(JRuby) 不正なドキュメントをパースするときにメモリ不足に陥るバグを修正</p>
</li><li>
<p>(JRuby) Billion-laughs攻撃対策のリグレッションを修正 #586</p>
</li></ul>
</li></ul>

<h3 id="label-1.6.0+%2F+2013%E5%B9%B46%E6%9C%888%E6%97%A5">1.6.0 / 2013年6月8日<span><a href="#label-1.6.0+%2F+2013%E5%B9%B46%E6%9C%888%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>本リリースは1.5.10および1.6.0.rc1を元にしているため、両リリースの改善点を含む</p>
<ul><li>
<p>廃止</p>
<ul><li>
<p>TravisのCI対象からRuby 1.8を外した</p>
</li></ul>
</li></ul>

<h3 id="label-1.6.0.rc1+%2F+2013%E5%B9%B44%E6%9C%8814%E6%97%A5">1.6.0.rc1 / 2013年4月14日<span><a href="#label-1.6.0.rc1+%2F+2013%E5%B9%B44%E6%9C%8814%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>本リリースは1.5.9を元にしているため、1.5.10の変更点は含まない</p>
<ul><li>
<p>註</p>
<ul><li>
<p>実行時依存 gem として mini_portile を追加</p>
</li><li>
<p>Ruby 1.9.2以上のみサポート</p>
</li></ul>
</li><li>
<p>機能</p>
<ul><li>
<p>(MRI) libxml 2.8.0 と libxslt 1.2.26 を同梱。 環境変数 NOKOGIRI_USE_SYSTEM_LIBRARIES
を設定しない限り、 gem のインストール時にコンパイルして使われる。 VERSION_INFO (および `nokogiri -v`) には、同梱の
libxml またはシステムの libxml のいずれが使われているかの情報が含まれる</p>
</li><li>
<p>(Windows) libxml 2.8.0 に更新</p>
</li></ul>
</li><li>
<p>廃止</p>
<ul><li>
<p>Ruby 1.8.7以下のサポートを終了</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.11+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">1.5.11 / 2013年12月14日<span><a href="#label-1.5.11+%2F+2013%E5%B9%B412%E6%9C%8814%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>Bugfixes</p>
<ul><li>
<p>(JRuby) 不正なドキュメントをパースするときにメモリ不足に陥るバグを修正</p>
</li><li>
<p>(JRuby) Billion-laughs攻撃対策のリグレッションを修正 #586</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.10+%2F+2013%E5%B9%B46%E6%9C%887%E6%97%A5">1.5.10 / 2013年6月7日<span><a href="#label-1.5.10+%2F+2013%E5%B9%B46%E6%9C%887%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグ修正</p>
<ul><li>
<p>(JRuby) JRuby 1.7.3で空のIOをパースする際の “null document” エラーを修正 #883</p>
</li><li>
<p>(JRuby) XSDにDTDのDOCTYPEがあったときのスキーマ検証の問題を修正 #912 (Patrick Chengに感謝!)</p>
</li><li>
<p>(MRI) HTMLノードに対するdefault_sub_element呼出でsegfaultしていたのを修正 #917</p>
</li></ul>
</li><li>
<p>註</p>
<ul><li>
<p>RARRAY_PTR()の代わりにrb_ary_entry()を使うように変更 (そう、Rubiniusのためにね) #877 (Dirkjan
Bussinkに感謝!)</p>
</li><li>
<p>テストでTypeErrorが起きるのを修正 #900 (Cédric Boutillierに感謝!)</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.9+%2F+2013%E5%B9%B43%E6%9C%8821%E6%97%A5">1.5.9 / 2013年3月21日<span><a href="#label-1.5.9+%2F+2013%E5%B9%B43%E6%9C%8821%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグ修正</p>
<ul><li>
<p>prefixed attributes を持つ要素が親を付け替えられたとき名前空間を適切に扱う #869</p>
</li><li>
<p>ネストされた HTML のなかの SVG 要素が持つ名前空間つき属性を参照したときの返り値が一致しないバグを修正 #861</p>
</li><li>
<p>(MRI) 部分ノードをパースしたときメモリリークするバグを修正 #856</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.8+%2F+2013%E5%B9%B43%E6%9C%8819%E6%97%A5">1.5.8 / 2013年3月19日<span><a href="#label-1.5.8+%2F+2013%E5%B9%B43%E6%9C%8819%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグ修正</p>
<ul><li>
<p>(JRuby) x<a href="href">href</a> 属性があり base_uri が無いとき、 EmptyStackException
例外が発生するのを修正 #534, #805. (ありがとう, Patrick Quinn と Brian Hoffman!)</p>
</li><li>
<p>1.5.7 から xmlns 属性が重複するバグを修正 #865</p>
</li><li>
<p><a href="Nokogiri/XML/Builder.html">Nokogiri::XML::Builder</a> を使って
prefixed 名前空間をルートノードに対しても使えるようにした。 #868</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.7+%2F+2013%E5%B9%B43%E6%9C%8818%E6%97%A5">1.5.7 / 2013年3月18日<span><a href="#label-1.5.7+%2F+2013%E5%B9%B43%E6%9C%8818%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>機能</p>
<ul><li>
<p>Ruby 2.0 で Windows 環境をサポート</p>
</li></ul>
</li><li>
<p>バグ修正</p>
<ul><li>
<p>エンコーディング名が小文字のとき SAX::Parser.parse_io が例外を投げるようになった。 #828</p>
</li><li>
<p>(JRuby) Java の <a href="Nokogiri.html">Nokogiri</a> はついに 1.8 と 1.9
両方のモードで全てのテストがグリーンになった！イェーイ！ #798, #705</p>
</li><li>
<p>(JRuby) <a href="Nokogiri/XML/Reader.html">Nokogiri::XML::Reader</a> が
jruby で壊れていたのを修正 (pull parser なのに全ての xml ドキュメントをメモリ上にロードしていた) #831</p>
</li><li>
<p>(JRuby) JRuby が “&amp;amp;” をパースすると停止してしまう #837</p>
</li><li>
<p>(JRuby) JRuby で不正な XML 命令をパースさせると NullPointerException 例外が発生する #838</p>
</li><li>
<p>(JRuby) Node#content= が JRuby と MRI で一致しない #839</p>
</li><li>
<p>(JRuby) to_xhtml が自分自身に閉じタグを表すスラッシュを含む要素を正しく表示しない #834</p>
</li><li>
<p>(JRuby) テキストノードの後ろに続くエンティティが壊れてしまう (`&amp;` や `;` が消える) #835</p>
</li><li>
<p>(JRuby) 空の attributes を参照すると nil が返る #818</p>
</li><li>
<p>“.foo” のような CSS クラス名の問い合わせ時に連続した空白を単一とみなす #854</p>
</li><li>
<p>名前空間の扱いが MRI と JRuby の間で統一された #846, #801 (ありがとう, Michael Klein!)</p>
</li><li>
<p>(MRI) SAX パーサーが空の xml 命令をパースできるようにする #845</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.6+%2F+2012%E5%B9%B412%E6%9C%8819%E6%97%A5">1.5.6 / 2012年12月19日<span><a href="#label-1.5.6+%2F+2012%E5%B9%B412%E6%9C%8819%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新機能</p>
<ul><li>
<p>XML::Document#collect_namespaces　メソッドのパフォーマンスを改善した。 #761 (ありがとう、Juergen
Mangler!)</p>
</li><li>
<p>SAX::Document#processing_instructionに新しいcallbackが追加 (ありがとう、Kitaiti Makoto!)</p>
</li><li>
<p>Node#native_content= メソッドでエスケープされていない文字列をセットできるようにした。 #768</p>
</li><li>
<p>名前空間を付けて xpath 式を書く場合に、シンボルキーを使えるようにした。#729 (ありがとう、Ben Langfeld.)</p>
</li><li>
<p>XML::Node#[]= メソッド内で受け取った引数を文字列に変換するようにした。#729 (ありがとう、Ben Langfeld.)</p>
</li><li>
<p>bin/nokogiri コマンドが $stdin からドキュメントを読んで処理できるようにした。</p>
</li><li>
<p>bin/nokogiri -e を指定することでコマンドラインプログラムを実行できるようにした。</p>
</li><li>
<p>(JRuby) bin/nokogiri –version は Xerces および NekoHTML のバージョンを表示。</p>
</li></ul>
</li><li>
<p>バグ修正</p>
<ul><li>
<p><a href="Nokogiri.html">Nokogiri</a> はこのバージョンからXSLT変換のエラーを検出するようになった。#731
(ありがとう、Justin Fitzsimmons!)</p>
</li><li>
<p>DocumentFragment のトップレベルノードを置き換えようとした際に Error を出さない。 #775</p>
</li><li>
<p>SAXパーザに不正なエンコーディングに渡された場合はArgumentErrorを投げるようにした。#756 (ありがとう、Bradley
Schaefer!)</p>
</li><li>
<p>(JRuby) XML宣言の前にスペースがあると、ドキュメントのパーズに失敗する。(#748の修正でこれもなおっている) #790</p>
</li><li>
<p>(JRuby) <a
href="Nokogiri/XML/Node.html#method-i-content">Nokogiri::XML::Node#content</a>
のJRubyの振る舞いがCRubyと同じではない。#794, #797</p>
</li><li>
<p>(JRuby) で &#39;#&#39; で始まる文字列を名前とする EntityReference を作ろうとすると
INVALID_CHARACTER_ERR という例外が発生する。 #719</p>
</li><li>
<p>(JRuby) では Nodeのサブクラスのnamespaceを正しく文字列に変換しない。 #715</p>
</li><li>
<p>(JRuby) Node#contentがこのバージョンから改行コードを正しく表示するようになった。#737 (ありがとう、Piotr
Szmielew!)</p>
</li><li>
<p>(JRuby) recover optionが指定されている場合は宣言の無い名前空間を無視するようにした。#748</p>
</li><li>
<p>(JRuby) 名前空間を検出するXPathが続けて実行されても例外を投げてはいけない。#764</p>
</li><li>
<p>(JRuby) XMLを表示(出力)する際のホワイトスペースの扱いをlibxml2バージョンとさらに同様になるようにした。#771</p>
</li><li>
<p>(JRuby) 名前空間付きの属性を含むXMLドキュメントを文字列でbuilderに追加しようとすると失敗する。#770</p>
</li><li>
<p>(JRuby) Nokogiri::XML::Document#wrapを使って生成したドキュメントに &lt;&lt; でノードを追加しようとすると</p>

<pre>undefined method `length&#39; for nil:NilClassのエラーが発生する #781</pre>
</li><li>
<p>(JRuby) 開いているファイルのデスクリプタを閉じようとすると、“bad file descriptor” が発生する。#495</p>
</li><li>
<p>(JRuby) 属性デコレータに関するJRubyとCRubyの非互換性 #785</p>
</li><li>
<p>(JRuby) DOCTYPE宣言内に内部サブセットを持たない(正しい)XMLをパースする際の問題 #547, #811</p>
</li><li>
<p>(JRuby) テキストにコロンを含むノードをパースする際の問題 #728</p>
</li><li>
<p>(JRuby) HTML文書のDOCTYPEを正しくパース #733</p>
</li><li>
<p>(JRuby) Builder で create_internal_subset を使った場合のXML出力にDOCTYPE宣言を含める #751</p>
</li><li>
<p>(JRuby) JRubyでのみ、 Builder でUTF-8テキストを text で括る必要があった #784</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.5+%2F+2012%E5%B9%B46%E6%9C%8824%E6%97%A5">1.5.5 / 2012年6月24日<span><a href="#label-1.5.5+%2F+2012%E5%B9%B46%E6%9C%8824%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>機能</p>
<ul><li>
<p>JRuby の1.9モードのサポートを大幅改善！イェイ！</p>
</li></ul>
</li><li>
<p>バグ修正</p>
<ul><li>
<p>JRuby <a href="Nokogiri.html">Nokogiri</a> の add_previous_sibling
が以前は動いていたのに今は動かない(1.5.0 -&gt; 1.5.1)。 #691 (ありがとう, John Shahid!)</p>
</li><li>
<p>JRuby バーションは URL が引数にあたえられると HTML ドキュメントを作れない。 #674 (ありがとう, John Shahid!)</p>
</li><li>
<p>JRuby バージョンは HTMLとして nil か “” が与えられると NullPointerException を投げる。 #699</p>
</li><li>
<p>JRuby 1.9 モードでエラー, uncaught throw &#39;encoding_found&#39;, が発生する。 #673</p>
</li><li>
<p>JRuby で US-ASCII にエンコードされた文字列が正しくないエンコードを返してくる。 #583</p>
</li><li>
<p>512 文字以上が与えられたときに XmlSaxPushParser が IndexOutOfBoundsException を投げる。#567,
#615</p>
</li><li>
<p>Xpath を評価した結果、空の NodeSet が帰ってくる場合に、NodeSet が持っている Document の decorate
に失敗して例外が投げられる。#514</p>
</li><li>
<p>JRuby で xpath を namespace 付きで指定した場合に、エラーが発生する。pull request #681 (ありがとう,
Piotr Szmielew)</p>
</li><li>
<p>JRuby で <a href="Nokogiri/XML/Node.html">Nokogiri::XML::Node</a>
を継承したクラスを定義すると、namespace が表示されない。 #695</p>
</li><li>
<p>JRuby で RDF::RDFXML::Writer をインスタンス化しようとすると NAMESPACE_ERR
(org.w3c.dom.DOMException) が発生する. #683</p>
</li><li>
<p>JRuby で xpath に namespaces を指定すると例外が発生する. #493</p>
</li><li>
<p>JRuby の Entity 解決は C version の <a href="Nokogiri.html">Nokogiri</a>
と同じ結果にならないといけない。#704, #647, #703</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.4+%2F+2012%E5%B9%B46%E6%9C%8812%E6%97%A5">1.5.4 / 2012年6月12日<span><a href="#label-1.5.4+%2F+2012%E5%B9%B46%E6%9C%8812%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>機能</p>
<ul><li>
<p>“nokogiri” コマンドに `–rng` オプションが与えられと、より詳しい説明を表示するようになった。 #675 (ありがとう, Dan
Radez!)</p>
</li><li>
<p>`-Werror=format-security`　CFLAGを使っている hardened な Debian 系 Linux でのビルドをサポート
#680.</p>
</li><li>
<p>pkg-config ありのシステム上でのよりよいビルドをサポート。 #584</p>
</li><li>
<p>複数の iconv がイストールされているシステムでのよりよいビルドをサポート。</p>
</li></ul>
</li><li>
<p>バグ修正</p>
<ul><li>
<p>DocumentFragment をベースにしてコメントノードを作ったときに Segmentation fault する。 #677, #678.</p>
</li><li>
<p>at() と search() メソッドで &#39;.&#39; をxpathとして扱う。 #690</p>
</li><li>
<p>(MRI, Security) XML パース時のディフォルトのオプションを nonet に変更。これにより、ディフォルトでは
ドキュメントパース時にネットワーク接続を行わないようにし、XXE 脆弱性に対応した。#693</p>

<p>パース時にネットワークに接続して外部のドキュメントを見にいかせたい場合には、以下のように `nonoet` オプションを設定する:</p>

<p><a
href="Nokogiri/XML/Document.html#method-c-parse">Nokogiri::XML::Document.parse</a>
{ |config| config.nononet }</p>

<p>ここに、自分ならではの二重否定のジョークをうめこむとなおよし。</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.3+%2F+2012%E5%B9%B46%E6%9C%881%E6%97%A5">1.5.3 / 2012年6月1日<span><a href="#label-1.5.3+%2F+2012%E5%B9%B46%E6%9C%881%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>機能</p>
<ul><li>
<p>jQuery のような “prefixless” CSS セレクタ, ~ や &gt;, + をサポート。#621, #623. (ありがとう,
David Lee!)</p>
</li><li>
<p>homebrew 0.9でのインストールを改善してみる。(iconv周り) パッケージ管理って便利じゃない？</p>
</li></ul>
</li><li>
<p>バグ修正</p>
<ul><li>
<p>カスタム xpath 関数が空の nodeset を引数に含む場合、segfault を起こす。 #634.</p>
</li><li>
<p><a href="Nokogiri/XML/Node.html#method-i-css">Nokogiri::XML::Node#css</a>
は、デフォルトの名前空間を持つXML文書に対して名前空間なしの属性セレクタをルールに含めても動作するようになった。</p>
</li><li>
<p>Marshalにおいて、XSLTのカスタムXPath関数への引数の渡し方(および戻し方)に関するバグを修正 #640.</p>
</li><li>
<p><a
href="Nokogiri/XML/Reader.html#method-i-outer_xml">Nokogiri::XML::Reader#outer_xml</a>
がJRubyで正しく動作しない #617</p>
</li><li>
<p>Nokogiri::XML::Attribute が JRuby 上で　nil namespace を返す　#647</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-namespace-3D">Nokogiri::XML::Node#namespace=</a>
メソッドが JRuby　上で prefix</p>
</li></ul>

<p>　が無い namespace を設定できない #648</p>
<ul><li>
<p>(JRuby) 1.9 モードで rake を実行するとデッドロックを引き起こす #571</p>
</li><li>
<p>HTML::Document#meta_encoding は誤った Content-Type (charset部)を含む文書で例外を起こさなくなった
#655</p>
</li><li>
<p>コンテキスト付きフラグメントのパースで非サポートのエンコーディングが原因でRuby 1.8.7がSEGVを起こすのを修正 #643</p>
</li><li>
<p>(JRuby) XPathパースにおける並行実行時の問題 #682</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.2+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">1.5.2 / 2012年3月9日<span><a href="#label-1.5.2+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>古いRuby用にgemspecを修正しての再パッケージ. #631, #632.</p>

<h3 id="label-1.5.1+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">1.5.1 / 2012年3月9日<span><a href="#label-1.5.1+%2F+2012%E5%B9%B43%E6%9C%889%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新機能</p>
<ul><li>
<p>XML::Builder#comment はコメントノードを作れるようになった.</p>
</li><li>
<p>CSSセレクター検索が名前空間付き属性に対応 #593</p>
</li><li>
<p>Java integration 機能が追加された. このバージョンから, XML::Document.wrap と
XML::Document#to_java メソッドが利用可能。</p>
</li><li>
<p>`nokogiri` CLIユーティリティがRelaxNGバリデーションに対応 #591 (thanks, Dan Radez!)</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>エンコーディング自動認識において発生しうるメモリリークを修正 Tim Elliottに感謝！</p>
</li><li>
<p>homebrew がインストールされていたら、extconf は homebrew のパスを読む。</p>
</li><li>
<p>Java版の一貫性のない挙動 #620</p>
</li><li>
<p>JRuby (1.6.4/5) で <a href="Nokogiri/XML/Node.html">Nokogiri::XML::Node</a>
を継承できなかった #560</p>
</li><li>
<p>XML::Attr ノードは子ノードとして追加できないので例外を出す #558</p>
</li><li>
<p>Node#add_next_sibling と Node#add_previous_sibling で隣接テキストノードをdupする条件を緩和
#595</p>
</li><li>
<p>Java版の一貫性のない挙動: 空の属性値をnilとして返していた #589</p>
</li><li>
<p>to_xhtml が要素が空のときに &lt;p /&gt;&lt;/p&gt; と誤ったタグを生成していた #557</p>
</li><li>
<p>Document#add_child が Node, NodeSet, DocumentFragment および String
を受け付けるようになった #546</p>
</li><li>
<p>Document#create_element が(“SOAP-ENV”のように)非単語構成文字を含む名前空間を認識するようになった. これは主に
Builder を使う際に効いてくる. Builder はほぼすべてのものに Document#create_element を適用するためである
#531</p>
</li><li>
<p>ファイルエンコーディングが効かなかった (1.5.0 / jruby / windows) #529</p>
</li><li>
<p>Java版において、&lt;html&gt;タグに含まれる名前空間定義を属性として返さなかった #542</p>
</li><li>
<p><a href="Nokogiri.html">Nokogiri</a> 1.5.0で Bad file descriptor が発生していた
#495</p>
</li><li>
<p>remove_namespace! がpure Java版で動かなかった #492</p>
</li><li>
<p>Javaネイティブ版でパースされたオブジェクトに対して ActiveSupport の .blank? メソッドを呼ぶと null pointer
exception が発生していた #489</p>
</li><li>
<p>1.5.0 で正しい文字エンコーディングが仕様されなかった #488</p>
</li><li>
<p>XML Builder に生のXML文字列を渡した際の問題 (JRuby) #486</p>
</li><li>
<p><a href="Nokogiri.html">Nokogiri</a> 1.5.0でXML生成が壊れていた (JRuby) #484</p>
</li><li>
<p>ルートノードを複数持つことを認めない #550</p>
</li><li>
<p>カスタムXPath関数を修正 #606 (Juan Wajnermanに感謝!)</p>
</li><li>
<p>Node#to_xml で :save_with が指定されている場合は上書きしないように修正 #505</p>
</li><li>
<p>Node#set をプライベートメソッドに (JRuby) #564 (Nick Siegerに感謝!)</p>
</li><li>
<p>C14nの整理と Node#canonicalize (Ivan Pirlikに感謝!) #563</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.0+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">1.5.0 / 2011年7月1日<span><a href="#label-1.5.0+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>註</p>
<ul><li>
<p>1.4.7からの変更点を参照</p>
</li></ul>
</li><li>
<p>新機能</p>
<ul><li>
<p>各文書形式用のデフォルトのNode::SaveOptionsの組合せを定数化.
(Node::SaveOptions::DEFAULT_{X,H,XH}TML)</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>JRuby版ではホワイトスペースの扱いに難があるため、XML出力（to_xml）において 自動整形をデフォルトでは行わないように変更. #415</p>
</li><li>
<p>JRuby版でNodeのないNodeSetでNullPointerExceptionが発生するのを修正. #443</p>
</li><li>
<p>エンコーディング宣言のないHTMLファイルで部分的に重複したドキュメントが生成される問題を修正した. #478</p>
</li><li>
<p>&lt;meta charset=“…”&gt; を認識するようになった.</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.0+beta3+2010%E5%B9%B412%E6%9C%882%E6%97%A5">1.5.0 beta3 2010年12月2日<span><a href="#label-1.5.0+beta3+2010%E5%B9%B412%E6%9C%882%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>註</p>
<ul><li>
<p>JRubyでの性能改善</p>
</li><li>
<p>1.4.4からの変更点を参照</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>Node#inner_textはnilを返さなくなった. (JRuby) #264</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.0+beta2+2010%E5%B9%B47%E6%9C%8830%E6%97%A5">1.5.0 beta2 2010年7月30日<span><a href="#label-1.5.0+beta2+2010%E5%B9%B47%E6%9C%8830%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>註</p>
<ul><li>
<p>1.4.3からの変更点を参照</p>
</li></ul>
</li></ul>

<h3 id="label-1.5.0+beta1+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">1.5.0 beta1 2010年5月22日<span><a href="#label-1.5.0+beta1+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>註</p>
<ul><li>
<p>新しいピュアJavaバックエンドによりJRubyサポートを追加</p>
</li></ul>
</li><li>
<p>廃止</p>
<ul><li>
<p>Ruby 1.8.6は非推奨となった. インストールできるかもしれないが、正式なサポートは終了.</p>
</li><li>
<p>LibXML 2.6.16および古いバージョンは非推奨. インストールできない.</p>
</li><li>
<p>FFIサポートは削除された.</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.7+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">1.4.7 / 2011年7月1日<span><a href="#label-1.4.7+%2F+2011%E5%B9%B47%E6%9C%881%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグの修正</p>
<ul><li>
<p>エンコーディング宣言のないHTMLファイルで部分的に重複したドキュメントが生成される問題を修正した. #478</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.6+%2F+2011%E5%B9%B46%E6%9C%8819%E6%97%A5">1.4.6 / 2011年6月19日<span><a href="#label-1.4.6+%2F+2011%E5%B9%B46%E6%9C%8819%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>ノート</p>
<ul><li>
<p>このバージョンは、1.4.5と機能的に同じです</p>
</li><li>
<p>Rubyの1.8.6のサポートが復元されている</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.5+%2F+2011%E5%B9%B45%E6%9C%8819%E6%97%A5">1.4.5 / 2011年5月19日<span><a href="#label-1.4.5+%2F+2011%E5%B9%B45%E6%9C%8819%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新機能</p>
<ul><li>
<p><a
href="Nokogiri/HTML/Document.html#method-i-title">Nokogiri::HTML::Document#title</a>
アクセサメソッドでHTML文書のタイトルを読み書きできる</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>Node#serialize とその仲間達はSaveOptionオブジェクトを受け入れる</p>
</li><li>
<p><a href="Nokogiri/CSS/Parser.html">Nokogiri::CSS::Parser</a> has-a <a
href="Nokogiri/CSS/Tokenizer.html">Nokogiri::CSS::Tokenizer</a></p>
</li><li>
<p>(JRUBY+FFIのみ) 「弱い参照」はスレッドセーフになった. #355</p>
</li><li>
<p>HTML::SAX::Parserから呼ばれるstart_element()コールバックのattributes引数はHTML::XML::Parserによるエミュレートコールバックと同じく連想配列になった.
rel. #356</p>
</li><li>
<p>HTML::SAX::Parserのparse*()メソッドはXML::SAX::Parser同様に渡されたブロックをコールバックするようになった.</p>
</li><li>
<p>HTMLパーサーのエンコーディング判定をlibxml2の仕様を超えて拡張・改善した.
(XML宣言のencodingを認識、非ASCII文字出現後のmetaタグも文字化けを生じずに反映)</p>
</li><li>
<p>Document#remove_namespaces! は名前空間付きの属性に対応した. #396</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.4+2010%E5%B9%B411%E6%9C%8815%E6%97%A5">1.4.4 2010年11月15日<span><a href="#label-1.4.4+2010%E5%B9%B411%E6%9C%8815%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新機能</p>
<ul><li>
<p>XML::Node#children=ノード内のhtml  reparented node(s)を返す事によって親の変更ができる。</p>
</li><li>
<p>XSLT はfunction extensionsをサポート。#336</p>
</li><li>
<p>XPath はパラメーター置換を結合する. #329</p>
</li><li>
<p>XML::Reader node typeを一定化させる. #369</p>
</li><li>
<p>SAX Parser context は行とコラムの両方の情報を提供する</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>XML::DTD#attributes は属性が存在しない際、nilの代わりに空のハッシュを返す</p>
</li><li>
<p>XML::DTD#{keys,each} は文字通りに機能するようになった #324</p>
</li><li>
<p>{XML,HTML}::DocumentFragment.{new,parse} 行送りと末尾の空白を除去しなくなった #319</p>
</li><li>
<p>XML::Node#{add_child,add_previous_sibling,add_next_sibling,replace}
は文字列を見送る際にNodeSetを返す</p>
</li><li>
<p>不確定タグはフレグメント内で要、不要に関係なく解析される　#315</p>
</li><li>
<p>XML::Node#{replace,add_previous_sibling,add_next_sibling}　libxmlのtext node
merging に関わるedge caseを修正する #308</p>
</li><li>
<p>xpath handler argument が整列している最中に起こるGCでのsegfaultを修正　#345</p>
</li><li>
<p>Slop decoratorが既に確定された定義と共に正常に機能させるための便宜上の処置 #330</p>
</li><li>
<p>子ノードが複製される際に起こるメモリ漏れの修正  #353</p>
</li><li>
<p>an+b記号の無使用時に発生するoff-by-oneバグとnth-last-{child,of-type} CSSセレクターの修正 #354</p>
</li><li>
<p>非名前空間属性がSAX::Document#start_elementへパスできるように修正　#356</p>
</li><li>
<p>libxml2 in-contextの解析バグの処置　 #362</p>
</li><li>
<p>フレグメント内のノードの中にあるNodeSet#wrapの修正　#331</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.3+2010%E5%B9%B47%E6%9C%8828%E6%97%A5">1.4.3 2010年7月28日<span><a href="#label-1.4.3+2010%E5%B9%B47%E6%9C%8828%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>XML::Reader#empty_element?  - 子の無いエレメントにtrueを返す　 #262</p>
</li><li>
<p>Node#remove_namespaces! - 1.4.2では 名前空間のみを取り除いていたが、 1.4.3
では名前空間及び、名前空間宣言も取り除く　#294</p>
</li><li>
<p>NodeSet#{at_xpath,at_css,&gt;} はNodeの同名メソッドと同様の動作</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>XML::NodeSet#{include?,delete,push} はXML::Namespaceを受入れる</p>
</li><li>
<p>XML::Document#parse - 1.4.3より文書内の文脈を解析する機能を追加</p>
</li><li>
<p>XML::DocumentFragment#inner_html= 文脈解析を共に実行する　#298, #281</p>
</li><li>
<p>lib/nokogiri/css/parser.y  はCSSと疑似選別の両方を機能</p>
</li><li>
<p>演算によって近隣に存在する併合型ノードへの遊離問題の有無に関わらず、一切の 弊害なしにテキストノードの繰り返しが実行可能　 #283</p>
</li><li>
<p>xmlFirstElementChild et al.による libxml2バージョンでの不適合性を修正 #303</p>
</li><li>
<p>XML::Attr#add_namespace　（！）文字通りの機能実現!　 #252</p>
</li><li>
<p>HTML::DocumentFragment が文字列に存在するエンコードを使用　#305</p>
</li><li>
<p>CSS3の間接セレクタ“E ~ F <a href="preceding-sibling::E">G”がXPathの“//F//G</a>”へと
誤変換されてしまうのを修正</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.2+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">1.4.2 2010年5月22日<span><a href="#label-1.4.2+2010%E5%B9%B45%E6%9C%8822%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新機能</p>
<ul><li>
<p>XML::Node#parse　定義されたコンテキストノードでXML 又はHTMLのフレグメント を解析する</p>
</li><li>
<p>XML::Node#namespacesが子ノードとその祖先ノード内で定義された全ての名前空間
を返すようになった（以前は祖先ノードの名前空間は返されなかった）</p>
</li><li>
<p>XML::Node内にEnumerableを追加</p>
</li><li>
<p><a
href="Nokogiri/XML/Schema.html#method-i-validate">Nokogiri::XML::Schema#validate</a>　与えられたファイル名が引き渡された時、
<a
href="Nokogiri/XML/Schema.html#method-i-validate">Nokogiri::XML::Schema#validate</a>はxmlSchemaValidateFileを使用する</p>
</li></ul>

<pre>（時間短縮化とメモリーの能率化の理由を基にファイル名での引き渡しメソッドを
 採用） GH #219</pre>
<ul><li>
<p>XML::Document#create_entnty は新規のEntityDecl のオブジェクトを生成する GH #174</p>
</li><li>
<p>JRuby FFI implementationでは、従来まで使用されたObjectSpace._id2refの代わり にCharles
Nutterのrocking   Weakling gemを使用に変更</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-first_element_child">Nokogiri::XML::Node#first_element_child</a>
は一番最初のELEMENT子ノードを返す</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-last_element_child">Nokogiri::XML::Node#last_element_child</a>
は最後のELEMENT子ノードを返す</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-elements">Nokogiri::XML::Node#elements</a>
は全てのELEMENT子ノードを返す</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-add_child">Nokogiri::XML::Node#add_child</a>,
add_previous_sibling, before, add_next_sibling, after, inner_html, swap,
replaceはNode, DocumentFragment, NodeSetおよびマークアップ文字列を受け付ける</p>
</li><li>
<p>Node#fragment? はノードがDocumentFragmentかどうかを示す</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>ドキュメント内にデコレータがある場合、XML::NodeSet は常にデコレータされる GH #198</p>
</li><li>
<p>XML::NodeSet#slice がノードセットよりも長いoffset+lengthを問題なく処理する GH #200</p>
</li><li>
<p>XML::Node#content=はノードとその直前に記述されている内容を支障なく切り離す GH  #203</p>
</li><li>
<p>XML::Node#namespace= はnilを一つのパラメーターと扱って取得する</p>
</li><li>
<p>XML::Node#xpath はNodeSetのオブジェクト以外のオブジェクトを返す　GH #208</p>
</li><li>
<p>XSLT::StyleSheet#transformはパラメーターのハッシュを受け入れる　GH #223</p>
</li><li>
<p>CSSのnot()の疑似セレクタの修正　 GH #205</p>
</li><li>
<p>XML::Builder  はノードらが切り離されても破壊しない（vihaiの協力に感謝） GH #228</p>
</li><li>
<p>SAX parser経由でエンコードを強制することが出来る　 Eugene Pimenovに感謝! GH #204</p>
</li><li>
<p>XML::DocumentFragment はML::Node#parse を使用して子を限定する</p>
</li><li>
<p>XML Reader内のメモリリーク修正　 sdorさん、ありがとう! GH#244</p>
</li><li>
<p>Node#replaceはRDocの通り新しい子ノードを返す（selfを返していた）</p>
</li></ul>
</li><li>
<p>ノート</p>
<ul><li>
<p>今日4月18日現在、Windows gems は libxml 2.7.7 とlibxslt
1.1.26にDLLsを標準装備しています。このリリース以前にも既にDLLsはlibxml 2.7.3 と libxslt
1.1.24に標準装備済み。</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.1+2009%E5%B9%B412%E6%9C%8810%E6%97%A5">1.4.1 2009年12月10日<span><a href="#label-1.4.1+2009%E5%B9%B412%E6%9C%8810%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>Nokogiri::LIBXML_ICONV_ENABLED を追加</p>
</li><li>
<p>Node#attr は Node#[] のエイリアス定義に変更</p>
</li><li>
<p>XML::Node#next_element を追加</p>
</li><li>
<p>直接の子ノードを検索するための Node#&gt; を追加</p>
</li><li>
<p>XML::NodeSet#reverse を追加</p>
</li><li>
<p>以下のfragment supportを追加</p>
</li></ul>
</li></ul>

<p>　  Node#add_child 　  Node#add_next_sibling</p>

<pre>   Node#add_previous_sibling
　 Node#replace
 * XML::Node#previous_element を追加
 * nokogiriがRubinius でサポートされるようになった
 * CSS selector の :has() が使用可能になった
 * XML::NodeSet#filter() を追加
 * XML::Node.next= は add_next_sibling の alias へ変更
 * XML::Node.previous= は add_previous_sibling の alias へ変更</pre>
<ul><li>
<p>バグの修正</p>
<ul><li>
<p>XMLのフラグメントに名前空間が存在する場合のみ、DocumentFragmentを作る際に、 例外が投げられなくなった</p>
</li><li>
<p>DocumentFragment内で子ノードが存在する場合、 Node#matches?が機能するようになった　GH #158</p>
</li><li>
<p>Documentは add_namespace()を限定すべきではないので削除GH #169</p>
</li><li>
<p>XPath クエリは名前空間の宣言を変換するがsegvではない。</p>
</li><li>
<p>Node#replace は他のドキュメントのノードが使えるようになった</p>
</li><li>
<p>XML::Document#collect_namespaces を追加</p>
</li><li>
<p>SOAP4R のアダプター内のバグ修正</p>
</li><li>
<p>XML::Node#next_element 内のバグ修正</p>
</li><li>
<p>WindowsでのJRuby の LOAD_PATH を修正 GH #160</p>
</li><li>
<p>XSLT#apply_toは “output method”の値を使用する（richardlehaneに感謝）</p>
</li><li>
<p>新しい文字列の先頭にくるテキストノードを含んだフレグメントが 正確に 解析出来るようになった　GH #178</p>
</li></ul>
</li></ul>

<h3 id="label-1.4.0+2009%E5%B9%B410%E6%9C%8830%E6%97%A5">1.4.0 2009年10月30日<span><a href="#label-1.4.0+2009%E5%B9%B410%E6%9C%8830%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>今日はノコギリの満一歳のお誕生日です</p>
</li><li>
<p>新しい機能</p>
<ul><li>
<p>Node#at_xpath はXPath式に適合するNodeSetの一番最初の要素を返す</p>
</li><li>
<p>Node#at_css はCSSセレクターに適合するNodeSetの一番最初の要素を返す</p>
</li><li>
<p>NodeSet#| はNodeSet同士を合成する　GH #119 (Serabe ありがとう！)</p>
</li><li>
<p>NodeSet#inspect の出力をより美しくした</p>
</li><li>
<p>Node#inspect の出力をよりrubyらしくした</p>
</li><li>
<p>XML::DTD#external_id を追加</p>
</li><li>
<p>XML::DTD#system_id を追加</p>
</li><li>
<p>XML::ElementContent はDTD要素のコンテンツを有効化する</p>
</li><li>
<p>Nokogiri::XML::Builder内での名前空間宣言用のサポートを改良</p>
</li><li>
<p>XML::Node#external_subsetを追加</p>
</li><li>
<p>XML::Node#create_external_subsetを追加</p>
</li><li>
<p>XML::Node#create_internal_subsetを追加</p>
</li><li>
<p>XML Builderは生成されていないstringsを付加出来る様になった (GH #141, patch from dudleyf)</p>
</li><li>
<p>XML::SAX::ParserContext を追加</p>
</li><li>
<p>XML::Document#remove_namespaces! は名前空間を使いこなせない人たち用の措置</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>HTMLドキュメントが メタエンコーディングのタグを宣言しない時、 nilを返すようになった　GH #115</p>
</li><li>
<p><a href="'PATH'">ENV</a> <a
href="'host_os'">を調節する為に、RbConfig::CONFIG</a>を使用できるように なった GH #113</p>
</li><li>
<p>NodeSet#searchが更に効率的になった　GH #119 (Serabe!に感謝します)</p>
</li><li>
<p>NodeSet#xpathがcustom xpath機能を取り扱える様になった</p>
</li><li>
<p>XML::Reader が現時点のノード用に属性を取得する際に、 SEGVを修正するようになった</p>
</li><li>
<p>Node#inner_html がNode#to_html と同じ独立変数を受け入れるようになった GH #117</p>
</li><li>
<p>DocumentFragment#css は子ノードへ委任するようになった GH #123</p>
</li><li>
<p>NodeSet#[]がNodeSet#lengthより大きいスライスでも機能するようになった GH #131</p>
</li><li>
<p>新たな親ノードの名前空間を維持出来るようになった　GH #134</p>
</li><li>
<p>XML::Document をNodeSetに追加する際のSEGVが修正された</p>
</li><li>
<p>XML::SyntaxError が複製可能になった</p>
</li></ul>
</li><li>
<p>廃棄予定</p>
<ul><li>
<p>Hpricot用の互換性レイヤーを削除</p>
</li></ul>
</li></ul>

<h3 id="label-1.3.3+%2F+2009%E5%B9%B47%E6%9C%8826%E6%97%A5">1.3.3 / 2009年7月26日<span><a href="#label-1.3.3+%2F+2009%E5%B9%B47%E6%9C%8826%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>NodeSet#children 全ての子ノードを返すようになった</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>libxml-ruby のグローバ ルエラー ハンドラー に優先するようになった</p>
</li><li>
<p>ParseOption#strict を修正</p>
</li><li>
<p>空文字列を Node#inner_html= に与えた時に生じたSEGVを修正 GH #88</p>
</li><li>
<p>Ruby 1.9 では文字列のエンコーディングをUTF-8になるようにした</p>
</li><li>
<p>ドキュメントの根ノードから違うドキュメントの根ノードに移動した時に生じた SEGVを修正 GH #91</p>
</li><li>
<p>ノードをインスタンス化する時のO(n)のペナルティーを修正 GH #101</p>
</li><li>
<p>XMLのドキュメントをHTMLのドキュメントとして出力出来るようになった</p>
</li></ul>
</li><li>
<p>廃棄予定</p>
<ul><li>
<p>Hpricotの互換性レイヤーがNokogiriの1.4.0で除去される予定</p>
</li></ul>
</li></ul>

<h3 id="label-1.3.2+%2F+2009%E5%B9%B46%E6%9C%8822%E6%97%A5">1.3.2 / 2009年6月22日<span><a href="#label-1.3.2+%2F+2009%E5%B9%B46%E6%9C%8822%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p><a
href="Nokogiri/XML/DTD.html#method-i-validate">Nokogiri::XML::DTD#validate</a>
はドキュメントを検証できるようになった</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p><a
href="Nokogiri/XML/NodeSet.html#method-i-search">Nokogiri::XML::NodeSet#search</a>
はトップレベルのノードを検索するようになった GH #73</p>
</li><li>
<p>Nokogiri::XML::Documentからメソッドに関係する名前空間を取り除いた</p>
</li><li>
<p>2回同じ名前空間が追加されたときSEGVする問題を修正した</p>
</li><li>
<p>Snow Leopard で <a href="Nokogiri.html">Nokogiri</a> が動くようになった GH #79</p>
</li><li>
<p>メーリングリストはGoogle Groupsの以下のURLに移動した <a
href="http://groups.google.com/group/nokogiri-talk">groups.google.com/group/nokogiri-talk</a></p>
</li><li>
<p>HTML フラグメントはコメントとCDATAを正確に扱うようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Document.html#method-i-clone">Nokogiri::XML::Document#clone</a>はdupのaliasになった</p>
</li></ul>
</li><li>
<p>廃棄予定</p>
<ul><li>
<p>Nokogiri::XML::SAX::Document#start_element_nsは廃棄予定なので <a
href="Nokogiri/XML/SAX/Document.html#method-i-start_element_namespace">Nokogiri::XML::SAX::Document#start_element_namespace</a>を代わりに使用して下さい</p>
</li><li>
<p>Nokogiri::XML::SAX::Document#end_element_nsは廃棄予定なので <a
href="Nokogiri/XML/SAX/Document.html#method-i-end_element_namespace">Nokogiri::XML::SAX::Document#end_element_namespace</a>を代わりに使用して下さい</p>
</li></ul>
</li></ul>

<h3 id="label-1.3.1+%2F+2009%E5%B9%B46%E6%9C%887%E6%97%A5">1.3.1 / 2009年6月7日<span><a href="#label-1.3.1+%2F+2009%E5%B9%B46%E6%9C%887%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグの修正</p>
<ul><li>
<p>extconf.rb は任意のRelaxNGとSchemaの機能を探すようになった</p>
</li><li>
<p>ドキュメントのノードキャッシュに名前空間のノードが入るようになった</p>
</li></ul>
</li></ul>

<h3 id="label-1.3.0+%2F+2009%E5%B9%B45%E6%9C%8830%E6%97%A5">1.3.0 / 2009年5月30日<span><a href="#label-1.3.0+%2F+2009%E5%B9%B45%E6%9C%8830%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>Builderがブロックの引数の数に応じてスコープが定まるようになった</p>
</li><li>
<p>Builderがアンダースコアで終わるメソッドをtagzと同様にサポートするようになった</p>
</li><li>
<p>Nokogiri::XML::Node#&lt;=&gt; がドキュメントの位置によりノードを比較するように なった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-matches-3F">Nokogiri::XML::Node#matches?</a>が与えられたセレクタ内でノードがあればtrue
を返すようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-ancestors">Nokogiri::XML::Node#ancestors</a>
がNokogiri::XML::NodeSetオブジェクトを返すようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-ancestors">Nokogiri::XML::Node#ancestors</a>がオプションのセレクタに対応する親をマッチする
ようになった</p>
</li><li>
<p><a
href="Nokogiri/HTML/Document.html#method-i-meta_encoding">Nokogiri::HTML::Document#meta_encoding</a>
がメタデータのエンコードを返すように なった</p>
</li><li>
<p><a
href="Nokogiri/HTML/Document.html#method-i-meta_encoding-3D">Nokogiri::HTML::Document#meta_encoding=</a>
でメタデータのエンコードを 設定できるようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Document.html#method-i-encoding-3D">Nokogiri::XML::Document#encoding=</a>
でドキュメントのエンコードを 設定できるようになった</p>
</li><li>
<p><a href="Nokogiri/XML/Schema.html">Nokogiri::XML::Schema</a>
でドキュメントがXSDのスキーマに沿って記述されているか を検証できるようになった</p>
</li><li>
<p><a href="Nokogiri/XML/RelaxNG.html">Nokogiri::XML::RelaxNG</a>
でドキュメントがRelaxNGのスキーマに沿って 記述されているかを検証できるようになった</p>
</li><li>
<p><a
href="Nokogiri/HTML/ElementDescription.html">Nokogiri::HTML::ElementDescription</a>
はHTML要素の説明フェッチ動作するよう になった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-description">Nokogiri::XML::Node#description</a>は
ノードの説明をフェッチ動作するよう になった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-accept">Nokogiri::XML::Node#accept</a>
は Visitor パターンを実行するようになった</p>
</li><li>
<p>簡単にドキュメントを解析するコマンド bin/nokogiri を追加 (Yataka HARAさんに感謝感激)</p>
</li><li>
<p>Nokogiri::XML::NodeSetが更にArrayとEnumerableの演算を サポートするようになった:</p>

<pre>index, delete, slice, - (差分), + (連結), &amp; (共通部分),
push, pop, shift, ==</pre>
</li><li>
<p><a href="Nokogiri.html">Nokogiri</a>.XML, <a
href="Nokogiri.html">Nokogiri</a>.HTML はNokogiri::XML::ParseOptions
objectと一緒に 呼び出されるブロックを受け入れるようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-namespace">Nokogiri::XML::Node#namespace</a>
は Nokogiri::XML::Namespaceを返すようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-namespace">Nokogiri::XML::Node#namespace</a>はノードの名前空間を設定するようになった</p>
</li><li>
<p>FFI 経由で JRuby 1.3.0 をサポートするようになった</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>nilがCDATAsonstructorに渡される際の問題を修正</p>
</li><li>
<p>Fragment メソッドが正規表現を抜け出させるようになった (Joelさんに感謝感激) (LH #73)</p>
</li><li>
<p>Builder スコープのLH #61, LH #74, LH #70に関しての様々な問題を修正</p>
</li><li>
<p>名前空間を付け加える時、名前空間が LH#78より除去されてしまう問題を修正</p>
</li><li>
<p>連結しないノードが発生し、再育成してしまう問題を修正(GH#22)</p>
</li><li>
<p>XSLT が解析中にエラーを発見し損なう問題を修正(GH#32)</p>
</li><li>
<p>CSS selectors内での条件属性のバグ問題を修正(GH#36)</p>
</li><li>
<p>Node#before/after/inner_html=で値なしのHTML属性が受け入れられなかった問題を 修正　(GH#35)</p>
</li></ul>
</li></ul>

<h3 id="label-1.2.3+%2F+2009%E5%B9%B43%E6%9C%8822%E6%97%A5">1.2.3 / 2009年3月22日<span><a href="#label-1.2.3+%2F+2009%E5%B9%B43%E6%9C%8822%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグの修正</p>
<ul><li>
<p>Node#new 内にて、バグを修正する</p>
</li><li>
<p>DocumentFragmentの作成時、名前空間に割り当てる LH #66</p>
</li><li>
<p><a
href="Nokogiri/XML/NodeSet.html#method-i-dup">Nokogiri::XML::NodeSet#dup</a>
は機能するようになった GH #10</p>
</li><li>
<p>Nokogiri::HTMLは文字列がブランクの時、空のドキュメントで返す GH#11</p>
</li><li>
<p>子ノードを付加する事で、重複した名前空間の宣言を取り除く LH#67</p>
</li><li>
<p>ビルダ方法はハッシュを第二引数とする</p>
</li></ul>
</li></ul>

<h3 id="label-1.2.2+%2F+2009%E5%B9%B43%E6%9C%8814%E6%97%A5">1.2.2 / 2009年3月14日<span><a href="#label-1.2.2+%2F+2009%E5%B9%B43%E6%9C%8814%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p><a href="Nokogiri.html">Nokogiri</a> は soap4r
と一緒に使う事が可能。(XSD::XMLParser::Nokogiri 参照)</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-inner_html-3D">Nokogiri::XML::Node#inner_html=</a>
はノードの中のHTMLをセット出来る</p>
</li><li>
<p>NokogiriのBuilderのインタフェースの改良</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-swap">Nokogiri::XML::Node#swap</a>　は、現在のノードに新しいhtmlを交換する事が出来る</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>BuilderAPIのタグのネスティングを修正 (LH #41)</p>
</li><li>
<p>Nokogiri::HTML.fragment はテキストだけのノードを適切に扱う事が出来る(LH #43)</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-before">Nokogiri::XML::Node#before</a>
はテキストノードのはじめに挿入する事が出来る (LH #44)</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-after">Nokogiri::XML::Node#after</a>
はテキストノードの文末に挿入する事が出来る</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-search">Nokogiri::XML::Node#search</a>
名前空間が自動的に登録されるようになった(LH#42)</p>
</li><li>
<p><a
href="Nokogiri/XML/NodeSet.html#method-i-search">Nokogiri::XML::NodeSet#search</a>
名前空間が自動的に登録されるようになった</p>
</li><li>
<p>Nokogiri::HTML::NamedCharacters はlibxml2に委任</p>
</li><li>
<p><a href="Nokogiri/XML/Node.html#method-i-5B-5D">Nokogiri::XML::Node#[]</a>
はSymbolを使う (LH #48)</p>
</li><li>
<p>vasprintf にwindowsを修正 (Geffroy Couprie ありがとう！)</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-5B-5D-3D">Nokogiri::XML::Node#[]=</a>
はentityを符号化しない (LH #55)</p>
</li><li>
<p>名前空間はreparentedのノードに模写する (LH #56)</p>
</li><li>
<p>StringのエンコードはRuby 1.9での初期設定を使用する</p>
</li><li>
<p>Document#dup は新しいドキュメントに同じタイプを作る (LH #59)</p>
</li><li>
<p>Document#parent は存在しない (LH #64)</p>
</li></ul>
</li></ul>

<h3 id="label-1.2.1+%2F+2009%E5%B9%B42%E6%9C%8823%E6%97%A5">1.2.1 / 2009年2月23日<span><a href="#label-1.2.1+%2F+2009%E5%B9%B42%E6%9C%8823%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>修正</p>
<ul><li>
<p>CSS のセレクターのスペースを修正</p>
</li><li>
<p>Ruby 1.9 のStringのエンコードを修正 （角谷さんに感謝！）</p>
</li></ul>
</li></ul>

<h3 id="label-1.2.0+%2F+2009%E5%B9%B42%E6%9C%8822%E6%97%A5">1.2.0 / 2009年2月22日<span><a href="#label-1.2.0+%2F+2009%E5%B9%B42%E6%9C%8822%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>CSSサーチが CSS3 名前空間クエリをサポートするようになった</p>
</li><li>
<p>ルート要素での名前空間が自動的に登録されるようになった</p>
</li><li>
<p>CSS クエリが初期設定の名前空間を使うようになった</p>
</li><li>
<p><a
href="Nokogiri/XML/Document.html#method-i-encoding">Nokogiri::XML::Document#encoding</a>
で文書にエンコードを使用、受け取る</p>
</li><li>
<p><a
href="Nokogiri/XML/Document.html#method-i-url">Nokogiri::XML::Document#url</a>
で文書のURLを受け取る</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-each">Nokogiri::XML::Node#each</a>　はname属性、値を一組にし反復適用する</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-keys">Nokogiri::XML::Node#keys</a>　はすべてのname属性を受け取る</p>
</li><li>
<p><a href="Nokogiri/XML/Node.html#method-i-line">Nokogiri::XML::Node#line</a>
は行番号をノード用に受け取る (Dirkjan Bussinkさんに感謝感激)</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-serialize">Nokogiri::XML::Node#serialize</a>
は任意されたencodingパラメーターを受け入れる</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-to_html">Nokogiri::XML::Node#to_html</a>,
to_xml, と to_xhtml は任意されたencodingパラメーターを受け入れる</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-to_str">Nokogiri::XML::Node#to_str</a></p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-to_xhtml">Nokogiri::XML::Node#to_xhtml</a>
でXHTML文書を生成する</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-values">Nokogiri::XML::Node#values</a>
が全ての属性値を受け入れる</p>
</li><li>
<p><a
href="Nokogiri/XML/Node.html#method-i-write_to">Nokogiri::XML::Node#write_to</a>
は任意されたencodingで要素をIOオブジェクトへ書く</p>
</li><li>
<p>Nokogiri::XML::ProcessingInstrunction.new</p>
</li><li>
<p><a
href="Nokogiri/XML/SAX/PushParser.html">Nokogiri::XML::SAX::PushParser</a>
は全てのプッシュパースに必要な解析をする</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p><a
href="Nokogiri/XML/Document.html#method-i-dup">Nokogiri::XML::Document#dup</a>
を修正</p>
</li><li>
<p>ヘッダ検知を修正. 謝々るびきちさん！</p>
</li><li>
<p>無効なCSS内にて解析機能を動かなくさせる原因を修正</p>
</li></ul>
</li><li>
<p>廃棄予定</p>
<ul><li>
<p>Nokogiri::XML::Node.new_from_str は1.3.0にて廃棄予定</p>
</li></ul>
</li><li>
<p>APIの変更</p>
<ul><li>
<p>Nokogiri::HTML.fragment は XML::DocumentFragment (LH #32)で返す</p>
</li></ul>
</li></ul>

<h3 id="label-1.1.1">1.1.1<span><a href="#label-1.1.1">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>XML::Node#elem? を追加</p>
</li><li>
<p>XML::Node#attribute_nodes を追加</p>
</li><li>
<p>XML::Attr を追加</p>
</li><li>
<p>XML::Node#delete を追加</p>
</li><li>
<p>XML::NodeSet#inner_html を追加</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>HTML のノードに r のエンティティを含めない</p>
</li><li>
<p>CSS::SelectorHandler と XML::XPathHandler を除去</p>
</li><li>
<p>XML::Node#attributes が Attr node を値として返す</p>
</li><li>
<p>XML::NodeSet が to_xml を実装</p>
</li></ul>
</li></ul>

<h3 id="label-1.1.0">1.1.0<span><a href="#label-1.1.0">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>新しい機能</p>
<ul><li>
<p>カスタム XPath 機能を追加。（ <a
href="Nokogiri/XML/Node.html#method-i-xpath">Nokogiri::XML::Node#xpath</a>
参照 ）</p>
</li><li>
<p>カスタム CSS 擬似クラスと機能を追加。（ <a
href="Nokogiri/XML/Node.html#method-i-css">Nokogiri::XML::Node#css</a> 参照 ）</p>
</li><li>
<p><a href="Nokogiri/XML/Node.html#method-i-3C-3C">Nokogiri::XML::Node#<<</a>
が作成中に子ノードを自動追加</p>
</li></ul>
</li><li>
<p>バグの修正</p>
<ul><li>
<p>mutex が CSS のキャッシュのアクセスをロックする</p>
</li><li>
<p>GCC 3.3.5 のビルドに関する問題を修正</p>
</li><li>
<p>XML::Node#to_xml が引数indentationを取る</p>
</li><li>
<p>XML::Node#dup が引数任意のdepthを取る</p>
</li><li>
<p>XML::Node#add_previous_sibling が新しい兄弟ノードで返す</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.7">1.0.7<span><a href="#label-1.0.7">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグの修正</p>
<ul><li>
<p>Dike 使用時中のメモリーリークの修正</p>
</li><li>
<p>SAX パーサーが IO Stream を逐次解析</p>
</li><li>
<p>コメント nodes が独自のクラスを継承する</p>
</li><li>
<p>Nokogiri() は <a href="Nokogiri.html#method-i-parse">Nokogiri#parse</a>
へデリゲートする</p>
</li><li>
<p><a href="'PATH'">ENV</a> に付加する代わりに先頭へ挿入する (Windows)</p>
</li><li>
<p>複雑な CSS 内のバグを修正完了 :not selector ではありません</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.6">1.0.6<span><a href="#label-1.0.6">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>5つの修正</p>
<ul><li>
<p>XPath のパーサーが SyntaxError を生じさせ解析停止させる</p>
</li><li>
<p>CSS のパーサーが SyntaxError を生じさせ解析停止させる</p>
</li><li>
<p>filter() と not() hpricot の互換性を追加</p>
</li><li>
<p>CSS が Node#search 経由で検索し、常時対応する事が出来るようになった</p>
</li><li>
<p>CSS より XPath 変換がキャッシュに入れられるようになった</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.5">1.0.5<span><a href="#label-1.0.5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグフィックス</p>
<ul><li>
<p>メーリングリストを作成</p>
</li><li>
<p>バグファイルを作成</p>
</li><li>
<p>Windows 内で <a href="'PATH'">ENV</a> が存在しない場合でも、存在出来るように設定完了</p>
</li><li>
<p>Document 内の NodeSet#[] の結果をキャッシュする</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.4">1.0.4<span><a href="#label-1.0.4">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>バグフィックス</p>
<ul><li>
<p>弱参照からドキュメント参照へのメモリー管理の変換</p>
</li><li>
<p>メモリリークに接続</p>
</li><li>
<p>Builderブロックが取り囲んでいるコンテキストから メソッドの呼び出しをする事が出来る</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.3">1.0.3<span><a href="#label-1.0.3">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>5つのバグ修正</p>
<ul><li>
<p>NodeSet が to_ary を実装</p>
</li><li>
<p>XML::Document#parent を除去</p>
</li><li>
<p>GCバグ修正済み (Mike は最高！)</p>
</li><li>
<p>1.8.5互換性の為の RARRAY_LEN 除去</p>
</li><li>
<p>inner_html 修正済み (Yahuda に感謝)</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.2">1.0.2<span><a href="#label-1.0.2">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>1つのバグ修正</p>
<ul><li>
<p>extconf.rb は frex や racc の存在をチェックすべきでない</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.1">1.0.1<span><a href="#label-1.0.1">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>1つのバグ修正</p>
<ul><li>
<p>extconf.rb が libdir や prefix を検索しない事を確認済み それによって、ports libxml/ruby
が正しくリンクする (lucsky に感謝!)</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.0+%2F+2008%E5%B9%B407%E6%9C%8813%E6%97%A5">1.0.0 / 2008年07月13日<span><a href="#label-1.0.0+%2F+2008%E5%B9%B407%E6%9C%8813%E6%97%A5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<ul><li>
<p>1つの偉大な増進</p>
<ul><li>
<p>ご誕生である</p>
</li></ul>
</li></ul>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

