<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>contributing_to_ruby_on_rails - rails-4.1.8 Documentation</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Contributing+to+Ruby+on+Rails">Contributing to Ruby on Rails</a>
    <li><a href="#label-Reporting+an+Issue">Reporting an Issue</a>
    <li><a href="#label-Creating+a+Bug+Report">Creating a Bug Report</a>
    <li><a href="#label-Create+a+Self-Contained+gist+for+Active+Record+and+Action+Controller+Issues">Create a Self-Contained gist for Active Record and Action Controller Issues</a>
    <li><a href="#label-Special+Treatment+for+Security+Issues">Special Treatment for Security Issues</a>
    <li><a href="#label-What+about+Feature+Requests%3F">What about Feature Requests?</a>
    <li><a href="#label-Setting+Up+a+Development+Environment">Setting Up a Development Environment</a>
    <li><a href="#label-The+Easy+Way">The Easy Way</a>
    <li><a href="#label-The+Hard+Way">The Hard Way</a>
    <li><a href="#label-Running+an+Application+Against+Your+Local+Branch">Running an Application Against Your Local Branch</a>
    <li><a href="#label-Testing+Active+Record">Testing Active Record</a>
    <li><a href="#label-Warnings">Warnings</a>
    <li><a href="#label-Older+Versions+of+Ruby+on+Rails">Older Versions of Ruby on Rails</a>
    <li><a href="#label-Helping+to+Resolve+Existing+Issues">Helping to Resolve Existing Issues</a>
    <li><a href="#label-Verifying+Bug+Reports">Verifying Bug Reports</a>
    <li><a href="#label-Testing+Patches">Testing Patches</a>
    <li><a href="#label-Contributing+to+the+Rails+Documentation">Contributing to the Rails Documentation</a>
    <li><a href="#label-Contributing+to+the+Rails+Code">Contributing to the Rails Code</a>
    <li><a href="#label-Clone+the+Rails+Repository">Clone the Rails Repository</a>
    <li><a href="#label-Write+Your+Code">Write Your Code</a>
    <li><a href="#label-Follow+the+Coding+Conventions">Follow the Coding Conventions</a>
    <li><a href="#label-Updating+the+CHANGELOG">Updating the CHANGELOG</a>
    <li><a href="#label-Sanity+Check">Sanity Check</a>
    <li><a href="#label-Commit+Your+Changes">Commit Your Changes</a>
    <li><a href="#label-Update+Your+Branch">Update Your Branch</a>
    <li><a href="#label-Fork">Fork</a>
    <li><a href="#label-Issue+a+Pull+Request">Issue a Pull Request</a>
    <li><a href="#label-Get+some+Feedback">Get some Feedback</a>
    <li><a href="#label-Iterate+as+Necessary">Iterate as Necessary</a>
    <li><a href="#label-Squashing+commits">Squashing commits</a>
    <li><a href="#label-Backporting">Backporting</a>
    <li><a href="#label-Rails+Contributors">Rails Contributors</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../README_md.html">README</a>
  
    <li><a href="../../guides/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../guides/Rakefile.html">Rakefile</a>
  
    <li><a href="../../guides/assets/images/icons/README.html">README</a>
  
    <li><a href="../../guides/assets/javascripts/guides_js.html">guides.js</a>
  
    <li><a href="../../guides/assets/javascripts/jquery_min_js.html">jquery.min.js</a>
  
    <li><a href="../../guides/assets/javascripts/responsive-tables_js.html">responsive-tables.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushAS3_js.html">shBrushAS3.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushAppleScript_js.html">shBrushAppleScript.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushBash_js.html">shBrushBash.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushCSharp_js.html">shBrushCSharp.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushColdFusion_js.html">shBrushColdFusion.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushCpp_js.html">shBrushCpp.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushCss_js.html">shBrushCss.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushDelphi_js.html">shBrushDelphi.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushDiff_js.html">shBrushDiff.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushErlang_js.html">shBrushErlang.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushGroovy_js.html">shBrushGroovy.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushJScript_js.html">shBrushJScript.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushJava_js.html">shBrushJava.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushJavaFX_js.html">shBrushJavaFX.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushPerl_js.html">shBrushPerl.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushPhp_js.html">shBrushPhp.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushPlain_js.html">shBrushPlain.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushPowerShell_js.html">shBrushPowerShell.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushPython_js.html">shBrushPython.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushRuby_js.html">shBrushRuby.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushSass_js.html">shBrushSass.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushScala_js.html">shBrushScala.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushSql_js.html">shBrushSql.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushVb_js.html">shBrushVb.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shBrushXml_js.html">shBrushXml.js</a>
  
    <li><a href="../../guides/assets/javascripts/syntaxhighlighter/shCore_js.html">shCore.js</a>
  
    <li><a href="../../guides/assets/stylesheets/fixes_css.html">fixes.css</a>
  
    <li><a href="../../guides/assets/stylesheets/kindle_css.html">kindle.css</a>
  
    <li><a href="../../guides/assets/stylesheets/main_css.html">main.css</a>
  
    <li><a href="../../guides/assets/stylesheets/print_css.html">print.css</a>
  
    <li><a href="../../guides/assets/stylesheets/reset_css.html">reset.css</a>
  
    <li><a href="../../guides/assets/stylesheets/responsive-tables_css.html">responsive-tables.css</a>
  
    <li><a href="../../guides/assets/stylesheets/style_css.html">style.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCore_css.html">shCore.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreDefault_css.html">shCoreDefault.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreDjango_css.html">shCoreDjango.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreEclipse_css.html">shCoreEclipse.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreEmacs_css.html">shCoreEmacs.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreFadeToGrey_css.html">shCoreFadeToGrey.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreMDUltra_css.html">shCoreMDUltra.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreMidnight_css.html">shCoreMidnight.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shCoreRDark_css.html">shCoreRDark.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeDefault_css.html">shThemeDefault.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeDjango_css.html">shThemeDjango.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeEclipse_css.html">shThemeEclipse.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeEmacs_css.html">shThemeEmacs.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeFadeToGrey_css.html">shThemeFadeToGrey.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeMDUltra_css.html">shThemeMDUltra.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeMidnight_css.html">shThemeMidnight.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeRDark_css.html">shThemeRDark.css</a>
  
    <li><a href="../../guides/assets/stylesheets/syntaxhighlighter/shThemeRailsGuides_css.html">shThemeRailsGuides.css</a>
  
    <li><a href="../../guides/code/getting_started/Gemfile.html">Gemfile</a>
  
    <li><a href="../../guides/code/getting_started/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../guides/code/getting_started/README_rdoc.html">README</a>
  
    <li><a href="../../guides/code/getting_started/Rakefile.html">Rakefile</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/javascripts/comments_js_coffee.html">comments.js.coffee</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/javascripts/posts_js_coffee.html">posts.js.coffee</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/javascripts/welcome_js_coffee.html">welcome.js.coffee</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/stylesheets/application_css.html">application.css</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/stylesheets/comments_css_scss.html">comments.css.scss</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/stylesheets/posts_css_scss.html">posts.css.scss</a>
  
    <li><a href="../../guides/code/getting_started/app/assets/stylesheets/welcome_css_scss.html">welcome.css.scss</a>
  
    <li><a href="../../guides/code/getting_started/config_ru.html">config.ru</a>
  
    <li><a href="../../guides/code/getting_started/public/404_html.html">404.html</a>
  
    <li><a href="../../guides/code/getting_started/public/422_html.html">422.html</a>
  
    <li><a href="../../guides/code/getting_started/public/500_html.html">500.html</a>
  
    <li><a href="../../guides/code/getting_started/public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../guides/code/getting_started/public/robots_txt.html">robots</a>
  
    <li><a href="../../guides/source/2_2_release_notes_md.html">2_2_release_notes</a>
  
    <li><a href="../../guides/source/2_3_release_notes_md.html">2_3_release_notes</a>
  
    <li><a href="../../guides/source/3_0_release_notes_md.html">3_0_release_notes</a>
  
    <li><a href="../../guides/source/3_1_release_notes_md.html">3_1_release_notes</a>
  
    <li><a href="../../guides/source/3_2_release_notes_md.html">3_2_release_notes</a>
  
    <li><a href="../../guides/source/4_0_release_notes_md.html">4_0_release_notes</a>
  
    <li><a href="../../guides/source/4_1_release_notes_md.html">4_1_release_notes</a>
  
    <li><a href="../../guides/source/action_controller_overview_md.html">action_controller_overview</a>
  
    <li><a href="../../guides/source/action_mailer_basics_md.html">action_mailer_basics</a>
  
    <li><a href="../../guides/source/action_view_overview_md.html">action_view_overview</a>
  
    <li><a href="../../guides/source/active_model_basics_md.html">active_model_basics</a>
  
    <li><a href="../../guides/source/active_record_basics_md.html">active_record_basics</a>
  
    <li><a href="../../guides/source/active_record_callbacks_md.html">active_record_callbacks</a>
  
    <li><a href="../../guides/source/active_record_querying_md.html">active_record_querying</a>
  
    <li><a href="../../guides/source/active_record_validations_md.html">active_record_validations</a>
  
    <li><a href="../../guides/source/active_support_core_extensions_md.html">active_support_core_extensions</a>
  
    <li><a href="../../guides/source/active_support_instrumentation_md.html">active_support_instrumentation</a>
  
    <li><a href="../../guides/source/api_documentation_guidelines_md.html">api_documentation_guidelines</a>
  
    <li><a href="../../guides/source/asset_pipeline_md.html">asset_pipeline</a>
  
    <li><a href="../../guides/source/association_basics_md.html">association_basics</a>
  
    <li><a href="../../guides/source/caching_with_rails_md.html">caching_with_rails</a>
  
    <li><a href="../../guides/source/command_line_md.html">command_line</a>
  
    <li><a href="../../guides/source/configuring_md.html">configuring</a>
  
    <li><a href="../../guides/source/contributing_to_ruby_on_rails_md.html">contributing_to_ruby_on_rails</a>
  
    <li><a href="../../guides/source/debugging_rails_applications_md.html">debugging_rails_applications</a>
  
    <li><a href="../../guides/source/development_dependencies_install_md.html">development_dependencies_install</a>
  
    <li><a href="../../guides/source/documents_yaml.html">documents.yaml</a>
  
    <li><a href="../../guides/source/engines_md.html">engines</a>
  
    <li><a href="../../guides/source/form_helpers_md.html">form_helpers</a>
  
    <li><a href="../../guides/source/generators_md.html">generators</a>
  
    <li><a href="../../guides/source/getting_started_md.html">getting_started</a>
  
    <li><a href="../../guides/source/i18n_md.html">i18n</a>
  
    <li><a href="../../guides/source/initialization_md.html">initialization</a>
  
    <li><a href="../../guides/source/layouts_and_rendering_md.html">layouts_and_rendering</a>
  
    <li><a href="../../guides/source/maintenance_policy_md.html">maintenance_policy</a>
  
    <li><a href="../../guides/source/migrations_md.html">migrations</a>
  
    <li><a href="../../guides/source/nested_model_forms_md.html">nested_model_forms</a>
  
    <li><a href="../../guides/source/plugins_md.html">plugins</a>
  
    <li><a href="../../guides/source/rails_application_templates_md.html">rails_application_templates</a>
  
    <li><a href="../../guides/source/rails_on_rack_md.html">rails_on_rack</a>
  
    <li><a href="../../guides/source/routing_md.html">routing</a>
  
    <li><a href="../../guides/source/ruby_on_rails_guides_guidelines_md.html">ruby_on_rails_guides_guidelines</a>
  
    <li><a href="../../guides/source/security_md.html">security</a>
  
    <li><a href="../../guides/source/testing_md.html">testing</a>
  
    <li><a href="../../guides/source/upgrading_ruby_on_rails_md.html">upgrading_ruby_on_rails</a>
  
    <li><a href="../../guides/source/working_with_javascript_in_rails_md.html">working_with_javascript_in_rails</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page guides/source/contributing_to_ruby_on_rails.md">

<h1 id="label-Contributing+to+Ruby+on+Rails">Contributing to Ruby on Rails<span><a href="#label-Contributing+to+Ruby+on+Rails">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>This guide covers ways in which <em>you</em> can become a part of the
ongoing development of Ruby on Rails.</p>

<p>After reading this guide, you will know:</p>
<ul><li>
<p>How to use GitHub to report issues.</p>
</li><li>
<p>How to clone master and run the test suite.</p>
</li><li>
<p>How to help resolve existing issues.</p>
</li><li>
<p>How to contribute to the Ruby on Rails documentation.</p>
</li><li>
<p>How to contribute to the Ruby on Rails code.</p>
</li></ul>

<p>Ruby on Rails is not “someone else&#39;s framework.” Over the years,
hundreds of people have contributed to Ruby on Rails ranging from a single
character to massive architectural changes or significant documentation -
all with the goal of making Ruby on Rails better for everyone. Even if you
don&#39;t feel up to writing code or documentation yet, there are a variety
of other ways that you can contribute, from reporting issues to testing
patches.</p>
<hr>

<h2 id="label-Reporting+an+Issue">Reporting an Issue<span><a href="#label-Reporting+an+Issue">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Ruby on Rails uses <a href="https://github.com/rails/rails/issues">GitHub
Issue Tracking</a> to track issues (primarily bugs and contributions of new
code). If you&#39;ve found a bug in Ruby on Rails, this is the place to
start. You&#39;ll need to create a (free) GitHub account in order to submit
an issue, to comment on them or to create pull requests.</p>

<p>NOTE: Bugs in the most recent released version of Ruby on Rails are likely
to get the most attention. Also, the Rails core team is always interested
in feedback from those who can take the time to test <em>edge Rails</em>
(the code for the version of Rails that is currently under development).
Later in this guide you&#39;ll find out how to get edge Rails for testing.</p>

<h3 id="label-Creating+a+Bug+Report">Creating a Bug Report<span><a href="#label-Creating+a+Bug+Report">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>If you&#39;ve found a problem in Ruby on Rails which is not a security
risk, do a search in GitHub under <a
href="https://github.com/rails/rails/issues">Issues</a> in case it was
already reported. If you find no issue addressing it you can <a
href="https://github.com/rails/rails/issues/new">add a new one</a>. (See
the next section for reporting security issues.)</p>

<p>At the minimum, your issue report needs a title and descriptive text. But
that&#39;s only a minimum. You should include as much relevant information
as possible. You need at least to post the code sample that has the issue.
Even better is to include a unit test that shows how the expected behavior
is not occurring. Your goal should be to make it easy for yourself - and
others - to replicate the bug and figure out a fix.</p>

<p>Then, don&#39;t get your hopes up! Unless you have a “Code Red, Mission
Critical, the World is Coming to an End” kind of bug, you&#39;re creating
this issue report in the hope that others with the same problem will be
able to collaborate with you on solving it. Do not expect that the issue
report will automatically see any activity or that others will jump to fix
it. Creating an issue like this is mostly to help yourself start on the
path of fixing the problem and for others to confirm it with an “I&#39;m
having this problem too” comment.</p>

<h3 id="label-Create+a+Self-Contained+gist+for+Active+Record+and+Action+Controller+Issues">Create a Self-Contained gist for Active Record and Action Controller Issues<span><a href="#label-Create+a+Self-Contained+gist+for+Active+Record+and+Action+Controller+Issues">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>If you are filing a bug report, please use <a
href="https://github.com/rails/rails/blob/master/guides/bug_report_templates/active_record_gem.rb">Active
Record template for gems</a> or <a
href="https://github.com/rails/rails/blob/master/guides/bug_report_templates/action_controller_gem.rb">Action
Controller template for gems</a> if the bug is found in a published gem,
and <a
href="https://github.com/rails/rails/blob/master/guides/bug_report_templates/active_record_master.rb">Active
Record template for master</a> or <a
href="https://github.com/rails/rails/blob/master/guides/bug_report_templates/action_controller_master.rb">Action
Controller template for master</a> if the bug happens in the master branch.</p>

<h3 id="label-Special+Treatment+for+Security+Issues">Special Treatment for Security Issues<span><a href="#label-Special+Treatment+for+Security+Issues">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>WARNING: Please do not report security vulnerabilities with public GitHub
issue reports. The <a href="http://rubyonrails.org/security">Rails security
policy page</a> details the procedure to follow for security issues.</p>

<h3 id="label-What+about+Feature+Requests%3F">What about Feature Requests?<span><a href="#label-What+about+Feature+Requests%3F">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Please don&#39;t put “feature request” items into GitHub Issues. If
there&#39;s a new feature that you want to see added to Ruby on Rails,
you&#39;ll need to write the code yourself - or convince someone else to
partner with you to write the code. Later in this guide you&#39;ll find
detailed instructions for proposing a patch to Ruby on Rails. If you enter
a wishlist item in GitHub Issues with no code, you can expect it to be
marked “invalid” as soon as it&#39;s reviewed.</p>

<p>Sometimes, the line between &#39;bug&#39; and &#39;feature&#39; is a hard
one to draw. Generally, a feature is anything that adds new behavior, while
a bug is anything that fixes already existing behavior that is misbehaving.
Sometimes, the core team will have to make a judgement call. That said, the
distinction generally just affects which release your patch will get in to;
we love feature submissions! They just won&#39;t get backported to
maintenance branches.</p>

<p>If you&#39;d like feedback on an idea for a feature before doing the work
for make a patch, please send an email to the <a
href="https://groups.google.com/forum/?fromgroups#!forum/rubyonrails-core">rails-core
mailing list</a>. You might get no response, which means that everyone is
indifferent. You might find someone who&#39;s also interested in building
that feature. You might get a “This won&#39;t be accepted.” But it&#39;s
the proper place to discuss new ideas. GitHub Issues are not a particularly
good venue for the sometimes long and involved discussions new features
require.</p>

<h2 id="label-Setting+Up+a+Development+Environment">Setting Up a Development Environment<span><a href="#label-Setting+Up+a+Development+Environment">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>To move on from submitting bugs to helping resolve existing issues or
contributing your own code to Ruby on Rails, you <em>must</em> be able to
run its test suite. In this section of the guide you&#39;ll learn how to
set up the tests on your own computer.</p>

<h3 id="label-The+Easy+Way">The Easy Way<span><a href="#label-The+Easy+Way">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The easiest and recommended way to get a development environment ready to
hack is to use the <a href="https://github.com/rails/rails-dev-box">Rails
development box</a>.</p>

<h3 id="label-The+Hard+Way">The Hard Way<span><a href="#label-The+Hard+Way">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>In case you can&#39;t use the Rails development box, see section above,
check <a href="development_dependencies_install.html">this other guide</a>.</p>

<h2 id="label-Running+an+Application+Against+Your+Local+Branch">Running an Application Against Your Local Branch<span><a href="#label-Running+an+Application+Against+Your+Local+Branch">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>The <code>--dev</code> flag of <code>rails new</code> generates an
application that uses your local branch:</p>

<pre>$ cd rails
$ bundle exec rails new ~/my-test-app --dev</pre>

<p>The application generated in <code>~/my-test-app</code> runs against your
local branch and in particular sees any modifications upon server reboot.</p>

<h2 id="label-Testing+Active+Record">Testing Active Record<span><a href="#label-Testing+Active+Record">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>This is how you run the Active Record test suite only for SQLite3:</p>

<pre>$ cd activerecord
$ bundle exec rake test_sqlite3</pre>

<p>You can now run the tests as you did for <code>sqlite3</code>. The tasks
are respectively</p>

<pre>test_mysql
test_mysql2
test_postgresql</pre>

<p>Finally,</p>

<pre>$ bundle exec rake test</pre>

<p>will now run the four of them in turn.</p>

<p>You can also run any single test separately:</p>

<pre>$ ARCONN=sqlite3 ruby -Itest test/cases/associations/has_many_associations_test.rb</pre>

<p>You can invoke <code>test_jdbcmysql</code>, <code>test_jdbcsqlite3</code>
or <code>test_jdbcpostgresql</code> also. See the file
<code>activerecord/RUNNING_UNIT_TESTS.rdoc</code> for information on
running more targeted database tests, or the file <code>ci/travis.rb</code>
for the test suite run by the continuous integration server.</p>

<h3 id="label-Warnings">Warnings<span><a href="#label-Warnings">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The test suite runs with warnings enabled. Ideally, Ruby on Rails should
issue no warnings, but there may be a few, as well as some from third-party
libraries. Please ignore (or fix!) them, if any, and submit patches that do
not issue new warnings.</p>

<p>If you are sure about what you are doing and would like to have a more
clear output, there&#39;s a way to override the flag:</p>

<pre>$ RUBYOPT=-W0 bundle exec rake test</pre>

<h3 id="label-Older+Versions+of+Ruby+on+Rails">Older Versions of Ruby on Rails<span><a href="#label-Older+Versions+of+Ruby+on+Rails">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>If you want to add a fix to older versions of Ruby on Rails, you&#39;ll
need to set up and switch to your own local tracking branch. Here is an
example to switch to the 3-0-stable branch:</p>

<pre>$ git branch --track 3-0-stable origin/3-0-stable
$ git checkout 3-0-stable</pre>

<p>TIP: You may want to <a
href="http://qugstart.com/blog/git-and-svn/add-colored-git-branch-name-to-your-shell-prompt/">put
your Git branch name in your shell prompt</a> to make it easier to remember
which version of the code you&#39;re working with.</p>

<h2 id="label-Helping+to+Resolve+Existing+Issues">Helping to Resolve Existing Issues<span><a href="#label-Helping+to+Resolve+Existing+Issues">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>As a next step beyond reporting issues, you can help the core team resolve
existing issues. If you check the <a
href="https://github.com/rails/rails/issues">Everyone’s Issues</a> list in
GitHub Issues, you&#39;ll find lots of issues already requiring attention.
What can you do for these? Quite a bit, actually:</p>

<h3 id="label-Verifying+Bug+Reports">Verifying Bug Reports<span><a href="#label-Verifying+Bug+Reports">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>For starters, it helps just to verify bug reports. Can you reproduce the
reported issue on your own computer? If so, you can add a comment to the
issue saying that you&#39;re seeing the same thing.</p>

<p>If something is very vague, can you help squash it down into something
specific? Maybe you can provide additional information to help reproduce a
bug, or help by eliminating needless steps that aren&#39;t required to
demonstrate the problem.</p>

<p>If you find a bug report without a test, it&#39;s very useful to contribute
a failing test. This is also a great way to get started exploring the
source code: looking at the existing test files will teach you how to write
more tests. New tests are best contributed in the form of a patch, as
explained later on in the “Contributing to the Rails Code” section.</p>

<p>Anything you can do to make bug reports more succinct or easier to
reproduce is a help to folks trying to write code to fix those bugs -
whether you end up writing the code yourself or not.</p>

<h3 id="label-Testing+Patches">Testing Patches<span><a href="#label-Testing+Patches">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>You can also help out by examining pull requests that have been submitted
to Ruby on Rails via GitHub. To apply someone&#39;s changes you need first
to create a dedicated branch:</p>

<pre>$ git checkout -b testing_branch</pre>

<p>Then you can use their remote branch to update your codebase. For example,
let&#39;s say the GitHub user JohnSmith has forked and pushed to a topic
branch “orange” located at <a
href="https://github.com/JohnSmith/rails">github.com/JohnSmith/rails</a>.</p>

<pre>$ git remote add JohnSmith git://github.com/JohnSmith/rails.git
$ git pull JohnSmith orange</pre>

<p>After applying their branch, test it out! Here are some things to think
about:</p>
<ul><li>
<p>Does the change actually work?</p>
</li><li>
<p>Are you happy with the tests? Can you follow what they&#39;re testing? Are
there any tests missing?</p>
</li><li>
<p>Does it have the proper documentation coverage? Should documentation
elsewhere be updated?</p>
</li><li>
<p>Do you like the implementation? Can you think of a nicer or faster way to
implement a part of their change?</p>
</li></ul>

<p>Once you&#39;re happy that the pull request contains a good change, comment
on the GitHub issue indicating your approval. Your comment should indicate
that you like the change and what you like about it. Something like:</p>
<blockquote>
I like the way you've restructured that code in generate_finder_sql - much nicer. The tests look good too.
</blockquote>
<p>If your comment simply says “+1”, then odds are that other reviewers
aren&#39;t going to take it too seriously. Show that you took the time to
review the pull request.</p>

<h2 id="label-Contributing+to+the+Rails+Documentation">Contributing to the Rails Documentation<span><a href="#label-Contributing+to+the+Rails+Documentation">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Ruby on Rails has two main sets of documentation: the guides, which help
you learn about Ruby on Rails, and the API, which serves as a reference.</p>

<p>You can help improve the Rails guides by making them more coherent,
consistent or readable, adding missing information, correcting factual
errors, fixing typos, or bringing it up to date with the latest edge Rails.
To get involved in the translation of Rails guides, please see <a
href="https://wiki.github.com/rails/docrails/translating-rails-guides">Translating
Rails Guides</a>.</p>

<p>You can either open a pull request to <a
href="http://github.com/rails/rails">Rails</a> or ask the <a
href="http://rubyonrails.org/core">Rails core team</a> for commit access on
<a href="http://github.com/rails/docrails">docrails</a> if you contribute
regularly. Please do not open pull requests in docrails, if you&#39;d like
to get feedback on your change, ask for it in <a
href="http://github.com/rails/rails">Rails</a> instead.</p>

<p>Docrails is merged with master regularly, so you are effectively editing
the Ruby on Rails documentation.</p>

<p>If you are unsure of the documentation changes, you can create an issue in
the <a href="https://github.com/rails/rails/issues">Rails</a> issues
tracker on GitHub.</p>

<p>When working with documentation, please take into account the <a
href="api_documentation_guidelines.html">API Documentation Guidelines</a>
and the <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides
Guidelines</a>.</p>

<p>NOTE: As explained earlier, ordinary code patches should have proper
documentation coverage. Docrails is only used for isolated documentation
improvements.</p>

<p>NOTE: To help our CI servers you should add [ci skip] to your documentation
commit message to skip build on that commit. Please remember to use it for
commits containing only documentation changes.</p>

<p>WARNING: Docrails has a very strict policy: no code can be touched
whatsoever, no matter how trivial or small the change. Only RDoc and guides
can be edited via docrails. Also, CHANGELOGs should never be edited in
docrails.</p>

<h2 id="label-Contributing+to+the+Rails+Code">Contributing to the Rails Code<span><a href="#label-Contributing+to+the+Rails+Code">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Clone+the+Rails+Repository">Clone the Rails Repository<span><a href="#label-Clone+the+Rails+Repository">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The first thing you need to do to be able to contribute code is to clone
the repository:</p>

<pre>$ git clone git://github.com/rails/rails.git</pre>

<p>and create a dedicated branch:</p>

<pre>$ cd rails
$ git checkout -b my_new_branch</pre>

<p>It doesn&#39;t matter much what name you use, because this branch will only
exist on your local computer and your personal repository on GitHub. It
won&#39;t be part of the Rails Git repository.</p>

<h3 id="label-Write+Your+Code">Write Your Code<span><a href="#label-Write+Your+Code">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Now get busy and add or edit code. You&#39;re on your branch now, so you
can write whatever you want (you can check to make sure you&#39;re on the
right branch with <code>git branch -a</code>). But if you&#39;re planning
to submit your change back for inclusion in Rails, keep a few things in
mind:</p>
<ul><li>
<p>Get the code right.</p>
</li><li>
<p>Use Rails idioms and helpers.</p>
</li><li>
<p>Include tests that fail without your code, and pass with it.</p>
</li><li>
<p>Update the (surrounding) documentation, examples elsewhere, and the guides:
whatever is affected by your contribution.</p>
</li></ul>

<p>It is not customary in Rails to run the full test suite before pushing
changes. The railties test suite in particular takes a long time, and even
more if the source code is mounted in <code>/vagrant</code> as happens in
the recommended workflow with the <a
href="https://github.com/rails/rails-dev-box">rails-dev-box</a>.</p>

<p>As a compromise, test what your code obviously affects, and if the change
is not in railties, run the whole test suite of the affected component. If
all tests are passing, that&#39;s enough to propose your contribution. We
have <a href="https://travis-ci.org/rails/rails">Travis CI</a> as a safety
net for catching unexpected breakages elsewhere.</p>

<p>TIP: Changes that are cosmetic in nature and do not add anything
substantial to the stability, functionality, or testability of Rails will
generally not be accepted.</p>

<h3 id="label-Follow+the+Coding+Conventions">Follow the Coding Conventions<span><a href="#label-Follow+the+Coding+Conventions">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Rails follows a simple set of coding style conventions:</p>
<ul><li>
<p>Two spaces, no tabs (for indentation).</p>
</li><li>
<p>No trailing whitespace. Blank lines should not have any spaces.</p>
</li><li>
<p>Indent after private/protected.</p>
</li><li>
<p>Use Ruby &gt;= 1.9 syntax for hashes. Prefer <code>{ a: :b }</code> over
<code>{ :a =&gt; :b }</code>.</p>
</li><li>
<p>Prefer <code>&amp;&amp;</code>/<code>||</code> over
<code>and</code>/<code>or</code>.</p>
</li><li>
<p>Prefer class &lt;&lt; self over self.method for class methods.</p>
</li><li>
<p>Use <code>MyClass.my_method(my_arg)</code> not <code>my_method( my_arg
)</code> or <code>my_method my_arg</code>.</p>
</li><li>
<p>Use <code>a = b</code> and not <code>a=b</code>.</p>
</li><li>
<p>Use assert_not methods instead of refute.</p>
</li><li>
<p>Prefer <code>method { do_stuff }</code> instead of
<code>method{do_stuff}</code> for single-line blocks.</p>
</li><li>
<p>Follow the conventions in the source you see used already.</p>
</li></ul>

<p>The above are guidelines - please use your best judgment in using them.</p>

<h3 id="label-Updating+the+CHANGELOG">Updating the <a href="../CHANGELOG_md.html">CHANGELOG</a><span><a href="#label-Updating+the+CHANGELOG">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <a href="../CHANGELOG_md.html">CHANGELOG</a> is an important part of
every release. It keeps the list of changes for every Rails version.</p>

<p>You should add an entry to the <a href="../CHANGELOG_md.html">CHANGELOG</a>
of the framework that you modified if you&#39;re adding or removing a
feature, committing a bug fix or adding deprecation notices. Refactorings
and documentation changes generally should not go to the <a
href="../CHANGELOG_md.html">CHANGELOG</a>.</p>

<p>A <a href="../CHANGELOG_md.html">CHANGELOG</a> entry should summarize what
was changed and should end with author&#39;s name and it should go on top
of a <a href="../CHANGELOG_md.html">CHANGELOG</a>. You can use multiple
lines if you need more space and you can attach code examples indented with
4 spaces. If a change is related to a specific issue, you should attach
issue&#39;s number. Here is an example <a
href="../CHANGELOG_md.html">CHANGELOG</a> entry:</p>

<pre class="ruby"><span class="ruby-operator">*</span>   <span class="ruby-constant">Summary</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">change</span> <span class="ruby-identifier">that</span> <span class="ruby-identifier">briefly</span> <span class="ruby-identifier">describes</span> <span class="ruby-identifier">what</span> <span class="ruby-identifier">was</span> <span class="ruby-identifier">changed</span>. <span class="ruby-constant">You</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">use</span> <span class="ruby-identifier">multiple</span>
    <span class="ruby-identifier">lines</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">wrap</span> <span class="ruby-identifier">them</span> <span class="ruby-identifier">at</span> <span class="ruby-identifier">around</span> <span class="ruby-value">80</span> <span class="ruby-identifier">characters</span>. <span class="ruby-constant">Code</span> <span class="ruby-identifier">examples</span> <span class="ruby-identifier">are</span> <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">too</span>, <span class="ruby-keyword">if</span> <span class="ruby-identifier">needed</span><span class="ruby-operator">:</span>

        <span class="ruby-keyword">class</span> <span class="ruby-constant">Foo</span>
          <span class="ruby-keyword">def</span> <span class="ruby-identifier">bar</span>
            <span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;baz&#39;</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

    <span class="ruby-constant">You</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">continue</span> <span class="ruby-identifier">after</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">code</span> <span class="ruby-identifier">example</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">can</span> <span class="ruby-identifier">attach</span> <span class="ruby-identifier">issue</span> <span class="ruby-identifier">number</span>. <span class="ruby-constant">GH</span><span class="ruby-comment">#1234</span>

    <span class="ruby-operator">*</span><span class="ruby-constant">Your</span> <span class="ruby-constant">Name</span><span class="ruby-operator">*</span>
</pre>

<p>Your name can be added directly after the last word if you don&#39;t
provide any code examples or don&#39;t need multiple paragraphs. Otherwise,
it&#39;s best to make as a new paragraph.</p>

<h3 id="label-Sanity+Check">Sanity Check<span><a href="#label-Sanity+Check">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>You should not be the only person who looks at the code before you submit
it. If you know someone else who uses Rails, try asking them if they&#39;ll
check out your work. If you don&#39;t know anyone else using Rails, try
hopping into the IRC room or posting about your idea to the rails-core
mailing list. Doing this in private before you push a patch out publicly is
the “smoke test” for a patch: if you can’t convince one other developer of
the beauty of your code, you’re unlikely to convince the core team either.</p>

<h3 id="label-Commit+Your+Changes">Commit Your Changes<span><a href="#label-Commit+Your+Changes">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>When you&#39;re happy with the code on your computer, you need to commit
the changes to Git:</p>

<pre>$ git commit -a</pre>

<p>At this point, your editor should be fired up and you can write a message
for this commit. Well formatted and descriptive commit messages are
extremely helpful for the others, especially when figuring out why given
change was made, so please take the time to write it.</p>

<p>Good commit message should be formatted according to the following example:</p>

<pre class="ruby"><span class="ruby-constant">Short</span> <span class="ruby-identifier">summary</span> (<span class="ruby-identifier">ideally</span> <span class="ruby-value">50</span> <span class="ruby-identifier">characters</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">less</span>)

<span class="ruby-constant">More</span> <span class="ruby-identifier">detailed</span> <span class="ruby-identifier">description</span>, <span class="ruby-keyword">if</span> <span class="ruby-identifier">necessary</span>. <span class="ruby-constant">It</span> <span class="ruby-identifier">should</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">wrapped</span> <span class="ruby-identifier">to</span> <span class="ruby-value">72</span>
<span class="ruby-identifier">characters</span>. <span class="ruby-constant">Try</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">as</span> <span class="ruby-identifier">descriptive</span> <span class="ruby-identifier">as</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">can</span>, <span class="ruby-identifier">even</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">think</span> <span class="ruby-identifier">that</span>
<span class="ruby-identifier">the</span> <span class="ruby-identifier">commit</span> <span class="ruby-identifier">content</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">obvious</span>, <span class="ruby-identifier">it</span> <span class="ruby-identifier">may</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">obvious</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">others</span>. <span class="ruby-constant">You</span>
<span class="ruby-identifier">should</span> <span class="ruby-identifier">add</span> <span class="ruby-identifier">such</span> <span class="ruby-identifier">description</span> <span class="ruby-identifier">also</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">it</span><span class="ruby-string">&#39;s already present in bug tracker,
it should not be necessary to visit a webpage to check the history.

Description can have multiple paragraphs and you can use code examples
inside, just indent it with 4 spaces:

    class PostsController
      def index
        respond_with Post.limit(10)
      end
    end

You can also add bullet points:

- you can use dashes or asterisks

- also, try to indent next line of a point for readability, if it&#39;</span><span class="ruby-identifier">s</span> <span class="ruby-identifier">too</span>
  <span class="ruby-identifier">long</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">fit</span> <span class="ruby-keyword">in</span> <span class="ruby-value">72</span> <span class="ruby-identifier">characters</span>
</pre>

<p>TIP. Please squash your commits into a single commit when appropriate. This
simplifies future cherry picks, and also keeps the git log clean.</p>

<h3 id="label-Update+Your+Branch">Update Your Branch<span><a href="#label-Update+Your+Branch">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>It&#39;s pretty likely that other changes to master have happened while you
were working. Go get them:</p>

<pre>$ git checkout master
$ git pull --rebase</pre>

<p>Now reapply your patch on top of the latest changes:</p>

<pre>$ git checkout my_new_branch
$ git rebase master</pre>

<p>No conflicts? Tests still pass? Change still seems reasonable to you? Then
move on.</p>

<h3 id="label-Fork">Fork<span><a href="#label-Fork">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Navigate to the Rails <a href="https://github.com/rails/rails">GitHub
repository</a> and press “Fork” in the upper right hand corner.</p>

<p>Add the new remote to your local repository on your local machine:</p>

<pre>$ git remote add mine git@github.com:&lt;your user name&gt;/rails.git</pre>

<p>Push to your remote:</p>

<pre>$ git push mine my_new_branch</pre>

<p>You might have cloned your forked repository into your machine and might
want to add the original Rails repository as a remote instead, if
that&#39;s the case here&#39;s what you have to do.</p>

<p>In the directory you cloned your fork:</p>

<pre>$ git remote add rails git://github.com/rails/rails.git</pre>

<p>Download new commits and branches from the official repository:</p>

<pre>$ git fetch rails</pre>

<p>Merge the new content:</p>

<pre>$ git checkout master
$ git rebase rails/master</pre>

<p>Update your fork:</p>

<pre>$ git push origin master</pre>

<p>If you want to update another branch:</p>

<pre>$ git checkout branch_name
$ git rebase rails/branch_name
$ git push origin branch_name</pre>

<h3 id="label-Issue+a+Pull+Request">Issue a Pull Request<span><a href="#label-Issue+a+Pull+Request">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Navigate to the Rails repository you just pushed to (e.g. <a
href="https://github.com/your-user-name/rails">github.com/your-user-name/rails</a>)
and click on “Pull Requests” seen in the right panel. On the next page,
press “New pull request” in the upper right hand corner.</p>

<p>Click on “Edit”, if you need to change the branches being compared (it
compares “master” by default) and press “Click to create a pull request for
this comparison”.</p>

<p>Ensure the changesets you introduced are included. Fill in some details
about your potential patch including a meaningful title. When finished,
press “Send pull request”. The Rails core team will be notified about your
submission.</p>

<h3 id="label-Get+some+Feedback">Get some Feedback<span><a href="#label-Get+some+Feedback">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Most pull requests will go through a few iterations before they get merged.
Different contributors will sometimes have different opinions, and often
patches will need revised before they can get merged.</p>

<p>Some contributors to Rails have email notifications from GitHub turned on,
but others do not. Furthermore, (almost) everyone who works on Rails is a
volunteer, and so it may take a few days for you to get your first feedback
on a pull request. Don&#39;t despair! Sometimes it&#39;s quick, sometimes
it&#39;s slow. Such is the open source life.</p>

<p>If it&#39;s been over a week, and you haven&#39;t heard anything, you might
want to try and nudge things along. You can use the <a
href="http://groups.google.com/group/rubyonrails-core/">rubyonrails-core
mailing list</a> for this. You can also leave another comment on the pull
request.</p>

<p>While you&#39;re waiting for feedback on your pull request, open up a few
other pull requests and give someone else some! I&#39;m sure they&#39;ll
appreciate it in the same way that you appreciate feedback on your patches.</p>

<h3 id="label-Iterate+as+Necessary">Iterate as Necessary<span><a href="#label-Iterate+as+Necessary">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>It&#39;s entirely possible that the feedback you get will suggest changes.
Don&#39;t get discouraged: the whole point of contributing to an active
open source project is to tap into community knowledge. If people are
encouraging you to tweak your code, then it&#39;s worth making the tweaks
and resubmitting. If the feedback is that your code doesn&#39;t belong in
the core, you might still think about releasing it as a gem.</p>

<h4 id="label-Squashing+commits">Squashing commits<span><a href="#label-Squashing+commits">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>One of the things that we may ask you to do is “squash your commits,” which
will combine all of your commits into a single commit. We prefer pull
requests that are a single commit. This makes it easier to backport changes
to stable branches, squashing makes it easier to revert bad commits, and
the git history can be a bit easier to follow. Rails is a large project,
and a bunch of extraneous commits can add a lot of noise.</p>

<p>In order to do this, you&#39;ll need to have a git remote that points at
the main Rails repository. This is useful anyway, but just in case you
don&#39;t have it set up, make sure that you do this first:</p>

<pre>$ git remote add upstream https://github.com/rails/rails.git</pre>

<p>You can call this remote whatever you&#39;d like, but if you don&#39;t use
<code>upstream</code>, then change the name to your own in the instructions
below.</p>

<p>Given that your remote branch is called <code>my_pull_request</code>, then
you can do the following:</p>

<pre>$ git fetch upstream
$ git checkout my_pull_request
$ git rebase upstream/master
$ git rebase -i

&lt; Choose &#39;squash&#39; for all of your commits except the first one. &gt;
&lt; Edit the commit message to make sense, and describe all your changes. &gt;

$ git push origin my_pull_request -f</pre>

<p>You should be able to refresh the pull request on GitHub and see that it
has been updated.</p>

<h3 id="label-Backporting">Backporting<span><a href="#label-Backporting">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Changes that are merged into master are intended for the next major release
of Rails. Sometimes, it might be beneficial for your changes to propagate
back to the maintenance releases for older stable branches. Generally,
security fixes and bug fixes are good candidates for a backport, while new
features and patches that introduce a change in behavior will not be
accepted. When in doubt, it is best to consult a Rails team member before
backporting your changes to avoid wasted effort.</p>

<p>For simple fixes, the easiest way to backport your changes is to <a
href="http://ariejan.net/2009/10/26/how-to-create-and-apply-a-patch-with-git">extract
a diff from your changes in master and apply them to the target branch</a>.</p>

<p>First make sure your changes are the only difference between your current
branch and master:</p>

<pre>$ git log master..HEAD</pre>

<p>Then extract the diff:</p>

<pre>$ git format-patch master --stdout &gt; ~/my_changes.patch</pre>

<p>Switch over to the target branch and apply your changes:</p>

<pre>$ git checkout -b my_backport_branch 3-2-stable
$ git apply ~/my_changes.patch</pre>

<p>This works well for simple changes. However, if your changes are
complicated or if the code in master has deviated significantly from your
target branch, it might require more work on your part. The difficulty of a
backport varies greatly from case to case, and sometimes it is simply not
worth the effort.</p>

<p>Once you have resolved all conflicts and made sure all the tests are
passing, push your changes and open a separate pull request for your
backport. It is also worth noting that older branches might have a
different set of build targets than master. When possible, it is best to
first test your backport locally against the Ruby versions listed in
<code>.travis.yml</code> before submitting your pull request.</p>

<p>And then… think about your next contribution!</p>

<h2 id="label-Rails+Contributors">Rails Contributors<span><a href="#label-Rails+Contributors">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>All contributions, either via master or docrails, get credit in <a
href="http://contributors.rubyonrails.org">Rails Contributors</a>.</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

