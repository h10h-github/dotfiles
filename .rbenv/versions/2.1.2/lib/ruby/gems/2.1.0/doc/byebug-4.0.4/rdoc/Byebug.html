<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Byebug - byebug-4.0.4 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    <div id="extends-section" class="nav-section">
  <h3>Extended With Modules</h3>

  <ul class="link-list">
    
  
    <li><span class="extend">Forwardable</span>
  
  
  </ul>
</div>

    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-add_catchpoint">::add_catchpoint</a>
    
    <li ><a href="#method-c-attach">::attach</a>
    
    <li ><a href="#method-c-breakpoints">::breakpoints</a>
    
    <li ><a href="#method-c-catchpoints">::catchpoints</a>
    
    <li ><a href="#method-c-contexts">::contexts</a>
    
    <li ><a href="#method-c-current_context">::current_context</a>
    
    <li ><a href="#method-c-debug_load">::debug_load</a>
    
    <li ><a href="#method-c-handle_post_mortem">::handle_post_mortem</a>
    
    <li ><a href="#method-c-interrupt">::interrupt</a>
    
    <li ><a href="#method-c-parse_host_and_port">::parse_host_and_port</a>
    
    <li ><a href="#method-c-post_mortem-3D">::post_mortem=</a>
    
    <li ><a href="#method-c-post_mortem-3F">::post_mortem?</a>
    
    <li ><a href="#method-c-raised_exception">::raised_exception</a>
    
    <li ><a href="#method-c-start">::start</a>
    
    <li ><a href="#method-c-start_client">::start_client</a>
    
    <li ><a href="#method-c-start_control">::start_control</a>
    
    <li ><a href="#method-c-start_server">::start_server</a>
    
    <li ><a href="#method-c-started-3F">::started?</a>
    
    <li ><a href="#method-c-stop">::stop</a>
    
    <li ><a href="#method-c-thread_context">::thread_context</a>
    
    <li ><a href="#method-c-tracing-3D">::tracing=</a>
    
    <li ><a href="#method-c-tracing-3F">::tracing?</a>
    
    <li ><a href="#method-c-verbose-3D">::verbose=</a>
    
    <li ><a href="#method-c-verbose-3F">::verbose?</a>
    
    <li ><a href="#method-i-run_init_script">#run_init_script</a>
    
    <li ><a href="#method-i-run_script">#run_script</a>
    
    <li ><a href="#method-i-setup_cmd_line_args">#setup_cmd_line_args</a>
    
    <li ><a href="#method-i-which">#which</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Byebug">
  <h1 id="module-Byebug" class="module">
    module Byebug
  </h1>

  <section class="description">
    
<h2 id="module-Byebug-label-Summary">Summary<span><a href="#module-Byebug-label-Summary">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>This is a singleton class allows controlling byebug. Use it to start/stop
byebug, set/remove breakpoints, etc.</p>

<p>Main Container for all of Byebug&#39;s code</p>

<p>TODO: Implement thread commands as a single command with subcommands, just
like `info`, `var`, `enable` and `disable`. This allows consistent help
format and we can go back to showing help for a single command in the
`help` command.</p>

<p>Namespace for all of byebug&#39;s code</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="INIT_FILE">INIT_FILE
        
        <dd><p>Configuration file used for startup commands. Default value is .byebugrc</p>
        
      
        <dt id="PORT">PORT
        
        <dd><p>Port number used for remote debugging</p>
        
      
        <dt id="RESTART_FILE">RESTART_FILE
        
        <dd><p>Default file where commands are saved</p>
        
      
        <dt id="VERSION">VERSION
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-c-actual_control_port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">actual_control_port</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-c-actual_port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">actual_port</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The actual port that the server is started at</p>
        
        </div>
      </div>
      
      <div id="attribute-c-wait_connection" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">wait_connection</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>If in remote mode, wait for the remote connection</p>
        
        </div>
      </div>
      
      <div id="attribute-i-handler" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">handler</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Main debugger&#39;s processor</p>
        
        </div>
      </div>
      
      <div id="attribute-i-mode" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">mode</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Running mode of the debugger. Can be either:</p>
<ul><li>
<p>:attached =&gt; Attached to a running program through the `byebug` method.</p>
</li><li>
<p>:standalone =&gt; Started through `bin/byebug` script.</p>
</li></ul>
        
        </div>
      </div>
      
      <div id="attribute-i-printer" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">printer</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Main debugger&#39;s printer</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-add_catchpoint" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            add_catchpoint(exception) &rarr; exception
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Adds a new exception to the catchpoints array.</p>
          
          

          
          <div class="method-source-code" id="add_catchpoint-source">
            <pre>static VALUE
Add_catchpoint(VALUE self, VALUE value)
{
  UNUSED(self);

  if (TYPE(value) != T_STRING)
    rb_raise(rb_eTypeError, &quot;value of a catchpoint must be String&quot;);

  rb_hash_aset(catchpoints, rb_str_dup(value), INT2FIX(0));
  return value;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-attach" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attach</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Enters byebug right before (or right after if <em>before</em> is false)
return events occur. Before entering byebug the init script is read.</p>
          
          

          
          <div class="method-source-code" id="attach-source">
            <pre><span class="ruby-comment"># File lib/byebug/attacher.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attach</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">errmsg</span>(<span class="ruby-string">&#39;Byebug already started. Ignoring `byebug` call.&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span>

  <span class="ruby-identifier">setup_cmd_line_args</span>

  <span class="ruby-identifier">start</span>
  <span class="ruby-identifier">run_init_script</span>

  <span class="ruby-identifier">current_context</span>.<span class="ruby-identifier">step_out</span>(<span class="ruby-value">2</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-breakpoints" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            breakpoints &rarr; array
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns an array of breakpoints.</p>
          
          

          
          <div class="method-source-code" id="breakpoints-source">
            <pre>static VALUE
Breakpoints(VALUE self)
{
  UNUSED(self);

  if (NIL_P(breakpoints))
    breakpoints = rb_ary_new();

  return breakpoints;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-catchpoints" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            catchpoints &rarr; array
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns an array of catchpoints.</p>
          
          

          
          <div class="method-source-code" id="catchpoints-source">
            <pre>static VALUE
Catchpoints(VALUE self)
{
  UNUSED(self);

  return catchpoints;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-contexts" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            contexts &rarr; array
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns an array of all contexts.</p>
          
          

          
          <div class="method-source-code" id="contexts-source">
            <pre>static VALUE
Contexts(VALUE self)
{
  volatile VALUE list;
  volatile VALUE new_list;
  VALUE context;
  threads_table_t *t_tbl;
  debug_context_t *dc;
  int i;

  UNUSED(self);

  check_started();

  new_list = rb_ary_new();
  list = rb_funcall(rb_cThread, rb_intern(&quot;list&quot;), 0);

  for (i = 0; i &lt; RARRAY_LENINT(list); i++)
  {
    VALUE thread = rb_ary_entry(list, i);

    thread_context_lookup(thread, &amp;context);
    rb_ary_push(new_list, context);
  }

  Data_Get_Struct(threads, threads_table_t, t_tbl);
  st_clear(t_tbl-&gt;tbl);

  for (i = 0; i &lt; RARRAY_LENINT(new_list); i++)
  {
    context = rb_ary_entry(new_list, i);
    Data_Get_Struct(context, debug_context_t, dc);
    st_insert(t_tbl-&gt;tbl, dc-&gt;thread, context);
  }

  return new_list;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-current_context" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            current_context &rarr; context
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the current context.</p>

<pre>&lt;i&gt;Note:&lt;/i&gt; Byebug.current_context.thread == Thread.current</pre>
          
          

          
          <div class="method-source-code" id="current_context-source">
            <pre>static VALUE
Current_context(VALUE self)
{
  VALUE context;

  UNUSED(self);

  check_started();

  thread_context_lookup(rb_thread_current(), &amp;context);

  return context;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-debug_load" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            debug_load(file, stop = false) &rarr; nil
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Same as Kernel#load but resets current context&#39;s frames.
<code>stop</code> parameter forces byebug to stop at the first line of code
in <code>file</code></p>
          
          

          
          <div class="method-source-code" id="debug_load-source">
            <pre>static VALUE
Debug_load(int argc, VALUE * argv, VALUE self)
{
  VALUE file, stop, context;
  debug_context_t *dc;
  VALUE status = Qnil;
  int state = 0;

  UNUSED(self);

  if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;file, &amp;stop) == 1)
    stop = Qfalse;

  Start(self);

  context = Current_context(self);
  Data_Get_Struct(context, debug_context_t, dc);

  dc-&gt;calced_stack_size = 1;

  if (RTEST(stop))
    dc-&gt;steps = 1;

  rb_load_protect(file, 0, &amp;state);
  if (0 != state)
  {
    status = rb_errinfo();
    reset_stepping_stop_points(dc);
  }

  return status;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-handle_post_mortem" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">handle_post_mortem</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Saves information about the unhandled exception and gives a byebug prompt
back to the user before program termination.</p>
          
          

          
          <div class="method-source-code" id="handle_post_mortem-source">
            <pre><span class="ruby-comment"># File lib/byebug/settings/post_mortem.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">handle_post_mortem</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Byebug</span>.<span class="ruby-identifier">raised_exception</span>

  <span class="ruby-identifier">context</span> = <span class="ruby-constant">Byebug</span>.<span class="ruby-identifier">raised_exception</span>.<span class="ruby-identifier">__bb_context</span>
  <span class="ruby-identifier">file</span> = <span class="ruby-constant">Byebug</span>.<span class="ruby-identifier">raised_exception</span>.<span class="ruby-identifier">__bb_file</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-constant">Byebug</span>.<span class="ruby-identifier">raised_exception</span>.<span class="ruby-identifier">__bb_line</span>

  <span class="ruby-constant">Byebug</span>.<span class="ruby-identifier">handler</span>.<span class="ruby-identifier">at_line</span>(<span class="ruby-identifier">context</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">line</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-interrupt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interrupt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Interrupts the current thread</p>
          
          

          
          <div class="method-source-code" id="interrupt-source">
            <pre><span class="ruby-comment"># File lib/byebug/remote.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interrupt</span>
  <span class="ruby-identifier">current_context</span>.<span class="ruby-identifier">interrupt</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-parse_host_and_port" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_host_and_port</span><span
            class="method-args">(host_port_spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="parse_host_and_port-source">
            <pre><span class="ruby-comment"># File lib/byebug/remote.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_host_and_port</span>(<span class="ruby-identifier">host_port_spec</span>)
  <span class="ruby-identifier">location</span> = <span class="ruby-identifier">host_port_spec</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;:&#39;</span>)
  <span class="ruby-identifier">location</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">?</span> [<span class="ruby-identifier">location</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">location</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>] <span class="ruby-operator">:</span> [<span class="ruby-string">&#39;localhost&#39;</span>, <span class="ruby-identifier">location</span>[<span class="ruby-value">0</span>]]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-post_mortem-3D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            post_mortem = bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Sets post-moterm flag.</p>
          
          

          
          <div class="method-source-code" id="post_mortem-3D-source">
            <pre>static VALUE
Set_post_mortem(VALUE self, VALUE value)
{
  UNUSED(self);

  post_mortem = RTEST(value) ? Qtrue : Qfalse;
  return value;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-post_mortem-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            post_mortem? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if post-mortem debugging is enabled.</p>
          
          

          
          <div class="method-source-code" id="post_mortem-3F-source">
            <pre>static VALUE
Post_mortem(VALUE self)
{
  UNUSED(self);

  return post_mortem;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-raised_exception" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            raised_exception &rarr; exception
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns raised exception when in post_mortem mode.</p>
          
          

          
          <div class="method-source-code" id="raised_exception-source">
            <pre>static VALUE
Raised_exception(VALUE self)
{
  UNUSED(self);

  return raised_exception;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-start" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            start &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>The return value is the value of !Byebug.started? <em>before</em> issuing
the <code>start</code>; That is, <code>true</code> is returned, unless
byebug was previously started.</p>
          
          

          
          <div class="method-source-code" id="start-source">
            <pre>static VALUE
Start(VALUE self)
{
  if (IS_STARTED)
    return Qfalse;

  catchpoints = rb_hash_new();

  threads = create_threads_table();

  register_tracepoints(self);

  return Qtrue;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-start_client" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start_client</span><span
            class="method-args">(host = 'localhost', port = PORT)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Connects to the remote byebug</p>
          
          

          
          <div class="method-source-code" id="start_client-source">
            <pre><span class="ruby-comment"># File lib/byebug/remote.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_client</span>(<span class="ruby-identifier">host</span> = <span class="ruby-string">&#39;localhost&#39;</span>, <span class="ruby-identifier">port</span> = <span class="ruby-constant">PORT</span>)
  <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span> = <span class="ruby-constant">LocalInterface</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Connecting to byebug server...&#39;</span>
  <span class="ruby-identifier">socket</span> = <span class="ruby-constant">TCPSocket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Connected.&#39;</span>

  <span class="ruby-identifier">catch</span>(<span class="ruby-value">:exit</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">while</span> (<span class="ruby-identifier">line</span> = <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">gets</span>)
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">line</span>
      <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^PROMPT (.*)$/</span>
        <span class="ruby-identifier">input</span> = <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span>.<span class="ruby-identifier">read_command</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>[<span class="ruby-value">1</span>])
        <span class="ruby-identifier">throw</span> <span class="ruby-value">:exit</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">input</span>
        <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">input</span>
      <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^CONFIRM (.*)$/</span>
        <span class="ruby-identifier">input</span> = <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span>.<span class="ruby-identifier">confirm</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>[<span class="ruby-value">1</span>])
        <span class="ruby-identifier">throw</span> <span class="ruby-value">:exit</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">input</span>
        <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">input</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-identifier">line</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-start_control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start_control</span><span
            class="method-args">(host = nil, ctrl_port = PORT + 1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="start_control-source">
            <pre><span class="ruby-comment"># File lib/byebug/remote.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_control</span>(<span class="ruby-identifier">host</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">ctrl_port</span> = <span class="ruby-constant">PORT</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@actual_control_port</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@control_thread</span>
  <span class="ruby-identifier">server</span> = <span class="ruby-constant">TCPServer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">ctrl_port</span>)
  <span class="ruby-ivar">@actual_control_port</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">addr</span>[<span class="ruby-value">1</span>]
  <span class="ruby-ivar">@control_thread</span> = <span class="ruby-constant">DebugThread</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">while</span> (<span class="ruby-identifier">session</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">accept</span>)
      <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span> = <span class="ruby-constant">RemoteInterface</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">session</span>)
      <span class="ruby-constant">ControlCommandProcessor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span>).<span class="ruby-identifier">process_commands</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@actual_control_port</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-start_server" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start_server</span><span
            class="method-args">(host = nil, port = PORT) { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Starts a remote byebug</p>
          
          

          
          <div class="method-source-code" id="start_server-source">
            <pre><span class="ruby-comment"># File lib/byebug/remote.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_server</span>(<span class="ruby-identifier">host</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-constant">PORT</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@thread</span>

  <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">start</span>

  <span class="ruby-identifier">start_control</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">port</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)

  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-identifier">mutex</span> = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">proceed</span> = <span class="ruby-constant">ConditionVariable</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">server</span> = <span class="ruby-constant">TCPServer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">actual_port</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">addr</span>[<span class="ruby-value">1</span>]
  <span class="ruby-ivar">@thread</span> = <span class="ruby-constant">DebugThread</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">while</span> (<span class="ruby-identifier">session</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">accept</span>)
      <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">interface</span> = <span class="ruby-constant">RemoteInterface</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">session</span>)
      <span class="ruby-identifier">mutex</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-identifier">proceed</span>.<span class="ruby-identifier">signal</span> } <span class="ruby-keyword">if</span> <span class="ruby-identifier">wait_connection</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">mutex</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-identifier">proceed</span>.<span class="ruby-identifier">wait</span>(<span class="ruby-identifier">mutex</span>) } <span class="ruby-keyword">if</span> <span class="ruby-identifier">wait_connection</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-started-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            started? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns <code>true</code> byebug is started.</p>
          
          

          
          <div class="method-source-code" id="started-3F-source">
            <pre>static VALUE
Started(VALUE self)
{
  UNUSED(self);

  return IS_STARTED;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-stop" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            stop &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>This method disables byebug. It returns <code>true</code> if byebug was
already disabled, otherwise it returns <code>false</code>.</p>
          
          

          
          <div class="method-source-code" id="stop-source">
            <pre>static VALUE
Stop(VALUE self)
{
  UNUSED(self);

  if (IS_STARTED)
  {
    clear_tracepoints(self);

    breakpoints = Qnil;
    catchpoints = Qnil;
    threads = Qnil;

    return Qfalse;
  }

  return Qtrue;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-thread_context" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            thread_context(thread) &rarr; context
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns context of the thread passed as an argument.</p>
          
          

          
          <div class="method-source-code" id="thread_context-source">
            <pre>static VALUE
Thread_context(VALUE self, VALUE thread)
{
  VALUE context;

  UNUSED(self);

  check_started();

  thread_context_lookup(thread, &amp;context);

  return context;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-tracing-3D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            tracing = bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Sets the global tracing flag.</p>
          
          

          
          <div class="method-source-code" id="tracing-3D-source">
            <pre>static VALUE
Set_tracing(VALUE self, VALUE value)
{
  UNUSED(self);

  tracing = RTEST(value) ? Qtrue : Qfalse;
  return value;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-tracing-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            tracing? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if global tracing is enabled.</p>
          
          

          
          <div class="method-source-code" id="tracing-3F-source">
            <pre>static VALUE
Tracing(VALUE self)
{
  UNUSED(self);

  return tracing;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-verbose-3D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            verbose = bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Enable verbose output of every TracePoint API events, useful for debugging
byebug.</p>
          
          

          
          <div class="method-source-code" id="verbose-3D-source">
            <pre>static VALUE
Set_verbose(VALUE self, VALUE value)
{
  UNUSED(self);

  verbose = RTEST(value) ? Qtrue : Qfalse;
  return value;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-verbose-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            verbose? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if verbose output of TracePoint API events is
enabled.</p>
          
          

          
          <div class="method-source-code" id="verbose-3F-source">
            <pre>static VALUE
Verbose(VALUE self)
{
  UNUSED(self);

  return verbose;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-run_init_script" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_init_script</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Runs normal byebug initialization scripts.</p>

<p>Reads and executes the commands from init file (if any) in the current
working directory. This is only done if the current directory is different
from your home directory. Thus, you can have more than one init file, one
generic in your home directory, and another, specific to the program you
are debugging, in the directory where you invoke byebug.</p>
          
          

          
          <div class="method-source-code" id="run_init_script-source">
            <pre><span class="ruby-comment"># File lib/byebug/core.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_init_script</span>
  <span class="ruby-identifier">home_rc</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;HOME&#39;</span>].<span class="ruby-identifier">to_s</span>, <span class="ruby-constant">INIT_FILE</span>))
  <span class="ruby-identifier">run_script</span>(<span class="ruby-identifier">home_rc</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">home_rc</span>)

  <span class="ruby-identifier">cwd_rc</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;.&#39;</span>, <span class="ruby-constant">INIT_FILE</span>))
  <span class="ruby-identifier">run_script</span>(<span class="ruby-identifier">cwd_rc</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">cwd_rc</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cwd_rc</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">home_rc</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-setup_cmd_line_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setup_cmd_line_args</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extracts debugged program from command line args</p>
          
          

          
          <div class="method-source-code" id="setup_cmd_line_args-source">
            <pre><span class="ruby-comment"># File lib/byebug/core.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_cmd_line_args</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">$PROGRAM_NAME</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;bin/byebug&#39;</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">mode</span> = <span class="ruby-value">:attached</span>
    <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">mode</span> = <span class="ruby-value">:standalone</span>

  <span class="ruby-identifier">fail</span>(<span class="ruby-constant">NoScript</span>, <span class="ruby-string">&#39;You must specify a program to debug...&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">$ARGV</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">program</span> = <span class="ruby-identifier">which</span>(<span class="ruby-identifier">$ARGV</span>.<span class="ruby-identifier">shift</span>)
  <span class="ruby-identifier">program</span> = <span class="ruby-identifier">which</span>(<span class="ruby-identifier">$ARGV</span>.<span class="ruby-identifier">shift</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">program</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">which</span>(<span class="ruby-string">&#39;ruby&#39;</span>)
  <span class="ruby-identifier">fail</span>(<span class="ruby-constant">NonExistentScript</span>, <span class="ruby-string">&quot;The script doesn&#39;t exist&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">program</span>

  <span class="ruby-identifier">$PROGRAM_NAME</span> = <span class="ruby-identifier">program</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-run_script" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_script</span><span
            class="method-args">(file, verbose = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Runs a script file</p>
          
          

          
          <div class="method-source-code" id="run_script-source">
            <pre><span class="ruby-comment"># File lib/byebug/core.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_script</span>(<span class="ruby-identifier">file</span>, <span class="ruby-identifier">verbose</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">interface</span> = <span class="ruby-constant">ScriptInterface</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">file</span>, <span class="ruby-identifier">verbose</span>)
  <span class="ruby-identifier">processor</span> = <span class="ruby-constant">ControlCommandProcessor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">interface</span>)
  <span class="ruby-identifier">processor</span>.<span class="ruby-identifier">process_commands</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-which" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">which</span><span
            class="method-args">(cmd)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Cross-platform way of finding an executable in the $PATH. Borrowed from: <a
href="http://stackoverflow.com/questions/2108727">stackoverflow.com/questions/2108727</a></p>
          
          

          
          <div class="method-source-code" id="which-source">
            <pre><span class="ruby-comment"># File lib/byebug/core.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">which</span>(<span class="ruby-identifier">cmd</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">cmd</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">cmd</span>)

  <span class="ruby-identifier">exts</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;PATHEXT&#39;</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;PATHEXT&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;;&#39;</span>) <span class="ruby-operator">:</span> [<span class="ruby-string">&#39;&#39;</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;PATH&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">exts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ext</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">exe</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-node">&quot;#{cmd}#{ext}&quot;</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">exe</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">executable?</span>(<span class="ruby-identifier">exe</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">exe</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

