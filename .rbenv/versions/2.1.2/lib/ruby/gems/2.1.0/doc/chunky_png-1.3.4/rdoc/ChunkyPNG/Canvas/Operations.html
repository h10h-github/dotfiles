<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module ChunkyPNG::Canvas::Operations - chunky_png</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-border">#border</a>
    
    <li ><a href="#method-i-border-21">#border!</a>
    
    <li ><a href="#method-i-check_size_constraints-21">#check_size_constraints!</a>
    
    <li ><a href="#method-i-compose">#compose</a>
    
    <li ><a href="#method-i-compose-21">#compose!</a>
    
    <li ><a href="#method-i-crop">#crop</a>
    
    <li ><a href="#method-i-crop-21">#crop!</a>
    
    <li ><a href="#method-i-flip">#flip</a>
    
    <li ><a href="#method-i-flip-21">#flip!</a>
    
    <li ><a href="#method-i-flip_horizontally">#flip_horizontally</a>
    
    <li ><a href="#method-i-flip_horizontally-21">#flip_horizontally!</a>
    
    <li ><a href="#method-i-flip_vertically">#flip_vertically</a>
    
    <li ><a href="#method-i-flip_vertically-21">#flip_vertically!</a>
    
    <li ><a href="#method-i-grayscale">#grayscale</a>
    
    <li ><a href="#method-i-grayscale-21">#grayscale!</a>
    
    <li ><a href="#method-i-mirror">#mirror</a>
    
    <li ><a href="#method-i-mirror-21">#mirror!</a>
    
    <li ><a href="#method-i-replace">#replace</a>
    
    <li ><a href="#method-i-replace-21">#replace!</a>
    
    <li ><a href="#method-i-rotate_180">#rotate_180</a>
    
    <li ><a href="#method-i-rotate_180-21">#rotate_180!</a>
    
    <li ><a href="#method-i-rotate_clockwise">#rotate_clockwise</a>
    
    <li ><a href="#method-i-rotate_clockwise-21">#rotate_clockwise!</a>
    
    <li ><a href="#method-i-rotate_counter_clockwise">#rotate_counter_clockwise</a>
    
    <li ><a href="#method-i-rotate_counter_clockwise-21">#rotate_counter_clockwise!</a>
    
    <li ><a href="#method-i-rotate_left">#rotate_left</a>
    
    <li ><a href="#method-i-rotate_left-21">#rotate_left!</a>
    
    <li ><a href="#method-i-rotate_right">#rotate_right</a>
    
    <li ><a href="#method-i-rotate_right-21">#rotate_right!</a>
    
    <li ><a href="#method-i-trim">#trim</a>
    
    <li ><a href="#method-i-trim-21">#trim!</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-ChunkyPNG::Canvas::Operations">
  <h1 id="module-ChunkyPNG::Canvas::Operations" class="module">
    module ChunkyPNG::Canvas::Operations
  </h1>

  <section class="description">
    
<p>The <a href="Operations.html">ChunkyPNG::Canvas::Operations</a> module
defines methods to perform operations on a {ChunkyPNG::Canvas}. The module
is included into the <a href="../Canvas.html">Canvas</a> class so all these
methods are available on every canvas.</p>

<p>Note that some of these operations modify the canvas, while some operations
return a new canvas and leave the original intact.</p>

<p>@see <a href="../Canvas.html">ChunkyPNG::Canvas</a></p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-border" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">border</span><span
            class="method-args">(size, color = ChunkyPNG::Color::BLACK)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Draws a border around the image.</p>

<p>@param [Integer] size The size of the border. @param [Integer] color The
color of the border. @return [ChunkyPNG::Canvas] Returns a bordered version
of the image. @see <a href="Operations.html#method-i-border-21">border!</a></p>
          
          

          
          <div class="method-source-code" id="border-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 356</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">border</span>(<span class="ruby-identifier">size</span>, <span class="ruby-identifier">color</span> = <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span><span class="ruby-operator">::</span><span class="ruby-constant">BLACK</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">border!</span>(<span class="ruby-identifier">size</span>, <span class="ruby-identifier">color</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-border-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">border!</span><span
            class="method-args">(size, color = ChunkyPNG::Color::BLACK)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Draws a border around the image in place.</p>

<p>@param [Integer] size The size of the border. @param [Integer] color The
color of the border. @return [ChunkyPNG::Canvas] Returns itself with the
border added. @see <a href="Operations.html#method-i-border">border</a></p>
          
          

          
          <div class="method-source-code" id="border-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">border!</span>(<span class="ruby-identifier">size</span>, <span class="ruby-identifier">color</span> = <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span><span class="ruby-operator">::</span><span class="ruby-constant">BLACK</span>)
  <span class="ruby-identifier">new_width</span>  = <span class="ruby-identifier">width</span>  <span class="ruby-operator">+</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>
  <span class="ruby-identifier">new_height</span> = <span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>

  <span class="ruby-identifier">bg</span> = <span class="ruby-constant">Canvas</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">new_width</span>, <span class="ruby-identifier">new_height</span>, <span class="ruby-identifier">color</span>).<span class="ruby-identifier">replace</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">size</span>, <span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">new_width</span>, <span class="ruby-identifier">new_height</span>, <span class="ruby-identifier">bg</span>.<span class="ruby-identifier">pixels</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">compose</span><span
            class="method-args">(other, offset_x = 0, offset_y = 0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Composes another image onto this image using alpha blending. This will
return a new canvas and leave the original intact.</p>

<p>If you simply want to replace pixels or when the other image does not have
transparency, it is faster to use {#replace}.</p>

<p>@param (see <a href="Operations.html#method-i-compose-21">compose!</a>)
@return [ChunkyPNG::Canvas] Returns the new canvas, composed of the</p>

<pre>other 2.</pre>

<p>@raise [ChunkyPNG::OutOfBounds] when the other canvas doesn&#39;t fit on</p>

<pre>this one, given the offset and size of the other canvas.</pre>

<p>@note API changed since 1.0 - This method now no longer is in place,</p>

<pre>but returns a new canvas and leaves the original intact. Use
{#compose!} if you want to compose on the canvas in place.</pre>

<p>@see <a href="Operations.html#method-i-replace">replace</a></p>
          
          

          
          <div class="method-source-code" id="compose-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">compose</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">compose!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-compose-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">compose!</span><span
            class="method-args">(other, offset_x = 0, offset_y = 0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Composes another image onto this image using alpha blending. This will
modify the current canvas.</p>

<p>If you simply want to replace pixels or when the other image does not have
transparency, it is faster to use {#replace!}.</p>

<p>@param [ChunkyPNG::Canvas] other The foreground canvas to compose on</p>

<pre>the current canvas, using alpha compositing.</pre>

<p>@param [Integer] offset_x The x-offset to apply the new foreground on.
@param [Integer] offset_y The y-offset to apply the new foreground on.
@return [ChunkyPNG::Canvas] Returns itself, but with the other canvas</p>

<pre>composed onto it.</pre>

<p>@raise [ChunkyPNG::OutOfBounds] when the other canvas doesn&#39;t fit on</p>

<pre>this one, given the offset and size of the other canvas.</pre>

<p>@see <a href="Operations.html#method-i-replace-21">replace!</a> @see <a
href="Operations.html#method-i-compose">compose</a></p>
          
          

          
          <div class="method-source-code" id="compose-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">compose!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
  <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">x</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">set_pixel</span>(<span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>,
                <span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>,
                <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span>.<span class="ruby-identifier">compose</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">get_pixel</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>),
                                         <span class="ruby-identifier">get_pixel</span>(<span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>,
                                                   <span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>)))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-crop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">crop</span><span
            class="method-args">(x, y, crop_width, crop_height)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Crops an image, given the coordinates and size of the image that needs to
be cut out. This will leave the original image intact and return a new,
cropped image with pixels copied from the original image.</p>

<p>@param [Integer] x The x-coordinate of the top left corner of the image</p>

<pre>to be cropped.</pre>

<p>@param [Integer] y The y-coordinate of the top left corner of the image</p>

<pre>to be cropped.</pre>

<p>@param [Integer] crop_width The width of the image to be cropped. @param
[Integer] crop_height The height of the image to be cropped. @return
[ChunkyPNG::Canvas] Returns the newly created cropped image. @raise
[ChunkyPNG::OutOfBounds] when the crop dimensions plus the given</p>

<pre>coordinates are bigger then the original image.</pre>
          
          

          
          <div class="method-source-code" id="crop-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">crop</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">crop!</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-crop-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">crop!</span><span
            class="method-args">(x, y, crop_width, crop_height)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Crops an image, given the coordinates and size of the image that needs to
be cut out.</p>

<p>This will change the size and content of the current canvas. Use {#crop} if
you want to have a new canvas returned instead, leaving the current canvas
intact.</p>

<p>@param [Integer] x The x-coordinate of the top left corner of the image</p>

<pre>to be cropped.</pre>

<p>@param [Integer] y The y-coordinate of the top left corner of the image</p>

<pre>to be cropped.</pre>

<p>@param [Integer] crop_width The width of the image to be cropped. @param
[Integer] crop_height The height of the image to be cropped. @return
[ChunkyPNG::Canvas] Returns itself, but cropped. @raise
[ChunkyPNG::OutOfBounds] when the crop dimensions plus the given</p>

<pre>coordinates are bigger then the original image.</pre>
          
          

          
          <div class="method-source-code" id="crop-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">crop!</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">crop_width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">width</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-string">&#39;Original image width is too small!&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">crop_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">height</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-string">&#39;Original image height is too small!&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">new_pixels</span> = []
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">cy</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">crop_height</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">new_pixels</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">slice</span>((<span class="ruby-identifier">cy</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>, <span class="ruby-identifier">crop_width</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>, <span class="ruby-identifier">new_pixels</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-flip" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">flip</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-flip_horizontally">flip_horizontally</a>
        </div>
        
      </div>

    
      <div id="method-i-flip-21" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">flip!</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-flip_horizontally-21">flip_horizontally!</a>
        </div>
        
      </div>

    
      <div id="method-i-flip_horizontally" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flip_horizontally</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flips the image horizontally, leaving the original intact.</p>

<p>This will flip the image on its horizontal axis, e.g. pixels on the top
will now be pixels on the bottom. Chaining this method twice will return
the original canvas. This method will leave the original object intact and
return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] The flipped image @see <a
href="Operations.html#method-i-flip_horizontally-21">flip_horizontally!</a></p>
          
          

          
          <div class="method-source-code" id="flip_horizontally-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flip_horizontally</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">flip_horizontally!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-flip">flip</a>
        </div>
        

        
      </div>

    
      <div id="method-i-flip_horizontally-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flip_horizontally!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flips the image horizontally in place.</p>

<p>This will flip the image on its horizontal axis, e.g. pixels on the top
will now be pixels on the bottom. Chaining this method twice will return
the original canvas. This method will leave the original object intact and
return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] Itself, but flipped @see <a
href="Operations.html#method-i-flip_horizontally">flip_horizontally</a></p>
          
          

          
          <div class="method-source-code" id="flip_horizontally-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flip_horizontally!</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span>((<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">other_y</span>   = <span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
    <span class="ruby-identifier">other_row</span> = <span class="ruby-identifier">row</span>(<span class="ruby-identifier">other_y</span>)
    <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">other_y</span>, <span class="ruby-identifier">row</span>(<span class="ruby-identifier">y</span>))
    <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">other_row</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-flip-21">flip!</a>
        </div>
        

        
      </div>

    
      <div id="method-i-flip_vertically" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flip_vertically</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flips the image vertically, leaving the original intact.</p>

<p>This will flip the image on its vertical axis, e.g. pixels on the left will
now be pixels on the right. Chaining this method twice will return the
original canvas. This method will leave the original object intact and
return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] The flipped image @see <a
href="Operations.html#method-i-flip_vertically-21">flip_vertically!</a></p>
          
          

          
          <div class="method-source-code" id="flip_vertically-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flip_vertically</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">flip_vertically!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-mirror">mirror</a>
        </div>
        

        
      </div>

    
      <div id="method-i-flip_vertically-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flip_vertically!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flips the image vertically in place.</p>

<p>This will flip the image on its vertical axis, e.g. pixels on the left will
now be pixels on the right. Chaining this method twice will return the
original canvas. This method will leave the original object intact and
return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] Itself, but flipped @see <a
href="Operations.html#method-i-flip_vertically">flip_vertically</a></p>
          
          

          
          <div class="method-source-code" id="flip_vertically-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flip_vertically!</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">height</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">row</span>(<span class="ruby-identifier">y</span>).<span class="ruby-identifier">reverse</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-mirror-21">mirror!</a>
        </div>
        

        
      </div>

    
      <div id="method-i-grayscale" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">grayscale</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts the canvas to grayscale, returning a new canvas.</p>

<p>This method will not modify the canvas. To modift the current canvas, use
{#grayscale!} instead.</p>

<p>@return [ChunkyPNG::Canvas] A copy of the canvas, converted to</p>

<pre>grayscale.</pre>

<p>@see {#grayscale!} @see {ChunkyPNG::Color#to_grayscale}</p>
          
          

          
          <div class="method-source-code" id="grayscale-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">grayscale</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">grayscale!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-grayscale-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">grayscale!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts the canvas to grayscale.</p>

<p>This method will modify the canvas. The obtain a new canvas and leave the
current instance intact, use {#grayscale} instead.</p>

<p>@return [ChunkyPNG::Canvas] Returns itself, converted to grayscale. @see
{#grayscale} @see {ChunkyPNG::Color#to_grayscale}</p>
          
          

          
          <div class="method-source-code" id="grayscale-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 20</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">grayscale!</span>
  <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pixel</span><span class="ruby-operator">|</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span>.<span class="ruby-identifier">to_grayscale</span>(<span class="ruby-identifier">pixel</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-mirror" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mirror</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-flip_vertically">flip_vertically</a>
        </div>
        
      </div>

    
      <div id="method-i-mirror-21" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mirror!</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-flip_vertically-21">flip_vertically!</a>
        </div>
        
      </div>

    
      <div id="method-i-replace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace</span><span
            class="method-args">(other, offset_x = 0, offset_y = 0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Replaces pixels on this image by pixels from another pixels, on a given
offset. This method will modify the current canvas.</p>

<p>This will completely replace the pixels of the background image. If you
want to blend them with semi-transparent pixels from the foreground image,
see {#compose!}.</p>

<p>@param (see <a href="Operations.html#method-i-replace-21">replace!</a>)
@return [ChunkyPNG::Canvas] Returns a new, combined canvas. @raise
[ChunkyPNG::OutOfBounds] when the other canvas doesn&#39;t fit on</p>

<pre>this one, given the offset and size of the other canvas.</pre>

<p>@note API changed since 1.0 - This method now no longer is in place,</p>

<pre>but returns a new canvas and leaves the original intact. Use
{#replace!} if you want to replace pixels on the canvas in place.</pre>

<p>@see <a href="Operations.html#method-i-compose">compose</a></p>
          
          

          
          <div class="method-source-code" id="replace-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-replace-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace!</span><span
            class="method-args">(other, offset_x = 0, offset_y = 0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Replaces pixels on this image by pixels from another pixels, on a given
offset. This method will modify the current canvas.</p>

<p>This will completely replace the pixels of the background image. If you
want to blend them with semi-transparent pixels from the foreground image,
see {#compose!}.</p>

<p>@param [ChunkyPNG::Canvas] other The foreground canvas to get the</p>

<pre>pixels from.</pre>

<p>@param [Integer] offset_x The x-offset to apply the new foreground on.
@param [Integer] offset_y The y-offset to apply the new foreground on.
@return [ChunkyPNG::Canvas] Returns itself, but with the other canvas</p>

<pre>placed onto it.</pre>

<p>@raise [ChunkyPNG::OutOfBounds] when the other canvas doesn&#39;t fit on</p>

<pre>this one, given the offset and size of the other canvas.</pre>

<p>@see <a href="Operations.html#method-i-compose-21">compose!</a> @see <a
href="Operations.html#method-i-replace">replace</a></p>
          
          

          
          <div class="method-source-code" id="replace-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
  <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">d</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span>
      <span class="ruby-identifier">pixels</span>[(<span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d</span>] = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">pixels</span>[<span class="ruby-identifier">y</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rotate_180" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_180</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Rotates the image 180 degrees.</p>

<p>This method will leave the original object intact and return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] The rotated image. @see <a
href="Operations.html#method-i-rotate_180-21">rotate_180!</a></p>
          
          

          
          <div class="method-source-code" id="rotate_180-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_180</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_180!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rotate_180-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_180!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Rotates the image 180 degrees in place.</p>

<p>@return [ChunkyPNG::Canvas] Itself, but rotated 180 degrees. @see <a
href="Operations.html#method-i-rotate_180">rotate_180</a></p>
          
          

          
          <div class="method-source-code" id="rotate_180-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_180!</span>
  <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">reverse!</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rotate_clockwise" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">rotate_clockwise</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-rotate_right">rotate_right</a>
        </div>
        
      </div>

    
      <div id="method-i-rotate_clockwise-21" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">rotate_clockwise!</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-rotate_right-21">rotate_right!</a>
        </div>
        
      </div>

    
      <div id="method-i-rotate_counter_clockwise" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">rotate_counter_clockwise</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-rotate_left">rotate_left</a>
        </div>
        
      </div>

    
      <div id="method-i-rotate_counter_clockwise-21" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">rotate_counter_clockwise!</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Operations.html#method-i-rotate_left-21">rotate_left!</a>
        </div>
        
      </div>

    
      <div id="method-i-rotate_left" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_left</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an image that is rotated 90 degrees counter-clockwise.</p>

<p>This method will leave the original object intact and return a new canvas.</p>

<p>@return [ChunkyPNG::Canvas] A rotated copy of itself. @see <a
href="Operations.html#method-i-rotate_left-21">rotate_left!</a> for the
in-place version.</p>
          
          

          
          <div class="method-source-code" id="rotate_left-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 285</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_left</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_left!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-rotate_counter_clockwise">rotate_counter_clockwise</a>
        </div>
        

        
      </div>

    
      <div id="method-i-rotate_left-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_left!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Rotates the image 90 degrees counter-clockwise in place.</p>

<p>This method will change the original canvas. See {#rotate_left} for a
version that leaves the canvas intact and returns a new rotated canvas
instead.</p>

<p>@return [ChunkyPNG::Canvas] Itself, but rotated.</p>
          
          

          
          <div class="method-source-code" id="rotate_left-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 296</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_left!</span>
  <span class="ruby-identifier">new_pixels</span> = []
  (<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">downto</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_pixels</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">i</span>) }
  <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">new_pixels</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-rotate_counter_clockwise-21">rotate_counter_clockwise!</a>
        </div>
        

        
      </div>

    
      <div id="method-i-rotate_right" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_right</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a new canvas instance that is rotated 90 degrees clockwise.</p>

<p>This method will return a new canvas and leaves the original intact.</p>

<p>@return [ChunkyPNG::Canvas] A clockwise-rotated copy. @see <a
href="Operations.html#method-i-rotate_right-21">rotate_right!</a> for the
in place version.</p>
          
          

          
          <div class="method-source-code" id="rotate_right-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_right</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_right!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-rotate_clockwise">rotate_clockwise</a>
        </div>
        

        
      </div>

    
      <div id="method-i-rotate_right-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rotate_right!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Rotates the image 90 degrees clockwise in place.</p>

<p>This method will change the current canvas.</p>

<p>@return [ChunkyPNG::Canvas] Itself, but rotated clockwise. @see <a
href="Operations.html#method-i-rotate_right">rotate_right</a> for a version
that leaves the current canvas intact</p>
          
          

          
          <div class="method-source-code" id="rotate_right-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rotate_right!</span>
  <span class="ruby-identifier">rotated</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>)
  <span class="ruby-identifier">new_pixels</span> = []
  <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_pixels</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">i</span>).<span class="ruby-identifier">reverse</span> }
  <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">new_pixels</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Operations.html#method-i-rotate_clockwise-21">rotate_clockwise!</a>
        </div>
        

        
      </div>

    
      <div id="method-i-trim" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">trim</span><span
            class="method-args">(border = pixels.first)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Trims the border around the image, presumed to be the color of the first
pixel.</p>

<p>@param [Integer] border The color to attempt to trim. @return
[ChunkyPNG::Canvas] The trimmed image. @see <a
href="Operations.html#method-i-trim-21">trim!</a></p>
          
          

          
          <div class="method-source-code" id="trim-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trim</span>(<span class="ruby-identifier">border</span> = <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">trim!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-trim-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">trim!</span><span
            class="method-args">(border = pixels.first)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Trims the border around the image in place.</p>

<p>@param [Integer] border The color to attempt to trim. @return
[ChunkyPNG::Canvas] Returns itself, but with the border</p>

<pre>trimmed.</pre>

<p>@see <a href="Operations.html#method-i-trim">trim</a></p>
          
          

          
          <div class="method-source-code" id="trim-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trim!</span>(<span class="ruby-identifier">border</span> = <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-identifier">x1</span> = [<span class="ruby-operator">*</span><span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">width</span>].<span class="ruby-identifier">index</span>   { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">c</span>).<span class="ruby-identifier">uniq</span> <span class="ruby-operator">!=</span> [<span class="ruby-identifier">border</span>] }
  <span class="ruby-identifier">x2</span> = [<span class="ruby-operator">*</span><span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">width</span>].<span class="ruby-identifier">rindex</span>  { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">c</span>).<span class="ruby-identifier">uniq</span> <span class="ruby-operator">!=</span> [<span class="ruby-identifier">border</span>] }
  <span class="ruby-identifier">y1</span> = [<span class="ruby-operator">*</span><span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">height</span>].<span class="ruby-identifier">index</span>  { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>    <span class="ruby-identifier">row</span>(<span class="ruby-identifier">r</span>).<span class="ruby-identifier">uniq</span> <span class="ruby-operator">!=</span> [<span class="ruby-identifier">border</span>] }
  <span class="ruby-identifier">y2</span> = [<span class="ruby-operator">*</span><span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">height</span>].<span class="ruby-identifier">rindex</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>    <span class="ruby-identifier">row</span>(<span class="ruby-identifier">r</span>).<span class="ruby-identifier">uniq</span> <span class="ruby-operator">!=</span> [<span class="ruby-identifier">border</span>] }

  <span class="ruby-identifier">crop!</span> <span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">x1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-check_size_constraints-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_size_constraints!</span><span
            class="method-args">(other, offset_x, offset_y)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks whether another image has the correct dimension to be used for an
operation on the current image, given an offset coordinate to work with.
@param [ChunkyPNG::Canvas] other The other canvas @param [Integer] offset_x
The x offset on which the other image will be</p>

<pre>applied.</pre>

<p>@param [Integer] offset_y The y offset on which the other image will be</p>

<pre>applied.</pre>

<p>@raise [ChunkyPNG::OutOfBounds] when the other image doesn&#39;t fit.</p>
          
          

          
          <div class="method-source-code" id="check_size_constraints-21-source">
            <pre><span class="ruby-comment"># File lib/chunky_png/canvas/operations.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">width</span>  <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span>  <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-string">&#39;Background image width is too small!&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">height</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-string">&#39;Background image height is too small!&#39;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

