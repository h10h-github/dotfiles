<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>History - ruby_parser-3.6.5 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-3.6.5+-2F+2015-03-12">3.6.5 / 2015-03-12</a>
    <li><a href="#label-3.6.4+-2F+2015-01-16">3.6.4 / 2015-01-16</a>
    <li><a href="#label-3.6.3+-2F+2014-09-26">3.6.3 / 2014-09-26</a>
    <li><a href="#label-3.6.2+-2F+2014-07-18">3.6.2 / 2014-07-18</a>
    <li><a href="#label-3.6.1+-2F+2014-05-12">3.6.1 / 2014-05-12</a>
    <li><a href="#label-3.6.0+-2F+2014-04-23">3.6.0 / 2014-04-23</a>
    <li><a href="#label-3.5.0+-2F+2014-03-24">3.5.0 / 2014-03-24</a>
    <li><a href="#label-3.4.1+-2F+2014-02-14">3.4.1 / 2014-02-14</a>
    <li><a href="#label-3.4.0+-2F+2014-02-04">3.4.0 / 2014-02-04</a>
    <li><a href="#label-3.3.0+-2F+2014-01-14">3.3.0 / 2014-01-14</a>
    <li><a href="#label-3.2.2+-2F+2013-07-11">3.2.2 / 2013-07-11</a>
    <li><a href="#label-3.2.1+-2F+2013-07-03">3.2.1 / 2013-07-03</a>
    <li><a href="#label-3.2.0+-2F+2013-07-02">3.2.0 / 2013-07-02</a>
    <li><a href="#label-3.1.3+-2F+2013-04-09">3.1.3 / 2013-04-09</a>
    <li><a href="#label-3.1.2+-2F+2013-03-18">3.1.2 / 2013-03-18</a>
    <li><a href="#label-3.1.1+-2F+2012-12-19">3.1.1 / 2012-12-19</a>
    <li><a href="#label-3.1.0+-2F+2012-12-06">3.1.0 / 2012-12-06</a>
    <li><a href="#label-3.0.4+-2F+2012-11-26">3.0.4 / 2012-11-26</a>
    <li><a href="#label-3.0.3+-2F+2012-11-23">3.0.3 / 2012-11-23</a>
    <li><a href="#label-3.0.2+-2F+2012-11-21">3.0.2 / 2012-11-21</a>
    <li><a href="#label-3.0.1+-2F+2012-11-02">3.0.1 / 2012-11-02</a>
    <li><a href="#label-3.0.0+-2F+2012-11-02">3.0.0 / 2012-11-02</a>
    <li><a href="#label-3.0.0.a10+-2F+2012-10-26">3.0.0.a10 / 2012-10-26</a>
    <li><a href="#label-3.0.0.a9+-2F+2012-10-22">3.0.0.a9 / 2012-10-22</a>
    <li><a href="#label-3.0.0.a8+-2F+2012-09-26">3.0.0.a8 / 2012-09-26</a>
    <li><a href="#label-3.0.0.a7+-2F+2012-09-21">3.0.0.a7 / 2012-09-21</a>
    <li><a href="#label-3.0.0.a6+-2F+2012-08-20">3.0.0.a6 / 2012-08-20</a>
    <li><a href="#label-3.0.0.a5+-2F+2012-07-31">3.0.0.a5 / 2012-07-31</a>
    <li><a href="#label-3.0.0.a4+-2F+2012-07-26">3.0.0.a4 / 2012-07-26</a>
    <li><a href="#label-3.0.0.a3+-2F+2012-07-03">3.0.0.a3 / 2012-07-03</a>
    <li><a href="#label-3.0.0.a2+-2F+2012-06-19">3.0.0.a2 / 2012-06-19</a>
    <li><a href="#label-3.0.0.a1+-2F+2012-05-22">3.0.0.a1 / 2012-05-22</a>
    <li><a href="#label-2.3.1+-2F+2011-09-21">2.3.1 / 2011-09-21</a>
    <li><a href="#label-2.3.0+-2F+2011-09-06">2.3.0 / 2011-09-06</a>
    <li><a href="#label-2.2.0+-2F+2011-08-23">2.2.0 / 2011-08-23</a>
    <li><a href="#label-2.1.0+-2F+2011-08-15">2.1.0 / 2011-08-15</a>
    <li><a href="#label-2.0.6+-2F+2011-02-18">2.0.6 / 2011-02-18</a>
    <li><a href="#label-2.0.5+-2F+2010-09-01">2.0.5 / 2010-09-01</a>
    <li><a href="#label-2.0.4+-2F+2009-08-18">2.0.4 / 2009-08-18</a>
    <li><a href="#label-2.0.3+-2F+2009-06-23">2.0.3 / 2009-06-23</a>
    <li><a href="#label-2.0.2+-2F+2009-01-20">2.0.2 / 2009-01-20</a>
    <li><a href="#label-2.0.1+-2F+2008-11-04">2.0.1 / 2008-11-04</a>
    <li><a href="#label-2.0.0+-2F+2008-10-22">2.0.0 / 2008-10-22</a>
    <li><a href="#label-1.0.0+-2F+2007-12-20">1.0.0 / 2007-12-20</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./History_txt.html">History</a>
  
    <li><a href="./Manifest_txt.html">Manifest</a>
  
    <li><a href="./README_txt.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page History.txt">

<h3 id="label-3.6.5+-2F+2015-03-12">3.6.5 / 2015-03-12<span><a href="#label-3.6.5+-2F+2015-03-12">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Add line numbers from block comments =begin/=end. (presidentbeef)</p>
</li></ul>
</li></ul>

<h3 id="label-3.6.4+-2F+2015-01-16">3.6.4 / 2015-01-16<span><a href="#label-3.6.4+-2F+2015-01-16">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>Removed shebangs in tests because of bugs (aka &#39;features&#39;) in RPM
packaging tools.</p>
</li></ul>
</li></ul>

<h3 id="label-3.6.3+-2F+2014-09-26">3.6.3 / 2014-09-26<span><a href="#label-3.6.3+-2F+2014-09-26">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>Fixed bug caused by latest version of oedipus_lex not exporting lineno
accessor.</p>
</li></ul>
</li></ul>

<h3 id="label-3.6.2+-2F+2014-07-18">3.6.2 / 2014-07-18<span><a href="#label-3.6.2+-2F+2014-07-18">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>Handle return/next/break/yield w/ block call (WHY).</p>
</li></ul>
</li></ul>

<h3 id="label-3.6.1+-2F+2014-05-12">3.6.1 / 2014-05-12<span><a href="#label-3.6.1+-2F+2014-05-12">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>Strings that don&#39;t match the encoding of the file are now returned as
ASCII-8BIT.</p>
</li></ul>
</li></ul>

<h3 id="label-3.6.0+-2F+2014-04-23">3.6.0 / 2014-04-23<span><a href="#label-3.6.0+-2F+2014-04-23">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Added new_string and switched all parsers to it.</p>
</li></ul>
</li><li>
<p>1 bug fix:</p>
<ul><li>
<p>Fixed line numbers of nodes following multi-line strings. (presidentbeef)</p>
</li></ul>
</li></ul>

<h3 id="label-3.5.0+-2F+2014-03-24">3.5.0 / 2014-03-24<span><a href="#label-3.5.0+-2F+2014-03-24">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement:</p>
<ul><li>
<p>Added initial support for ruby 2.1 syntax. Doesn&#39;t have numeric
extensions yet.</p>
</li></ul>
</li><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Converted ruby_lexer.rex to use new grouping mechanism. ~15% improvement in
speed.</p>
</li><li>
<p>Various lexer cleanup.</p>
</li></ul>
</li><li>
<p>2 bug fixes:</p>
<ul><li>
<p>2.0/2.1: Fixed block kw args.</p>
</li><li>
<p>Fixed env for kwargs and friends.</p>
</li></ul>
</li></ul>

<h3 id="label-3.4.1+-2F+2014-02-14">3.4.1 / 2014-02-14<span><a href="#label-3.4.1+-2F+2014-02-14">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>21 files failed to parse out of ~834k files makes this 99.9975% or 4.21σ.</p>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Added StackState#store and restore.</p>
</li></ul>
</li><li>
<p>1 bug fix:</p>
<ul><li>
<p>1.8/1.9/2.0: Fixed tSTRING_DBEG w/ f&#39;d up amounts of nesting + braces +
do/end. yeah. I&#39;m as confused as you are.</p>
</li></ul>
</li></ul>

<h3 id="label-3.4.0+-2F+2014-02-04">3.4.0 / 2014-02-04<span><a href="#label-3.4.0+-2F+2014-02-04">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>31 files failed to parse out of ~834k files makes this 99.9963% or 4.12σ.</p>
<ul><li>
<p>1 major enhancement:</p>
<ul><li>
<p>Replaced hand-written/optimized f&#39;d-up lexer with an oedipus_lex
generated lexer. This makes it roughly 40-50% faster.</p>
</li></ul>
</li><li>
<p>30 minor enhancements:</p>
<ul><li>
<p>2.0: Added support for a.b c() do d end.e do |f| g end</p>
</li><li>
<p>2.0: Added support for a.b c() do d end.e f do |g| h end</p>
</li><li>
<p>Added -s flag to ruby_parse_extract_error to output timings.</p>
</li><li>
<p>Added <a href="RubyLexer.html">RubyLexer</a> command_state and last_state
to deal with oedipus_lex differences.</p>
</li><li>
<p>Added String#lineno and lineno= because I&#39;m a bad bad person.</p>
</li><li>
<p>Added a bunch of <a href="RubyLexer.html">RubyLexer</a> scanning methods:
beginning_of_line?, check, scan, etc.</p>
</li><li>
<p>Added a bunch of process_* methods extracted from old yylex. process_amper,
etc.</p>
</li><li>
<p>Added lib/.document to save my laptop&#39;s battery from pain and suffering</p>
</li><li>
<p>Adjust lineno when we lex a bunch of blank lines.</p>
</li><li>
<p>Attach lineno to tIDENTIFIER values (strings, ugh)</p>
</li><li>
<p>Cleaned up and re-ordered node_assign to be faster (ordered by actual
occurrance).</p>
</li><li>
<p>Extend <a
href="RubyParserStuff.html#method-i-gettable">RubyParserStuff#gettable</a>
to set the lineno if it comes in with the id.</p>
</li><li>
<p>Extended <a
href="RubyParserStuff.html#method-i-new_case">RubyParserStuff#new_case</a>
to take line number.</p>
</li><li>
<p>Finally dropped RPStringScanner&#39;s BS current_line.</p>
</li><li>
<p>Finally dropped RPStringScanner&#39;s BS line number calculation (lineno).</p>
</li><li>
<p>Implemented Sexp#add_all since we now have a test case for it.</p>
</li><li>
<p>Removed :call case of node_assign. I don&#39;t think it is possible.</p>
</li><li>
<p>Removed <a href="RubyLexer.html">RubyLexer</a> extra_lines_added. No longer
used. Complex heredoc lineno&#39;s possible screwed up.</p>
</li><li>
<p>Removed RubyLexer#parse_number. Handled by oedipus_lex.</p>
</li><li>
<p>Removed RubyLexer#yacc_value now that next_token returns pairs.</p>
</li><li>
<p>Removed RubyLexer&#39;s @src. Now taken care of by oedipus_lex.</p>
</li><li>
<p>Removed RubyParser#advance. RubyParser#next_token takes care of everything
now.</p>
</li><li>
<p>Removed RubyParserExtras#arg_add. (presidentbeef! YAY!)</p>
</li><li>
<p>Removed lib/gauntlet_rubyparser.rb. I just don&#39;t use it anymore. Too
slow.</p>
</li><li>
<p><a
href="RubyLexer.html#method-i-is_label_possible-3F">RubyLexer#is_label_possible?</a>
doesn&#39;t need an arg</p>
</li><li>
<p><a href="RubyLexer.html#method-i-process_token">RubyLexer#process_token</a>
is now a normal oedipal lexer method.</p>
</li><li>
<p>RubyParser#next_token now expects <a
href="RubyLexer.html#method-i-next_token">RubyLexer#next_token</a> to
return a pair (type, val).</p>
</li><li>
<p>TRYING a new scheme to figure out encodings… but I&#39;m about to throw in
the towel. I hate this stuff so much.</p>
</li><li>
<p>Turned off oedipus_lex&#39;s automatic line counting. (pushing to
oedipus_lex soon).</p>
</li><li>
<p>Updated to oedipus_lex 2.1+.</p>
</li></ul>
</li><li>
<p>7 bug fixes:</p>
<ul><li>
<p>1.8: Properly parse `a (:b, :c, :d =&gt; :e)`. (presidentbeef)</p>
</li><li>
<p>Fixed lexing symbol!= vs symbol!. Please use your spacebar. Think of the
children.</p>
</li><li>
<p>Fixed line for dstr spanning multiple lines via backslash. (presidentbeef)</p>
</li><li>
<p>Fixed line numbers for odd cases with trailing whitespace. (presidentbeef)</p>
</li><li>
<p>Fixed line numbers on ambiguous calls w/ gvar/ivar args. (presidentbeef)</p>
</li><li>
<p>Max out unicode hex values to 2-4 or 2-6 chars or pack will overflow and
puke.</p>
</li><li>
<p>Removed ESC_RE from <a href="RubyLexer.html">RubyLexer</a>. Must have
slipped through.</p>
</li></ul>
</li></ul>

<h3 id="label-3.3.0+-2F+2014-01-14">3.3.0 / 2014-01-14<span><a href="#label-3.3.0+-2F+2014-01-14">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Notes:</p>
</li></ul>

<p>39 files failed to parse out of ~834k files makes this 99.9953% or 4.07σ.</p>
<ul><li>
<p>15 minor enhancements:</p>
<ul><li>
<p>2.0: Parse kwarg as lvars. (chastell)</p>
</li><li>
<p>Added <a
href="RubyLexer.html#method-i-beginning_of_line-3F">RubyLexer#beginning_of_line?</a>,
check(re), end_of_stream?</p>
</li><li>
<p>Added <a
href="RubyLexer.html#method-i-process_token_keyword">RubyLexer#process_token_keyword</a>.</p>
</li><li>
<p>Added <a href="RubyLexer.html#method-i-scan">RubyLexer#scan</a>, matched,
beginning_of_line? and others to decouple from internals.</p>
</li><li>
<p>Added lexing of u### and u{###}.“</p>
</li><li>
<p>Added optimizations for simple quoted symbols.</p>
</li><li>
<p>Aliased Lexer#src to ss (since that is what it is).</p>
</li><li>
<p>Allow for 20 in parser class name.</p>
</li><li>
<p>Modified parsers line number calculations for defn nodes.</p>
</li><li>
<p>Removed Env#dynamic, dynamic?, use, used?</p>
</li><li>
<p>Removed RubyLexer#tern. Introduced and disused during 3.0 alpha.
(whitequark)</p>
</li><li>
<p>Removed unused RubyLexer#warnings.</p>
</li><li>
<p>Renamed *_RE consts to just * (IDENT_CHAR, ESC, etc).</p>
</li><li>
<p>new_defn now sets arg node line number directly.</p>
</li><li>
<p>zero byte is allowed in symbols for 1.9 / 2.0.</p>
</li></ul>
</li><li>
<p>11 bug fixes:</p>
<ul><li>
<p>2.0: Fixed paren-less kwargs in defn.</p>
</li><li>
<p>Don&#39;t bother with regexp encoding options on 1.9+ to avoid warnings.</p>
</li><li>
<p>Fix constant re-build on ruby 2.0 + rake 10.</p>
</li><li>
<p>Fix lexing of %i with extra whitespace. (flori)</p>
</li><li>
<p>Fixed <a
href="RubyParserStuff.html#method-i-new_body">RubyParserStuff#new_body</a>
to deal with nonsensical code better (begin-empty+else). (snatchev)</p>
</li><li>
<p>Fixed bug lexing <a href="k">h</a>=begin … end. Use your space bars people!</p>
</li><li>
<p>Fixed env scoping in new lambdas.</p>
</li><li>
<p>Fixed handling of single array arg in attrasgn.</p>
</li><li>
<p>Fixed test to call <a
href="RubyLexer.html#method-i-reset">RubyLexer#reset</a> between
assertions.</p>
</li><li>
<p>No longer assigning ivar/cvars to env. Only locals should be in env.</p>
</li><li>
<p>Refactored initialize and reset to more properly re-initialize as needed.</p>
</li></ul>
</li></ul>

<h3 id="label-3.2.2+-2F+2013-07-11">3.2.2 / 2013-07-11<span><a href="#label-3.2.2+-2F+2013-07-11">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>5 bug fixes:</p>
<ul><li>
<p>1.9/2.0: fixed assocs in return args. (presidentbeef)</p>
</li><li>
<p>Fixed handling of parse error when class is nested in multiple defs.
(whitequark)</p>
</li><li>
<p>Fixed lexing of %w[] w/ funny whitespace separators. (whitequark)</p>
</li><li>
<p>Fixed more call nodes that have trailing comma syntax. (presidentbeef)</p>
</li><li>
<p>Fixed more call_args slippage.</p>
</li></ul>
</li></ul>

<h3 id="label-3.2.1+-2F+2013-07-03">3.2.1 / 2013-07-03<span><a href="#label-3.2.1+-2F+2013-07-03">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>1.9/2.0: Trailing assocs were being munged into arrays. (presidentbeef)</p>
</li></ul>
</li></ul>

<h3 id="label-3.2.0+-2F+2013-07-02">3.2.0 / 2013-07-02<span><a href="#label-3.2.0+-2F+2013-07-02">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement:</p>
<ul><li>
<p>Added (rough draft) 2.0 support. Still missing some small / rare things.</p>
</li></ul>
</li><li>
<p>12 minor enhancements:</p>
<ul><li>
<p>Added %i(symbol-names…) support. (%I too)</p>
</li><li>
<p>Added 140 more tests, jumping test count from 1376 to 2143. Yay for test
reuse!</p>
</li><li>
<p>Added <a
href="RubyLexer.html#attribute-i-brace_nest">RubyLexer#brace_nest</a>.</p>
</li><li>
<p>Added compare20 rake task to diff the grammar architecture against MRI.</p>
</li><li>
<p>Added lpar_beg and paren_nest to lexer to track state of parens in stabbies</p>
</li><li>
<p>Added shadow nodes for scoped block args.</p>
</li><li>
<p>Compound RubyParser now defaults to 2.0.</p>
</li><li>
<p>Fixed rake to &lt; 10, because 10&#39;s file dependency handling is so very
broken.</p>
</li><li>
<p>Made it possible to specify version in bin/ruby_parse_extract_error w/ -v
18|19|20</p>
</li><li>
<p>Refactored to RubyParserStuff::ENCODING_ORDER to allow custom tweaking of
encoding guessing. (samlown)</p>
</li><li>
<p>Switched `rake debug` to default to 2.0.</p>
</li><li>
<p>Translated some fixes across 1.8 and 1.9 from 2.0.</p>
</li></ul>
</li><li>
<p>42 bug fixes:</p>
<ul><li>
<p>2.0: Fixed a number of block args scenarios w/ kwargs</p>
</li><li>
<p>2.0: Fixed args_tail mismatching against lexer.</p>
</li><li>
<p>2.0: Fixed assocs to return a hash node.</p>
</li><li>
<p>2.0: Fixed f_block_kw production.</p>
</li><li>
<p>2.0: Fixed f_block_kwarg production.</p>
</li><li>
<p>2.0: Fixed handling of stabby proc args in parens.</p>
</li><li>
<p>2.0: Fixed lexing of kwsplat nodes.</p>
</li><li>
<p>2.0: Implemented kwsplat nodes.</p>
</li><li>
<p>Added tUBANG to lexer.</p>
</li><li>
<p>Apparently ruby doesn&#39;t warn for escaped octal that goes above 7. wtf.</p>
</li><li>
<p>Cleaned up a LOT of arg handling (block and defn, not calls) by using args.</p>
</li><li>
<p>ESC_RE is set to unicode. This seems problematic. <strong>shrug</strong></p>
</li><li>
<p>Either found a bug in MRI and/or fixed paren_nest count for []=? methods.</p>
</li><li>
<p>Extended IDENT_CHAR_RE on 1.9+ to top out at u{10ffff}… because we NEED a
million unicode chars.</p>
</li><li>
<p>Fixed % strings with interpolation.</p>
</li><li>
<p>Fixed BEGIN {} to return a sexp.</p>
</li><li>
<p>Fixed a[] += b. (stormbrew)</p>
</li><li>
<p>Fixed arg_blk_pass to allow for sub-args nodes.</p>
</li><li>
<p>Fixed assignable to allow for sexps to be passed to it.</p>
</li><li>
<p>Fixed assoc args in 1.9.</p>
</li><li>
<p>Fixed block_command and block_call (eg a.b c d) to to_sym their args
properly.</p>
</li><li>
<p>Fixed bug in compound RubyParser so it rescues RubyParser::SyntaxError.</p>
</li><li>
<p>Fixed env registration of cdecls.</p>
</li><li>
<p>Fixed lex value for { when expr_endfn.</p>
</li><li>
<p>Fixed lex_state for close paren/brace/bracket.</p>
</li><li>
<p>Fixed lex_state transition for 1.9 if we lexed a defn name. Only 1.8 is
odd.</p>
</li><li>
<p>Fixed lexer problem with state mgmt of identifiers that also have
registered var name.</p>
</li><li>
<p>Fixed lexing of “1 *n” to have the correct lex_state.</p>
</li><li>
<p>Fixed lexing of heredocs vs chevron for some lex_states.</p>
</li><li>
<p>Fixed op_asgn nodes to to_sym their args properly.</p>
</li><li>
<p>Fixed optional value block args.</p>
</li><li>
<p>Fixed parsing of __ENCODING__ on ruby 1.8 (vcall).</p>
</li><li>
<p>Fixed some oddity where 1.9 lexing was blowing up on “0o”. Seems invalid
now.</p>
</li><li>
<p>Fixed strings with escaped octals &gt; 128. Also… wtf.</p>
</li><li>
<p>Fixed support for empty symbol (wtf?).</p>
</li><li>
<p>Lexer is now declared UTF-8 internally. Hopefully this will fix the
encoding mess.</p>
</li><li>
<p>Made UTF_8 the default guess on encodings when it isn&#39;t explicit.</p>
</li><li>
<p>Parsing of __ENCODING__ on ruby 1.9+ (in ruby 1.9+) is now colon2 sexp.
(whitequark)</p>
</li><li>
<p>Renamed RubyLexer#nest to string_nest</p>
</li><li>
<p><a href="RubyLexer.html#method-i-unescape">RubyLexer#unescape</a> ignores
bad octal/hex and returns unicode strings.</p>
</li><li>
<p>Switched a number of lexical constructs to use IDENT_CHAR_RE instead of w.
I wish there were something cleaner for regexps + unicode.</p>
</li><li>
<p>Switched ruby_parse_extract_error to use binread.</p>
</li></ul>
</li></ul>

<h3 id="label-3.1.3+-2F+2013-04-09">3.1.3 / 2013-04-09<span><a href="#label-3.1.3+-2F+2013-04-09">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 bug fixes:</p>
<ul><li>
<p>Fixed begin w/ else but no rescue. (whitequark)</p>
</li><li>
<p>Removed literal stripping from block_append. Not its job.</p>
</li></ul>
</li></ul>

<h3 id="label-3.1.2+-2F+2013-03-18">3.1.2 / 2013-03-18<span><a href="#label-3.1.2+-2F+2013-03-18">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>OMG A SECURITY ISSUE FOR CODE NOBODY USES… EVER</p>
</li></ul>
</li></ul>

<h3 id="label-3.1.1+-2F+2012-12-19">3.1.1 / 2012-12-19<span><a href="#label-3.1.1+-2F+2012-12-19">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Added MOVE_TIMEOUT env var for ruby_parse_extract_error to move slow files
to a sibling directory</p>
</li></ul>
</li><li>
<p>4 bug fixes:</p>
<ul><li>
<p>1.9: Fixed lexing of “0o”. (whitequark)</p>
</li><li>
<p>1.9: Fixed parsing of unary plus on literals. (whitequark)</p>
</li><li>
<p>Added timeout arg to RubyParser#process to pass through to the real parser</p>
</li><li>
<p>Updated Synopsis to reflect new options for running RP. (louismullie)</p>
</li></ul>
</li></ul>

<h3 id="label-3.1.0+-2F+2012-12-06">3.1.0 / 2012-12-06<span><a href="#label-3.1.0+-2F+2012-12-06">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Added RubyParser.for_current_ruby to provide a parser that matches your
runtime. (neilconway)</p>
</li><li>
<p>Duck-typed IDENT_CHAR_RE instead of using RUBY_VERSION</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>Cleared out body comments in class/module/defn/defs</p>
</li><li>
<p>Flipped lexer tests to US-ASCII to avoid encoding hell</p>
</li><li>
<p>yyerror is now an alias for syntax_error</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.4+-2F+2012-11-26">3.0.4 / 2012-11-26<span><a href="#label-3.0.4+-2F+2012-11-26">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>RPStringScanner#lineno was still using byte offset, not char offset.
(brynary)</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.3+-2F+2012-11-23">3.0.3 / 2012-11-23<span><a href="#label-3.0.3+-2F+2012-11-23">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Improved error output on invalid char in expression.</p>
</li></ul>
</li><li>
<p>1 bug fix:</p>
<ul><li>
<p>Fixed lexing of no-name ivars. (whitequark)</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.2+-2F+2012-11-21">3.0.2 / 2012-11-21<span><a href="#label-3.0.2+-2F+2012-11-21">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>52 down makes 99.9767% or 3.7σ. 130 files failed to parse out of 558k.</p>
<ul><li>
<p>4 minor enhancements:</p>
<ul><li>
<p>Added RP_TIMEOUT env var to override default timeout of 10 seconds.</p>
</li><li>
<p>Minor optimization to RubyLexer#parse_number</p>
</li><li>
<p>Only output parseerror output to stderr if $DEBUG.</p>
</li><li>
<p>ruby_parse_extract_error modified to include &#39;it&#39; blocks in its
search.</p>
</li></ul>
</li><li>
<p>7 bug fixes:</p>
<ul><li>
<p>1.9: Fixed args in dot-call forms (eg f.(…)).</p>
</li><li>
<p>1.9: Fixed lexing stabby lambda w/ do/end</p>
</li><li>
<p>Deal better with DOS files. Ugh.</p>
</li><li>
<p>Fix line number of production after heredoc.</p>
</li><li>
<p>Fixed RubyParser#process to reuse parser instances across calls.</p>
</li><li>
<p>Fixed line numbers for several productions.</p>
</li><li>
<p>new_call sets line number to smallest line number of members.</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.1+-2F+2012-11-02">3.0.1 / 2012-11-02<span><a href="#label-3.0.1+-2F+2012-11-02">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 bug fixes – both based on MRI bugs… Yay?:</p>
<ul><li>
<p>1.9.2 doesn&#39;t have String#byteslice… so I have to do the
<strong>HORRIBLE</strong>.</p>
</li><li>
<p>Lexing regexps w/ bad character encodings and no declared options will fall
back to /…/n.</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0+-2F+2012-11-02">3.0.0 / 2012-11-02<span><a href="#label-3.0.0+-2F+2012-11-02">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>I&#39;ve hit 99.967% success rate against 558k files! 3.6σ!! 182 files
failed to parse and spot checking them shows that they&#39;re pretty much
lost causes. I&#39;m sure I missed some stuff, but it is more important at
this point to release a version to get more people using it in more diverse
ways than I can come up with.</p>
<ul><li>
<p>3 minor enhancements:</p>
<ul><li>
<p>Added RBStringScanner#charpos using string_to_pos.</p>
</li><li>
<p>Added RBStringScanner#string_to_pos using String#byteslice.</p>
</li><li>
<p>Optimized regexp used for escape chars in strings. (presidentbeef)</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>Fixed current_line and unread_many depending on StringScanner#pos</p>
</li><li>
<p>Fixed parsing of &#39;a[] = b&#39;</p>
</li><li>
<p>Fixed the worst abuse of heredocs EVER. Just because it is valid
doesn&#39;t mean you should.</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a10+-2F+2012-10-26">3.0.0.a10 / 2012-10-26<span><a href="#label-3.0.0.a10+-2F+2012-10-26">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement:</p>
<ul><li>
<p>iter nodes are now structurally the same as defs. Block args are COMPLETELY
different.</p>
</li></ul>
</li><li>
<p>4 minor enhancements:</p>
<ul><li>
<p>1.8 and 1.9 now treat f { |(…)| } differently, per MRI.</p>
</li><li>
<p>1.9: Added __ENCODING__ support. (witlessbird)</p>
</li><li>
<p>1.9: Finished coverage for masgn variants in block args</p>
</li><li>
<p>1.9: covered all forms of block args: optional, splat, block, and
destructuring</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a9+-2F+2012-10-22">3.0.0.a9 / 2012-10-22<span><a href="#label-3.0.0.a9+-2F+2012-10-22">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Holy crap! I&#39;ve hit a 99.92% success rate against 558k files! 492
failed parses to go. NOW is the time to start testing ruby_parser against
your code!</p>
<ul><li>
<p>16 minor enhancements:</p>
<ul><li>
<p>1.9 parser: Finished magic encoding and utf-8 bom support.</p>
</li><li>
<p>1.9: Added leading dot support eg “an.b”.</p>
</li><li>
<p>1.9: Added partial handling for *arg and opt=val args in block args.</p>
</li><li>
<p>1.9: OMFG Encoding is the worst thing ever. Overhauled encoding support
once again. It is much better at doing last ditch guessing of the encoding
of the source file.</p>
</li><li>
<p>1.9: added String#grep for legacy support.</p>
</li><li>
<p>Added Sexp#block_pass?</p>
</li><li>
<p>Added ability to delete slow files when they timeout.</p>
</li><li>
<p>Added block_dup_check and refactored grammar code to use it for block arg
handling.</p>
</li><li>
<p>Added in_lex_state?(*states) to clean up lexer code.</p>
</li><li>
<p>Added tentative support for optional block args. THIS IS SUBJECT TO
CHANGE!!</p>
</li><li>
<p>Added toggleable debugging to StackState to make my life easier</p>
</li><li>
<p>All untested uses have not moved but have been laced with poison.</p>
</li><li>
<p>Finally got good tests for most forms of double-block arg errors.</p>
</li><li>
<p>Moved all <em>known</em> uses of SyntaxError to RubyParser::SyntaxError</p>
</li><li>
<p>f_block_optarg now always returns a block node.</p>
</li><li>
<p>ruby_parse_extract_error uses Find.find instead of globbing so dot files
aren&#39;t missed.</p>
</li></ul>
</li><li>
<p>12 bug fixes:</p>
<ul><li>
<p>1.9: Completely ignore IndexError in unread_many because… you know… it
sucks.</p>
</li><li>
<p>1.9: Fixed lex state after lexing ? in trinary.</p>
</li><li>
<p>1.9: Fixed lex state in some ternarys.</p>
</li><li>
<p>1.9: Fixed parsing of “1 ? b(&#39;&#39;) : 2na d: 3”… ARE YOU NOT GLAD?!?!</p>
</li><li>
<p>Fix Timeout differences between 1.8 and 1.9 :(</p>
</li><li>
<p>Fixed emacs-style encodings to deal with no whitespace.</p>
</li><li>
<p>Fixed error message for bad % codes. (whitequark)</p>
</li><li>
<p>Fixed lexing of :a==&gt;b vs :a===b vs :a==&gt;b. P.S. Your space bar is
broken. chump.</p>
</li><li>
<p>Fixed lexing of rare numeric formats.</p>
</li><li>
<p>Fixed magic comment encodings on DOS files … :/</p>
</li><li>
<p>Fixed ruby_parse_extract_error to exit non-zero on errors.</p>
</li><li>
<p>Removed Symbol#is_argument and switch usage to is_arg?</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a8+-2F+2012-09-26">3.0.0.a8 / 2012-09-26<span><a href="#label-3.0.0.a8+-2F+2012-09-26">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 bug fix:</p>
<ul><li>
<p>Remove method d from global namespace. (alexch)</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a7+-2F+2012-09-21">3.0.0.a7 / 2012-09-21<span><a href="#label-3.0.0.a7+-2F+2012-09-21">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>3 minor enhancements:</p>
<ul><li>
<p>Reorganized ruby_parse_extract_error so it will start much faster with a
bunch of glob directories</p>
</li><li>
<p><a href="RubyParserStuff.html#method-i-process">RubyParserStuff#process</a>
takes optional time arg and raises Timeout::Error if it goes too long. You
should rescue that, ya know…</p>
</li><li>
<p>ruby_parse_extract_error now checks *.rake and Rakefile on dir scan.</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>1.9: Fixed ternary state tracking so {a:f{f()},b:nil} won&#39;t trip up the
lexer.</p>
</li><li>
<p>Fixed optional values in block args (no20/no21)</p>
</li><li>
<p>ruby_parse_extract_error skips non-files. Some asshats put .rb on their
dirs. :(</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a6+-2F+2012-08-20">3.0.0.a6 / 2012-08-20<span><a href="#label-3.0.0.a6+-2F+2012-08-20">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>1.8: Added basic encoding support to 1.8 parser. Assumes -Ku.</p>
</li><li>
<p>1.9: Added encoding magic comment support to 1.9 parser.</p>
</li></ul>
</li><li>
<p>8 bug fixes:</p>
<ul><li>
<p>1.9: Fixed lexing of -1 w/in conditionals. yeah… I dunno.</p>
</li><li>
<p>1.9: Fixed parsing of a do | | end.</p>
</li><li>
<p>1.9: Fixed parsing of not(x).</p>
</li><li>
<p>1.9: Fixed parsing of op_asgn + rescue: &#39;a ||= b rescue nil&#39;</p>
</li><li>
<p>1.9: added r to the EOL backslash handler. dos files blow</p>
</li><li>
<p>1.9: hacked in a workaround for 1.9 specific regexps running in 1.8.</p>
</li><li>
<p>Added reset to RubyParser proxy class</p>
</li><li>
<p>Fixed lexing of conditional w/ %() tokens</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a5+-2F+2012-07-31">3.0.0.a5 / 2012-07-31<span><a href="#label-3.0.0.a5+-2F+2012-07-31">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>5 bug fixes:</p>
<ul><li>
<p>1.9: Fix construction of &#39;f(:x, y: nil,)&#39; w/ trailing comma.</p>
</li><li>
<p>1.9: cleaned up lexing exit lex_state handling. Fixes bug parsing &#39;if f
:x; end&#39;</p>
</li><li>
<p>1.9: fixed building of right-leaning masgns: &#39;f { |a, (b, c)| }&#39;</p>
</li><li>
<p>1.9: fixed lexing &#39;when *splat&#39;</p>
</li><li>
<p>1.9: fixed lexing of regexps in whens</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a4+-2F+2012-07-26">3.0.0.a4 / 2012-07-26<span><a href="#label-3.0.0.a4+-2F+2012-07-26">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>10 minor enhancements:</p>
<ul><li>
<p>&#39;rake debug&#39; defaults to 1.9 parser since that&#39;s all I&#39;m
doing these days</p>
</li><li>
<p>1.9: Fixed f { |(a, b, …), …| … } handling.</p>
</li><li>
<p>Added &#39;rake extract F=path&#39; task to quickly extract errors from
large files</p>
</li><li>
<p>Added on_error handler to provide more readable error message.</p>
</li><li>
<p>Aliased process to parse.</p>
</li><li>
<p>Renamed parse to process (legacy name), added default path of
&#39;(string)&#39;</p>
</li><li>
<p>cleaned ruby_parse_extract_error  output and fixed to 1.9 parser</p>
</li><li>
<p>ruby_parse_extract_error expands shell globs from ARGV</p>
</li><li>
<p>ruby_parse_extract_error should also capture RuntimeError</p>
</li><li>
<p>yyerror(msg) now warns with the message instead of ignoring it.</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>1.9: Fixed bug lexing/parsing [ in rhs.</p>
</li><li>
<p>1.9: Fixed f { |((a, b), c)| … } handling</p>
</li><li>
<p>1.9: fixed newline handling during expr_value</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a3+-2F+2012-07-03">3.0.0.a3 / 2012-07-03<span><a href="#label-3.0.0.a3+-2F+2012-07-03">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement:</p>
<ul><li>
<p>OMG! Implemented all the 1.9 arg crap and I went from 500 lines of
structural diff to 32!</p>
</li></ul>
</li><li>
<p>17 minor enhancements:</p>
<ul><li>
<p>1.9: !(…) is now a method call. ugh</p>
</li><li>
<p>1.9: Added __ENCODING__ keyword (returns Unsupported atm).</p>
</li><li>
<p>1.9: Added support for “a.()” thingy. whatever you call it. Have I ever
mentioned that ruby has too much syntax? I mean really…</p>
</li><li>
<p>1.9: Moved kRETURN/kBREAK/kNEXT from command_call to command</p>
</li><li>
<p>1.9: Removed when_args and refactored into args production.</p>
</li><li>
<p>1.9: Support for not/! being a call to #!. why matz? why?!?</p>
</li><li>
<p>1.9: Support for trailing comma support in opt call args.</p>
</li><li>
<p>1.9: Switched keyword support to deal with 1.8 vs 1.9 differences.</p>
</li><li>
<p>1.9: refactored and created command_asgn</p>
</li><li>
<p>1.9: removed case/else from primary</p>
</li><li>
<p>1.9: reworked mlhs and family. Now horrible things like &#39;a, *, c =
f&#39; work</p>
</li><li>
<p>1.9: reworked top level rules from program to expr. Lots of lame
refactorings in mri.</p>
</li><li>
<p>Moved &#39;a[]&#39; from primary down to method_call</p>
</li><li>
<p>Removed &#39;args trailer&#39; production from assoc_list (eg {1, 2}).</p>
</li><li>
<p>Removed 1.9 support for : as a terminator in do/then</p>
</li><li>
<p>RubyParser no longer subclasses the 18 parser, so I had to change some
consts around.</p>
</li><li>
<p>Undeprecated RubyParser - but now it is a compound parser that tries 1.9
first.</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>1.9: fixed bang method name.</p>
</li><li>
<p>Fixed case/when/splat handling on both 1.8 and 1.9.</p>
</li><li>
<p>Removed lambda_body production from lambda</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a2+-2F+2012-06-19">3.0.0.a2 / 2012-06-19<span><a href="#label-3.0.0.a2+-2F+2012-06-19">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Updated to sexp_processor ~&gt; 4.0</p>
</li></ul>
</li><li>
<p>1 bug fix:</p>
<ul><li>
<p>Fixed new_module to remove scope/block. Not enough tests on module
variance.</p>
</li></ul>
</li><li>
<p>1 known issue:</p>
<ul><li>
<p>No parsing of “a.()” thingy. (reported by julian7) (patches welcome!)</p>
</li></ul>
</li></ul>

<h3 id="label-3.0.0.a1+-2F+2012-05-22">3.0.0.a1 / 2012-05-22<span><a href="#label-3.0.0.a1+-2F+2012-05-22">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>This is the first alpha release of the 3.0.0 series. It is probably
woefully incomplete, bug ridden, and hasn&#39;t showered in several days.
Please please please beat the crap out of it and send
bugs/patches/complaints/suggestions.</p>
<ul><li>
<p>5 major enhancements:</p>
<ul><li>
<p>1.9 parsing! Thanks to EVERYONE for submitting patches for this!</p>
</li><li>
<p>Removed :arglist from everything but :op_asgn1</p>
</li><li>
<p>Removed :block from resbody</p>
</li><li>
<p>Removed :block from when</p>
</li><li>
<p>Removed :block nodes inside of scope nodes (defn/defs/class/sclass).</p>
</li><li>
<p>Removed :scope nodes in defn/defs/class/sclass nodes.</p>
</li><li>
<p>(probably more sexp cleanup to come before 3.0.0 final)</p>
</li></ul>
</li><li>
<p>25 minor enhancements:</p>
<ul><li>
<p>1.9: Fix !a. (wanabe)</p>
</li><li>
<p>1.9: Method calling with postargs. (wanabe)</p>
</li><li>
<p>1.9: Method definition with postargs. (wanabe)</p>
</li><li>
<p>1.9: Support lambda args without parentheses. (wanabe)</p>
</li><li>
<p>Added R arg to `rake debug` to debug ruby straight up</p>
</li><li>
<p>Added RubyParser, subclassing <a href="Ruby18Parser.html">Ruby18Parser</a>
but warning on instantiation.</p>
</li><li>
<p>Added backref_assign_error (needs tests)</p>
</li><li>
<p>Added bin/ruby_parse_extract_error to help with error submissions</p>
</li><li>
<p>Added debug task to help quickly get into a bug</p>
</li><li>
<p>Added more 18 vs 19 lexing tests for ?c.</p>
</li><li>
<p>Added ruby_parser.rb that pulls everything together in proper order.</p>
</li><li>
<p>Added tLABEL. (brynary)</p>
</li><li>
<p>Branched ruby_parser.y to ruby18_parser.y</p>
</li><li>
<p>Fix to pass test_lambda_args_block__19 test. (mrmargolis)</p>
</li><li>
<p>Got rid of one instance of unread_many. (Confusion)</p>
</li><li>
<p>Moved everything from RubyParser to <a
href="RubyParserStuff.html">RubyParserStuff</a> and included module in
both.</p>
</li><li>
<p>Refactored 1.9 args handling</p>
</li><li>
<p>Refactored and added new_resbody to ruby_parser_extras.</p>
</li><li>
<p>Refactored and added new_when</p>
</li><li>
<p>Refactored tests infrastructure and added both 1.8 and 1.9 test branches.</p>
</li><li>
<p>Removed unused methods: unread, begin_of_line? was_begin_of_line. (YAY!)
(Confusion)</p>
</li><li>
<p>Renamed ruby_parser.y to ruby19_parser.y</p>
</li><li>
<p><a href="RubyLexer.html">RubyLexer</a> now takes a version specifier.</p>
</li><li>
<p>Started doing comparative refactoring between MRI&#39;s 1.9 parser and
RP&#39;s. Shouldn&#39;t differ functionally except where we missed stuff in
RP.</p>
</li><li>
<p>`rake debug` prints the output if it succeeds.</p>
</li></ul>
</li><li>
<p>21 bug fixes:</p>
<ul><li>
<p>Added missing gvar arg error. (1.8)</p>
</li><li>
<p>Attach parser files to isolate to ensure they can build</p>
</li><li>
<p>Conditionalize handling of tLABEL to ruby19+. Fixes issue #33.</p>
</li><li>
<p>DOH. I deactivated some tests and never reactivated them. (Confusion ftw)</p>
</li><li>
<p>Duplicate the input so that heredoc processing doesn&#39;t morph original.
(banister)</p>
</li><li>
<p>Entirely reworked block arg handling. (1.8)</p>
</li><li>
<p>Fix ?x char literal. (nobu)</p>
</li><li>
<p>Fixed 4/5 of literal lambda tests (jamie)</p>
</li><li>
<p>Fixed deps for parser</p>
</li><li>
<p>Fixed lexing of ?c for ruby 1.8 and 1.9.</p>
</li><li>
<p>Fixed more Ruby 1.9 args tests (brynary)</p>
</li><li>
<p>Fixed reswords to match MRI (1.8, 1.9)</p>
</li><li>
<p>Fixed symbols with no spaces in method calls (e.g. foo:bar) (YAY! brynary)</p>
</li><li>
<p>Fixed ternary_nil_no_space and other ternary edge cases for 1.9.
(lastobelus)</p>
</li><li>
<p>Fixed test_call_not_equal__19. First bug bounty! (albus522)</p>
</li><li>
<p>Made lambda w/o arg list zero out the arg slot.</p>
</li><li>
<p>Renamed awords to qwords to match stupid MRI naming. (1.8, 1.9) :(</p>
</li><li>
<p>Rolled out brynary&#39;s symbols-no-spaces (foo:bar) changes when parsing
1.8 code</p>
</li><li>
<p>Split 1.8 from 1.9 open paren lexer. Gawd that&#39;s ugly code.</p>
</li><li>
<p>Split block_var from for_var. (1.8, 1.9)</p>
</li><li>
<p>Use binread (and emulate in ruby 1.8) to avoid encoding issues</p>
</li></ul>
</li></ul>

<h3 id="label-2.3.1+-2F+2011-09-21">2.3.1 / 2011-09-21<span><a href="#label-2.3.1+-2F+2011-09-21">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 bug fixes:</p>
<ul><li>
<p>Fixed line numbers at end of special var+whitespace (larsch)</p>
</li><li>
<p>Holy crap I was smokin&#39; something good… Fixed 1.9.3 warning</p>
</li></ul>
</li></ul>

<h3 id="label-2.3.0+-2F+2011-09-06">2.3.0 / 2011-09-06<span><a href="#label-2.3.0+-2F+2011-09-06">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Add -g flag to parser compile if DEBUG</p>
</li><li>
<p>Lexer now embeds line number in yacc_value for keywords, helping fix up
line numbers</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>Fix method line numbers when no args and no parens (quix)</p>
</li><li>
<p>Fixed line numbers on return/break/next w/ result expr. (pjnz)</p>
</li><li>
<p>Fixed some lexing state in order to parse: &#39;f (1), 2&#39; as &#39;f(1,
2)&#39;. (invernizzi)</p>
</li></ul>
</li></ul>

<h3 id="label-2.2.0+-2F+2011-08-23">2.2.0 / 2011-08-23<span><a href="#label-2.2.0+-2F+2011-08-23">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Moved Keyword, Environment, and StackState inside of RubyParser</p>
</li><li>
<p>Added proper dsym and dsym-&gt;sym support.</p>
</li></ul>
</li><li>
<p>3 bug fixes:</p>
<ul><li>
<p>Added extra (failing) tests for call/iter line number checking (quix)</p>
</li><li>
<p>Fixed line numbers for certain call/iter edge cases</p>
</li><li>
<p>Fixed parsing of: alias :“&lt;&lt;” :“&gt;&gt;”.</p>
</li></ul>
</li></ul>

<h3 id="label-2.1.0+-2F+2011-08-15">2.1.0 / 2011-08-15<span><a href="#label-2.1.0+-2F+2011-08-15">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Added new accessor canonicalize_conditions to toggle conditional
canonicalization (on by default). (confused)</p>
</li><li>
<p>Awesome cleanup: Replaced call to append_block by block_append. (Confusion)</p>
</li></ul>
</li><li>
<p>2 bug fixes:</p>
<ul><li>
<p>Fixed handling last line of =begin/=end. (raybaxter)</p>
</li><li>
<p>Fixed source line numbers after heredocs. (jbarreneche)</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.6+-2F+2011-02-18">2.0.6 / 2011-02-18<span><a href="#label-2.0.6+-2F+2011-02-18">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Switched to hoe&#39;s racc plugin to clean up rakefile and builds</p>
</li></ul>
</li><li>
<p>1 bug fix:</p>
<ul><li>
<p>Fixed empty =begin/end.</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.5+-2F+2010-09-01">2.0.5 / 2010-09-01<span><a href="#label-2.0.5+-2F+2010-09-01">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Started merging like lexical cases to try to squeeze some optimization out</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.4+-2F+2009-08-18">2.0.4 / 2009-08-18<span><a href="#label-2.0.4+-2F+2009-08-18">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 minor enhancement:</p>
<ul><li>
<p>Changed requires around to be more accurate.</p>
</li></ul>
</li><li>
<p>4 bug fixes:</p>
<ul><li>
<p>Fixed .autotest for minitest</p>
</li><li>
<p>Fixed emacs escape lexing bug: “C-\” (maglev/gemstone)</p>
</li><li>
<p>Fixed octal lexing edgecases. (maglev/gemstone)</p>
</li><li>
<p>Fixed regexp lexing edgecases. (maglev/gemstone)</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.3+-2F+2009-06-23">2.0.3 / 2009-06-23<span><a href="#label-2.0.3+-2F+2009-06-23">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>4 minor enhancements:</p>
<ul><li>
<p>Removed dead code handling d/regex match node cruft.</p>
</li><li>
<p>Switched to minitest</p>
</li><li>
<p>Updated .autotest and rakefile wrt rcov for new hoe capabilities</p>
</li><li>
<p>Updated hoe for new capabilities</p>
</li></ul>
</li><li>
<p>4 bug fixes:</p>
<ul><li>
<p>Environment#all now deals with strange edge cases in RAD.</p>
</li><li>
<p>Fixed packaging/compilation issue.</p>
</li><li>
<p>Minor 1.9 fixes</p>
</li><li>
<p>hoe -&gt; flay -&gt; rubyparser rakefile circularity fixed</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.2+-2F+2009-01-20">2.0.2 / 2009-01-20<span><a href="#label-2.0.2+-2F+2009-01-20">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Added gauntlet_rubyparser plugin. YAY for easy massive bug-hunting.</p>
</li><li>
<p>Promoted Sexp&#39;s file/line/comments to sexp_processor.</p>
</li></ul>
</li><li>
<p>4 bug fixes:</p>
<ul><li>
<p>Fixed and improved the readme</p>
</li><li>
<p>Fixed lexing heredoc newlines.</p>
</li><li>
<p>Fixed line numbers on defns.</p>
</li><li>
<p>Fixed rdoc generation bug pointed out by hugh sasse (who rocks)</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.1+-2F+2008-11-04">2.0.1 / 2008-11-04<span><a href="#label-2.0.1+-2F+2008-11-04">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>2 minor enhancements:</p>
<ul><li>
<p>Updated for changes to splat node in many contexts.</p>
</li><li>
<p>Made PT a developer dep</p>
</li></ul>
</li></ul>

<h3 id="label-2.0.0+-2F+2008-10-22">2.0.0 / 2008-10-22<span><a href="#label-2.0.0+-2F+2008-10-22">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement</p>
<ul><li>
<p>Brought on the AWESOME! 4x faster! no known lexing/parsing bugs!</p>
</li></ul>
</li><li>
<p>71 minor enhancements</p>
<ul><li>
<p>1.9: Added Fixnum#ord.</p>
</li><li>
<p>1.9: Added missing Regexp constants and did it so it&#39;d work on 1.9.</p>
</li><li>
<p>Added store_comment and comments</p>
</li><li>
<p>Added StringScanner begin_of_line?</p>
</li><li>
<p>Added a bunch of tests for regexp escape chars, parse_string, read_escape,
? numbers, ? whitespace.</p>
</li><li>
<p>Added a hack for rubinius&#39; r2l eval bug.</p>
</li><li>
<p>Added a new token type tSTRING that bypasses tSTRING_BEG/END entirely. Only
does non-interpolated strings and then falls back to the old way. MUCH
cleaner tho.</p>
</li><li>
<p>Added bin/ruby_parse</p>
</li><li>
<p>Added compare rule to Rakefile.</p>
</li><li>
<p>Added coverage files/dirs to clean rule.</p>
</li><li>
<p>Added file and line numbers to all sexp nodes. Column/ranges to come.</p>
</li><li>
<p>Added lex_state change for lvars at the end of yylex.</p>
</li><li>
<p>Added lexed comments to defn/defs/class/module nodes.</p>
</li><li>
<p>Added stats gathering for yylex. Reordered yylex for avg data</p>
</li><li>
<p>Added tSYMBOL token type and parser rule to speed up symbol lexing.</p>
</li><li>
<p>Added tally output for getch, unread, and unread_many.</p>
</li><li>
<p>Added tests for ambigous uminus/uplus, backtick in cmdarg, square and curly
brackets, numeric gvars, eos edge cases, string quoting %&lt;&gt; and %%%.</p>
</li><li>
<p>All cases throughout yylex now return directly if they match, no
passthroughs.</p>
</li><li>
<p>All lexer cases now slurp entire token in one swoop.</p>
</li><li>
<p>All zarrays are now just empty arrays.</p>
</li><li>
<p>Changed s(:block_arg, :blah) to :“&amp;blah” in args sexp.</p>
</li><li>
<p>Cleaned up lexer error handling. Now just raises all over.</p>
</li><li>
<p>Cleaned up read_escape and regx_options</p>
</li><li>
<p>Cleaned up tokadd_string (for some definition of cleaned).</p>
</li><li>
<p>Converted single quoted strings to new tSTRING token type.</p>
</li><li>
<p>Coverage is currently 94.4% on lexer.</p>
</li><li>
<p>Done what I can to clean up heredoc lexing… still sucks.</p>
</li><li>
<p>Flattened resbodies in rescue node. Fixed .autotest file.</p>
</li><li>
<p>Folded lex_keywords back in now that it screams.</p>
</li><li>
<p>Found very last instanceof ILiteralNode in the code. haha!</p>
</li><li>
<p>Got the tests subclassing PTTC and cleaned up a lot. YAY</p>
</li><li>
<p>Handle yield(*ary) properly</p>
</li><li>
<p>MASSIVELY cleaned out =begin/=end comment processor.</p>
</li><li>
<p>Massive overhaul on Keyword class. All hail the mighty Hash!</p>
</li><li>
<p>Massively cleaned up ident= edge cases and fixed a stupid bug from jruby.</p>
</li><li>
<p>Merged @/@@ scanner together, going to try to do the same everywhere.</p>
</li><li>
<p>Refactored fix_arg_lex_state, common across the lexer.</p>
</li><li>
<p>Refactored new_fcall into new_call.</p>
</li><li>
<p>Refactored some code to get better profile numbers.</p>
</li><li>
<p>Refactored some more fix_arg_lex_state.</p>
</li><li>
<p>Refactored tail of yylex into its own method.</p>
</li><li>
<p>Removed Module#kill</p>
</li><li>
<p>Removed Token, replaced with Sexp.</p>
</li><li>
<p>Removed all parse_number and parse_quote tests.</p>
</li><li>
<p>Removed argspush, argscat. YAY!</p>
</li><li>
<p>Removed as many token_buffer.split(//)&#39;s as possible. 1 to go.</p>
</li><li>
<p>Removed begins from compstmts</p>
</li><li>
<p>Removed buffer arg for tokadd_string.</p>
</li><li>
<p>Removed crufty (?) solo &#39;@&#39; token… wtf was that anyhow?</p>
</li><li>
<p>Removed most jruby/stringio cruft from StringScanner.</p>
</li><li>
<p>Removed one unread_many… 2 to go. They&#39;re harder.</p>
</li><li>
<p>Removed store_comment, now done directly.</p>
</li><li>
<p>Removed token_buffer. Now I just use token ivar.</p>
</li><li>
<p>Removed use of s() from lexer. Changed the way line numbers are gathered.</p>
</li><li>
<p>Renamed *qwords to *awords.</p>
</li><li>
<p>Renamed StringScanner to <a href="RPStringScanner.html">RPStringScanner</a>
(a subclass) to fix namespace trashing.</p>
</li><li>
<p>Renamed parse to process and aliased to parse.</p>
</li><li>
<p>Renamed token_buffer to string_buffer since that arcane shit still needs
it.</p>
</li><li>
<p>Resolved the rest of the lexing issues I brought up w/ ruby-core.</p>
</li><li>
<p>Revamped tokadd_escape.</p>
</li><li>
<p>Rewrote Keyword and KWtable.</p>
</li><li>
<p>Rewrote <a href="RubyLexer.html">RubyLexer</a> using StringScanner.</p>
</li><li>
<p>Rewrote tokadd_escape. 79 lines down to 21.</p>
</li><li>
<p>Split out lib/ruby_parser_extras.rb so lexer is standalone.</p>
</li><li>
<p>Started to clean up the parser and make it as skinny as possible</p>
</li><li>
<p>Stripped out as much code as possible.</p>
</li><li>
<p>Stripped yylex of some dead code.</p>
</li><li>
<p>Switched from StringIO to StringScanner.</p>
</li><li>
<p>Updated rakefile for new hoe.</p>
</li><li>
<p>Uses pure ruby racc if <a href="'PURE_RUBY'">ENV</a>, otherwise use c.</p>
</li><li>
<p>Wrote a ton of lexer tests. Coverage is as close to 100% as possible.</p>
</li><li>
<p>Wrote args to clean up the big nasty args processing grammar section.</p>
</li><li>
<p>lex_strterm is now a plain array, removed RubyLexer#s(…).</p>
</li><li>
<p>yield and super now flatten args.</p>
</li></ul>
</li><li>
<p>21 bug fixes:</p>
<ul><li>
<p>I&#39;m sure this list is missing a lot:</p>
</li><li>
<p>Fixed 2 bugs both involving attrasgn (and ilk) esp when lhs is an array.</p>
</li><li>
<p>Fixed a bug in the lexer for strings with single digit hex escapes.</p>
</li><li>
<p>Fixed a bug parsing: a (args) { expr }… the space caused a different route
to be followed and all hell broke loose.</p>
</li><li>
<p>Fixed a bug with xn=beginvar not putting begin back.</p>
</li><li>
<p>Fixed attrasgn to have arglists, not arrays.</p>
</li><li>
<p>Fixed bug in defn/defs with block fixing.</p>
</li><li>
<p>Fixed class/module&#39;s name slot if colon2/3.</p>
</li><li>
<p>Fixed dstr with empty interpolation body.</p>
</li><li>
<p>Fixed for 1.9 string/char changes.</p>
</li><li>
<p>Fixed lexer BS wrt determining token type of words.</p>
</li><li>
<p>Fixed lexer BS wrt pass through values and lexing words. SO STUPID.</p>
</li><li>
<p>Fixed lexing of floats.</p>
</li><li>
<p>Fixed lexing of identifiers followed by equals. I hope.</p>
</li><li>
<p>Fixed masgn with splat on lhs</p>
</li><li>
<p>Fixed new_super to deal with block_pass correctly.</p>
</li><li>
<p>Fixed parser&#39;s treatment of :colon2 and :colon3.</p>
</li><li>
<p>Fixed regexp scanning of escaped numbers, ANY number is valid, not just
octs.</p>
</li><li>
<p>Fixed string scanning of escaped octs, allowing 1-3 chars.</p>
</li><li>
<p>Fixed unescape for n</p>
</li><li>
<p>Fixed: omg this is stupid. &#39;()&#39; was returning bare nil</p>
</li><li>
<p>Fixed: remove_begin now goes to the end, not sure why it didn&#39;t before.</p>
</li></ul>
</li></ul>

<h3 id="label-1.0.0+-2F+2007-12-20">1.0.0 / 2007-12-20<span><a href="#label-1.0.0+-2F+2007-12-20">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>1 major enhancement</p>
<ul><li>
<p>Birthday!</p>
</li></ul>
</li></ul>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

