<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README.hu - Sinatra</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Sinatra">Sinatra</a>
    <li><a href="#label-C3-9Atvonalak+-28routes-29">Útvonalak (routes)</a>
    <li><a href="#label-Statikus+-C3-A1llom-C3-A1nyok">Statikus állományok</a>
    <li><a href="#label-N-C3-A9zetek+-C3-A9s+Sablonok">Nézetek és Sablonok</a>
    <li><a href="#label-Haml+sablonok">Haml sablonok</a>
    <li><a href="#label-Erb+sablonok">Erb sablonok</a>
    <li><a href="#label-Builder+sablonok">Builder sablonok</a>
    <li><a href="#label-Sass+sablonok">Sass sablonok</a>
    <li><a href="#label-Be-C3-A1gyazott+sablonok">Beágyazott sablonok</a>
    <li><a href="#label-V-C3-A1ltoz-C3-B3k+el-C3-A9r-C3-A9se+a+sablonokban">Változók elérése a sablonokban</a>
    <li><a href="#label-F-C3-A1jlon+bel-C3-BCli+sablonok">Fájlon belüli sablonok</a>
    <li><a href="#label-Kulcsszavas+sablonok">Kulcsszavas sablonok</a>
    <li><a href="#label-Helperek">Helperek</a>
    <li><a href="#label-Sz-C5-B1r-C5-91k+-28filters-29">Szűrők (filters)</a>
    <li><a href="#label-Meg-C3-A1ll-C3-ADt-C3-A1s">Megállítás</a>
    <li><a href="#label-Passzol-C3-A1s">Passzolás</a>
    <li><a href="#label-Be-C3-A1ll-C3-ADt-C3-A1sok">Beállítások</a>
    <li><a href="#label-Hibakezel-C3-A9s">Hibakezelés</a>
    <li><a href="#label-Nem+tal-C3-A1lhat-C3-B3">Nem található</a>
    <li><a href="#label-Hiba">Hiba</a>
    <li><a href="#label-Mime+t-C3-ADpusok">Mime típusok</a>
    <li><a href="#label-Rack+Middleware">Rack Middleware</a>
    <li><a href="#label-Tesztel-C3-A9s">Tesztelés</a>
    <li><a href="#label-Sinatra-3A-3ABase+-+Middleware-ek-2C+k-C3-B6nyvt-C3-A1rak+-C3-A9s+modul-C3-A1ris+alkalmaz-C3-A1sok">Sinatra::Base - Middleware-ek, könyvtárak és moduláris alkalmazások</a>
    <li><a href="#label-Parancssori+lehet-C5-91s-C3-A9gek">Parancssori lehetőségek</a>
    <li><a href="#label-Fejleszt-C5-91i+v-C3-A1ltozat">Fejlesztői változat</a>
    <li><a href="#label-Tov-C3-A1bbi+inform-C3-A1ci-C3-B3k">További információk</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./LICENSE.html">LICENSE</a>
  
    <li><a href="./README_de_md.html">README.de</a>
  
    <li><a href="./README_es_md.html">README.es</a>
  
    <li><a href="./README_fr_md.html">README.fr</a>
  
    <li><a href="./README_hu_md.html">README.hu</a>
  
    <li><a href="./README_ja_md.html">README.ja</a>
  
    <li><a href="./README_ko_md.html">README.ko</a>
  
    <li><a href="./README_md.html">README</a>
  
    <li><a href="./README_pt-br_md.html">README.pt-br</a>
  
    <li><a href="./README_pt-pt_md.html">README.pt-pt</a>
  
    <li><a href="./README_ru_md.html">README.ru</a>
  
    <li><a href="./README_zh_md.html">README.zh</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.hu.md">

<h1 id="label-Sinatra"><a href="Sinatra.html">Sinatra</a><span><a href="#label-Sinatra">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><em>Fontos megjegyzés: Ez a dokumentum csak egy fordítása az angol nyelvű
változatnak, és lehet, hogy nem naprakész.</em></p>

<p>A <a href="Sinatra.html">Sinatra</a> egy <a
href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>
webalkalmazások Ruby nyelven történő fejlesztéséhez, minimális
energiabefektetéssel:</p>

<pre class="ruby"><span class="ruby-comment"># myapp.rb</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Helló Világ!&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Telepítsd a gem-et és indítsd el az alkalmazást a következőképpen:</p>

<pre class="ruby"><span class="ruby-identifier">sudo</span> <span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">sinatra</span>
  <span class="ruby-identifier">ruby</span> <span class="ruby-identifier">myapp</span>.<span class="ruby-identifier">rb</span>
</pre>

<p>Az alkalmazás elérhető lesz itt: <code>http://localhost:4567</code></p>

<h2 id="label-C3-9Atvonalak+-28routes-29">Útvonalak (routes)<span><a href="#label-C3-9Atvonalak+-28routes-29">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A Sinatrában az útvonalat egy HTTP metódus és egy URL-re illeszkedő minta
párosa alkotja. Minden egyes útvonalhoz tartozik egy blokk:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">..</span> <span class="ruby-identifier">megjelenítünk</span> <span class="ruby-identifier">valamit</span> <span class="ruby-operator">..</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">post</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">..</span> <span class="ruby-identifier">létrehozunk</span> <span class="ruby-identifier">valamit</span> <span class="ruby-operator">..</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">put</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">..</span> <span class="ruby-identifier">frissítünk</span> <span class="ruby-identifier">valamit</span> <span class="ruby-operator">..</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">delete</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">..</span> <span class="ruby-identifier">törlünk</span> <span class="ruby-identifier">valamit</span> <span class="ruby-operator">..</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Az útvonalak illeszkedését a rendszer a definiálásuk sorrendjében
ellenőrzi. Sorrendben mindig az első illeszkedő útvonalhoz tartozó metódus
kerül meghívásra.</p>

<p>Az útvonalminták tartalmazhatnak paramétereket is, melyeket a
<code>params</code> hash-ből érhetünk el:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello/:name&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># illeszkedik a &quot;GET /hello/foo&quot; és a &quot;GET /hello/bar&quot; útvonalakra</span>
    <span class="ruby-comment"># ekkor params[&#39;name&#39;] értéke &#39;foo&#39; vagy &#39;bar&#39; lesz</span>
    <span class="ruby-node">&quot;Helló #{params[&#39;name&#39;]}!&quot;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>A kulcsszavas argumentumokat (named parameters) blokk paraméterek útján is
el tudod érni:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello/:name&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;Helló #{n}!&quot;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Az útvonalmintákban szerepelhetnek joker paraméterek is, melyeket a
<code>params['splat']</code> tömbön keresztül tudunk elérni.</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/say/*/to/*&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># illeszkedik a /say/hello/to/world mintára</span>
    <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;hello&quot;, &quot;world&quot;]</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/download/*.*&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># illeszkedik a /download/path/to/file.xml mintára</span>
    <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Reguláris kifejezéseket is felvehetünk az útvonalba:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-regexp">/\A\/hello\/([\w]+)\z/</span> <span class="ruby-keyword">do</span>
    <span class="ruby-node">&quot;Helló, #{params[&#39;captures&#39;].first}!&quot;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Vagy blokk paramétereket:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-regexp">%r{/hello/([\w]+)}</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;Helló, #{c}!&quot;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Az útvonalak azonban számos egyéb illeszkedési feltétel szerint is
tervezhetők, így például az user agent karakterláncot alapul véve:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span>, :<span class="ruby-identifier">agent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/Songbird (\d\.\d)[\d\/]*?/</span> <span class="ruby-keyword">do</span>
    <span class="ruby-node">&quot;A Songbird #{params[&#39;agent&#39;][0]} verzióját használod&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># illeszkedik az egyéb user agentekre</span>
  <span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Statikus+-C3-A1llom-C3-A1nyok">Statikus állományok<span><a href="#label-Statikus+-C3-A1llom-C3-A1nyok">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A statikus fájlok kiszolgálása a <code>./public</code> könyvtárból
történik, de természetesen más könyvtárat is megadhatsz erre a célra,
mégpedig a :public_folder kapcsoló beállításával:</p>

<p>set :public_folder, File.dirname(<strong>FILE</strong>) + &#39;/static&#39;</p>

<p>Fontos megjegyezni, hogy a nyilvános könyvtár neve nem szerepel az URL-ben.
A ./public/css/style.css fájl az
<code>http://example.com/css/style.css</code> URL-en lesz elérhető.</p>

<h2 id="label-N-C3-A9zetek+-C3-A9s+Sablonok">Nézetek és Sablonok<span><a href="#label-N-C3-A9zetek+-C3-A9s+Sablonok">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A sablonfájlokat rendszerint a <code>./views</code> könyvtárba helyezzük,
de itt is lehetőség nyílik egyéb könyvtár használatára:</p>

<p>set :views, File.dirname(<strong>FILE</strong>) + &#39;/templates&#39;</p>

<p>Nagyon fontos észben tartani, hogy a sablononkra mindig szimbólumokkal
hivatkozunk, még akkor is, ha egyéb (ebben az esetben a
:&#39;subdir/template&#39;) könyvtárban tároljuk őket. A renderelő
metódusok minden, nekik közvetlenül átadott karakterláncot megjelenítenek.</p>

<h3 id="label-Haml+sablonok">Haml sablonok<span><a href="#label-Haml+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>HAML sablonok rendereléséhez szükségünk lesz a haml gem-re vagy könyvtárra:</p>

<pre class="ruby"><span class="ruby-comment"># Importáljuk be a haml-t az alkalmazásba</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;haml&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Ez szépen lerendereli a <code>./views/index.haml</code> sablont.</p>

<p>A <a href="http://haml.hamptoncatlin.com/docs/rdoc/classes/Haml.html">Haml
kapcsolói</a> globálisan is beállíthatók a <a
href="Sinatra.html">Sinatra</a> konfigurációi között, lásd az <a
href="http://www.sinatrarb.com/configuration.html">Options and
Configurations</a> lapot. A globális beállításokat lehetőségünk van
felülírni metódus szinten is.</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">haml</span>, {:<span class="ruby-identifier">format</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">html5</span> } <span class="ruby-comment"># az alapértelmezett Haml formátum az :xhtml</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>, :<span class="ruby-identifier">haml_options</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">format</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">html4</span> } <span class="ruby-comment"># immár felülírva</span>
  <span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Erb+sablonok">Erb sablonok<span><a href="#label-Erb+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p># Importáljuk be az erb-t az alkalmazásba</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;erb&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">index</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Ez a <code>./views/index.erb</code> sablont fogja lerenderelni.</p>

<h3 id="label-Builder+sablonok">Builder sablonok<span><a href="#label-Builder+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Szükségünk lesz a builder gem-re vagy könyvtárra a builder sablonok
rendereléséhez:</p>

<p># Importáljuk be a builder-t az alkalmazásba</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;builder&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">builder</span> :<span class="ruby-identifier">index</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Ez pedig a <code>./views/index.builder</code> állományt fogja renderelni.</p>

<h3 id="label-Sass+sablonok">Sass sablonok<span><a href="#label-Sass+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Sass sablonok használatához szükség lesz a haml gem-re vagy könyvtárra:</p>

<p># Be kell importálni a haml, vagy a sass könyvtárat</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sass&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/stylesheet.css&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">sass</span> :<span class="ruby-identifier">stylesheet</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Így a <code>./views/stylesheet.sass</code> fájl máris renderelhető.</p>

<p>A <a href="http://haml.hamptoncatlin.com/docs/rdoc/classes/Sass.html">Sass
kapcsolói</a> globálisan is beállíthatók a <a
href="Sinatra.html">Sinatra</a> konfigurációi között, lásd az <a
href="http://www.sinatrarb.com/configuration.html">Options and
Configurations</a> lapot. A globális beállításokat lehetőségünk van
felülírni metódus szinten is.</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">sass</span>, {:<span class="ruby-identifier">style</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">compact</span> } <span class="ruby-comment"># az alapértelmezett Sass stílus a :nested</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/stylesheet.css&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">sass</span> :<span class="ruby-identifier">stylesheet</span>, :<span class="ruby-identifier">sass_options</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">style</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">expanded</span> } <span class="ruby-comment"># felülírva</span>
  <span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Be-C3-A1gyazott+sablonok">Beágyazott sablonok<span><a href="#label-Be-C3-A1gyazott+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%div.title Helló Világ&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Lerendereli a beágyazott sablon karakerláncát.</p>

<h3 id="label-V-C3-A1ltoz-C3-B3k+el-C3-A9r-C3-A9se+a+sablonokban">Változók elérése a sablonokban<span><a href="#label-V-C3-A1ltoz-C3-B3k+el-C3-A9r-C3-A9se+a+sablonokban">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A sablonok ugyanabban a kontextusban kerülnek kiértékelésre, mint az
útvonal metódusok (route handlers). Az útvonal metódusokban megadott
változók közvetlenül elérhetőek lesznek a sablonokban:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:id&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@foo</span> = <span class="ruby-constant">Foo</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;id&#39;</span>])
    <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%h1= @foo.name&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>De megadhatod egy lokális változókat tartalmazó explicit hash-ben is:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:id&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">foo</span> = <span class="ruby-constant">Foo</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;id&#39;</span>])
    <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%h1= foo.name&#39;</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">foo</span> }
  <span class="ruby-keyword">end</span>
</pre>

<p>Ezt leginkább akkor érdemes megtenni, ha partial-eket akarunk renderelni
valamely más sablonból.</p>

<h3 id="label-F-C3-A1jlon+bel-C3-BCli+sablonok">Fájlon belüli sablonok<span><a href="#label-F-C3-A1jlon+bel-C3-BCli+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Sablonokat úgy is megadhatunk, hogy egyszerűen az alkalmazás fájl végére
begépeljük őket:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
  <span class="ruby-keyword">end</span>

  __END__

  <span class="ruby-identifier">@@</span> <span class="ruby-identifier">layout</span>
  <span class="ruby-operator">%</span><span class="ruby-identifier">tml</span>
    = <span class="ruby-keyword">yield</span>

  <span class="ruby-identifier">@@</span> <span class="ruby-identifier">index</span>
  <span class="ruby-operator">%</span><span class="ruby-identifier">iv</span>.<span class="ruby-identifier">title</span> <span class="ruby-constant">Helló</span> <span class="ruby-constant">Világ!</span><span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-operator">!</span>
</pre>

<p>Megjegyzés: azok a fájlon belüli sablonok, amelyek az alkalmazás fájl
végére kerülnek és függnek a sinatra könyvtártól, automatikusan
betöltődnek. Ha ugyanezt más alkalmazásfájlban is szeretnéd megtenni, hívd
meg a <code>use_in_file_templates!</code> metódust az adott fájlban.</p>

<h3 id="label-Kulcsszavas+sablonok">Kulcsszavas sablonok<span><a href="#label-Kulcsszavas+sablonok">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Sablonokat végül a felsőszintű <code>template</code> metódussal is
definiálhatunk:</p>

<pre class="ruby"><span class="ruby-identifier">template</span> :<span class="ruby-identifier">layout</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&quot;%html\n  =yield\n&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">template</span> :<span class="ruby-identifier">index</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;%div.title Helló Világ!&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Ha létezik “layout” nevű sablon, akkor az minden esetben meghívódik, amikor
csak egy sablon renderelésre kerül. A layoutokat ki lehet kapcsolni a
<code>:layout =&gt; false</code> meghívásával.</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">request</span>.<span class="ruby-identifier">xhr?</span>
  <span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Helperek">Helperek<span><a href="#label-Helperek">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Használd a felső szintű <code>helpers</code> metódust azokhoz a helper
függvényekhez, amiket az útvonal metódusokban és a sablonokban akarsz
használni:</p>

<pre class="ruby"><span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier">bar</span>(<span class="ruby-identifier">name</span>)
      <span class="ruby-node">&quot;#{name}bar&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:name&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">bar</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;name&#39;</span>])
  <span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Sz-C5-B1r-C5-91k+-28filters-29">Szűrők (filters)<span><a href="#label-Sz-C5-B1r-C5-91k+-28filters-29">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Az előszűrők (before filter) az adott hívás kontextusában minden egyes
kérés alkalmával kiértékelődnek, így módosíthatják a kérést és a választ
egyaránt. A szűrőkbe felvett példányváltozók elérhetőek lesznek az
útvonalakban és a sablonokban is:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@note</span> = <span class="ruby-string">&#39;Csá!&#39;</span>
    <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span> = <span class="ruby-string">&#39;/foo/bar/baz&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo/*&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@note</span> <span class="ruby-comment">#=&gt; &#39;Szeva!&#39;</span>
    <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment">#=&gt; &#39;bar/baz&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Az utószűrők az egyes kérések után, az adott kérés kontextusában kerülnek
kiértékelésre, így ezek is képesek módosítani a kérést és a választ
egyaránt. Az előszűrőkben és úvonalakban létrehozott példányváltozók
elérhetőek lesznek az utószűrők számára:</p>

<pre class="ruby"><span class="ruby-identifier">after</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Meg-C3-A1ll-C3-ADt-C3-A1s">Megállítás<span><a href="#label-Meg-C3-A1ll-C3-ADt-C3-A1s">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Egy kérés szűrőben vagy útvonalban történő azonnal blokkolásához használd a
következő parancsot:</p>

<p>halt</p>

<p>A megállításkor egy blokktörzset is megadhatsz …</p>

<p>halt &#39;ez fog megjelenni a törzsben&#39;</p>

<p>Vagy állítsd be a HTTP státuszt és a törzset is egyszerre …</p>

<p>halt 401, &#39;menj innen!&#39;</p>

<h2 id="label-Passzol-C3-A1s">Passzolás<span><a href="#label-Passzol-C3-A1s">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Az útvonalak továbbadhatják a végrehajtást egy másik útvonalnak a
<code>pass</code> függvényhívással:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/guess/:who&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">pass</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;who&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Frici&#39;</span>
    <span class="ruby-string">&quot;Elkaptál!&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/guess/*&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&quot;Elhibáztál!&quot;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Az útvonal blokkja azonnal kilép és átadja a vezérlést a következő
illeszkedő útvonalnak. Ha nem talál megfelelő útvonalat, a <a
href="Sinatra.html">Sinatra</a> egy 404-es hibával tér vissza.</p>

<h2 id="label-Be-C3-A1ll-C3-ADt-C3-A1sok">Beállítások<span><a href="#label-Be-C3-A1ll-C3-ADt-C3-A1sok">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Csak indításkor, de minden környezetre érvényesen fusson le:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">...</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Csak akkor fusson le, ha a környezet (a RACK_ENV környezeti változóban)
<code>:production</code>-ra van állítva:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> :<span class="ruby-identifier">production</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">...</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Csak akkor fusson le, ha a környezet <code>:production</code> vagy
<code>:test</code>:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> :<span class="ruby-identifier">production</span>, :<span class="ruby-identifier">test</span> <span class="ruby-keyword">do</span>
    <span class="ruby-operator">...</span>
  <span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Hibakezel-C3-A9s">Hibakezelés<span><a href="#label-Hibakezel-C3-A9s">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A hibakezelők ugyanabban a kontextusban futnak le, mint az útvonalak és
előszűrők, ezért számukra is elérhetőek mindazok a könyvtárak, amelyek az
utóbbiak rendelkezésére is állnak; így például a <code>haml</code>, az
<code>erb</code>, a <code>halt</code> stb.</p>

<h3 id="label-Nem+tal-C3-A1lhat-C3-B3">Nem található<span><a href="#label-Nem+tal-C3-A1lhat-C3-B3">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Amikor a <code>Sinatra::NotFound</code> kivétel fellép, vagy a válasz HTTP
státuszkódja 404-es, mindig a <code>not_found</code> metódus hívódik meg.</p>

<pre class="ruby"><span class="ruby-identifier">not_found</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Sehol sem találom, amit keresel&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Hiba">Hiba<span><a href="#label-Hiba">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Az <code>error</code> metódus hívódik meg olyankor, amikor egy útvonal,
blokk vagy előszűrő kivételt vált ki. A kivétel objektum lehívható a
<code>sinatra.error</code> <a href="Rack.html">Rack</a> változótól:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Elnézést, de valami szörnyű hiba lépett fel - &#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">env</span>[<span class="ruby-string">&#39;sinatra.error&#39;</span>].<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Egyéni hibakezelés:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-constant">MyCustomError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Szóval az van, hogy...&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">env</span>[<span class="ruby-string">&#39;sinatra.error&#39;</span>].<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>És amikor fellép:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">MyCustomError</span>, <span class="ruby-string">&#39;valami nem stimmel!&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Ez fog megjelenni:</p>

<p>Szóval az van, hogy… valami nem stimmel!</p>

<p>A <a href="Sinatra.html">Sinatra</a> speciális <code>not_found</code> és
<code>error</code> hibakezelőket használ, amikor a futtatási környezet
fejlesztői módba van kapcsolva.</p>

<h2 id="label-Mime+t-C3-ADpusok">Mime típusok<span><a href="#label-Mime+t-C3-ADpusok">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A <code>send_file</code> metódus használatakor, vagy statikus fájlok
kiszolgálásakor előfordulhat, hogy a <a href="Sinatra.html">Sinatra</a> nem
ismeri fel a fájlok mime típusát. Ilyenkor használd a
<code>mime_type</code> kapcsolót a fájlkiterjesztés bevezetéséhez:</p>

<pre class="ruby"><span class="ruby-identifier">mime_type</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-string">&#39;text/foo&#39;</span>
</pre>

<h2 id="label-Rack+Middleware"><a href="Rack.html">Rack</a> Middleware<span><a href="#label-Rack+Middleware">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A <a href="Sinatra.html">Sinatra</a> egy Ruby keretrendszerek számára
kifejlesztett egyszerű és szabványos interfészre, a <a
href="http://rack.github.io/">Rack</a> -re épül. A <a
href="Rack.html">Rack</a> fejlesztői szempontból egyik legérdekesebb
jellemzője, hogy támogatja az úgynevezett “middleware” elnevezésű
komponenseket, amelyek beékelődnek a szerver és az alkalmazás közé, így
képesek megfigyelni és/vagy módosítani a HTTP kéréseket és válaszokat.
Segítségükkel különféle, egységesen működő funkciókat építhetünk be
rendszerünkbe.</p>

<p>A <a href="Sinatra.html">Sinatra</a> keretrendszerben gyerekjáték a <a
href="Rack.html">Rack</a> middleware-ek behúzása a <code>use</code> metódus
segítségével:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;my_custom_middleware&#39;</span>

  <span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Lint</span>
  <span class="ruby-identifier">use</span> <span class="ruby-constant">MyCustomMiddleware</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Helló Világ&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>A <code>use</code> metódus szemantikája megegyezik a <a
href="http://rubydoc.info/github/rack/rack/master/Rack/Builder">Rack::Builder</a>
DSL-ben használt <code>use</code> metóduséval (az említett DSL-t leginkább
rackup állományokban használják). Hogy egy példát említsünk, a
<code>use</code> metódus elfogad változókat és blokkokat egyaránt, akár
kombinálva is ezeket:</p>

<pre class="ruby"><span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Auth</span><span class="ruby-operator">::</span><span class="ruby-constant">Basic</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">username</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">username</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;admin&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">password</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;titkos&#39;</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>A <a href="Rack.html">Rack</a> terjesztéssel egy csomó alap middleware
komponens is érkezik, amelyekkel a naplózás, URL útvonalak megadása,
autentikáció és munkamenet-kezelés könnyen megvalósítható. A <a
href="Sinatra.html">Sinatra</a> ezek közül elég sokat automatikusan
felhasznál a beállításoktól függően, így ezek explicit betöltésével
(<code>use</code>) nem kell bajlódnod.</p>

<h2 id="label-Tesztel-C3-A9s">Tesztelés<span><a href="#label-Tesztel-C3-A9s">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="Sinatra.html">Sinatra</a> teszteket bármely <a
href="Rack.html">Rack</a> alapú tesztelő könyvtárral vagy keretrendszerrel
készíthetsz. Mi a <a
href="http://gitrdoc.com/brynary/rack-test">Rack::Test</a> könyvtárat
ajánljuk:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;my_sinatra_app&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rack/test&#39;</span>

  <span class="ruby-keyword">class</span> <span class="ruby-constant">MyAppTest</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Minitest</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span>
    <span class="ruby-identifier">include</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier">app</span>
      <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_my_default</span>
      <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;Helló Világ!&#39;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_with_params</span>
      <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/meet&#39;</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Frici&#39;</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;Helló Frici!&#39;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_with_rack_env</span>
      <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>, {}, <span class="ruby-string">&#39;HTTP_USER_AGENT&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Songbird&#39;</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Songbird-öt használsz!&quot;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>Megjegyzés: A beépített Sinatra::Test és Sinatra::TestHarness osztályok a
0.9.2-es kiadástól kezdve elavultnak számítanak.</p>

<h2 id="label-Sinatra-3A-3ABase+-+Middleware-ek-2C+k-C3-B6nyvt-C3-A1rak+-C3-A9s+modul-C3-A1ris+alkalmaz-C3-A1sok">Sinatra::Base - Middleware-ek, könyvtárak és moduláris alkalmazások<span><a href="#label-Sinatra-3A-3ABase+-+Middleware-ek-2C+k-C3-B6nyvt-C3-A1rak+-C3-A9s+modul-C3-A1ris+alkalmaz-C3-A1sok">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Az alkalmazást felső szinten építeni megfelelhet mondjuk egy kisebb app
esetén, ám kifejezetten károsnak bizonyulhat olyan komolyabb, újra
felhasználható komponensek készítésekor, mint például egy <a
href="Rack.html">Rack</a> middleware, Rails metal, egyszerűbb kiszolgáló
komponenssel bíró könyvtárak vagy éppen <a href="Sinatra.html">Sinatra</a>
kiterjesztések. A felső szintű DSL bepiszkítja az Objektum névteret,
ráadásul kisalkalmazásokra szabott beállításokat feltételez (így például
egyetlen alkalmazásfájl, <code>./public</code> és <code>./views</code>
könyvtár meglétét, naplózást, kivételkezelő oldalt stb.). Itt jön a képbe a
Sinatra::Base osztály:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

  <span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
    <span class="ruby-identifier">set</span> :<span class="ruby-identifier">sessions</span>, <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">set</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-string">&#39;bar&#39;</span>

    <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
      <span class="ruby-string">&#39;Helló Világ!&#39;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>A MyApp osztály immár önálló <a href="Rack.html">Rack</a> komponensként,
mondjuk <a href="Rack.html">Rack</a> middleware-ként vagy alkalmazásként,
esetleg Rails metal-ként is tud működni. Közvetlenül használhatod
(<code>use</code>) vagy futtathatod (<code>run</code>) az osztályodat egy
rackup konfigurációs állományban (<code>config.ru</code>), vagy egy
szerverkomponenst tartalmazó könyvtár vezérlésekor:</p>

<pre class="ruby"><span class="ruby-constant">MyApp</span>.<span class="ruby-identifier">run!</span> :<span class="ruby-identifier">host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;localhost&#39;</span>, :<span class="ruby-identifier">port</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9090</span>
</pre>

<p>A Sinatra::Base gyermekosztályaiban elérhető metódusok egyúttal a felső
szintű DSL-en keresztül is hozzáférhetők. A legtöbb felső szintű alkalmazás
átalakítható Sinatra::Base alapú komponensekké két lépésben:</p>
<ul><li>
<p>A fájlban nem a <code>sinatra</code>, hanem a <code>sinatra/base</code>
osztályt kell  beimportálni, mert egyébként az összes <a
href="Sinatra.html">Sinatra</a> DSL metódus a fő  névtérbe kerül.</p>
</li><li>
<p>Az alkalmazás útvonalait, hibakezelőit, szűrőit és beállításait  a
Sinatra::Base osztály gyermekosztályaiban kell megadni.</p>
</li></ul>

<p>A <code>Sinatra::Base</code> osztály igazából egy üres lap: a legtöbb
funkció alapból ki van kapcsolva, beleértve a beépített szervert is. A
beállításokkal és az egyes kapcsolók hatásával az <a
href="http://sinatra.github.com/configuration.html">Options and
Configuration</a> lap foglalkozik.</p>

<p>Széljegyzet: A <a href="Sinatra.html">Sinatra</a> felső szintű DSL-je egy
egyszerű delegációs rendszerre épül. A <a
href="Sinatra/Application.html">Sinatra::Application</a> osztály - a
Sinatra::Base egy speciális osztályaként - fogadja az összes :get, :put,
:post, :delete, :before, :error, :not_found, :configure és :set üzenetet,
ami csak a felső szintre beérkezik. Érdemes utánanézned a kódban, miképp <a
href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/main.rb#L25">kerül
be</a> a <a
href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/base.rb#L1064">Sinatra::Delegator
mixin</a> a fő névtérbe.</p>

<h2 id="label-Parancssori+lehet-C5-91s-C3-A9gek">Parancssori lehetőségek<span><a href="#label-Parancssori+lehet-C5-91s-C3-A9gek">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="Sinatra.html">Sinatra</a> alkalmazásokat közvetlenül futtathatunk:</p>

<pre>ruby myapp.rb [-h] [-x] [-e ENVIRONMENT] [-p PORT] [-s HANDLER]</pre>

<p>Az alábbi kapcsolókat ismeri fel a rendszer:</p>

<p>-h # segítség  -p # a port beállítása (alapértelmezés szerint ez a 4567-es)
-e # a környezet beállítása (alapértelmezés szerint ez a development)  -s #
a rack szerver/handler beállítása (alapértelmezetten ez a thin)  -x # a
mutex lock bekapcsolása (alapértelmezetten ki van kapcsolva)</p>

<h2 id="label-Fejleszt-C5-91i+v-C3-A1ltozat">Fejlesztői változat<span><a href="#label-Fejleszt-C5-91i+v-C3-A1ltozat">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Ha a <a href="Sinatra.html">Sinatra</a> legfrissebb, fejlesztői változatát
szeretnéd használni, készíts egy helyi másolatot és indítsd az
alkalmazásodat úgy, hogy a <code>sinatra/lib</code> könyvtár elérhető
legyen a <code>LOAD_PATH</code>-on:</p>

<pre>cd myapp
  git clone git://github.com/sinatra/sinatra.git
  ruby -Isinatra/lib myapp.rb</pre>

<p>De hozzá is adhatod a <code>sinatra/lib</code> könyvtárat a
<code>LOAD_PATH</code>-hoz az alkalmazásodban:</p>

<pre class="ruby"><span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/sinatra/lib&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems&#39;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/about&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&quot;A következő változatot futtatom &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
  <span class="ruby-keyword">end</span>
</pre>

<p>A <a href="Sinatra.html">Sinatra</a> frissítését később így végezheted el:</p>

<pre class="ruby"><span class="ruby-identifier">cd</span> <span class="ruby-identifier">myproject</span><span class="ruby-operator">/</span><span class="ruby-identifier">sinatra</span>
  <span class="ruby-identifier">git</span> <span class="ruby-identifier">pull</span>
</pre>

<h2 id="label-Tov-C3-A1bbi+inform-C3-A1ci-C3-B3k">További információk<span><a href="#label-Tov-C3-A1bbi+inform-C3-A1ci-C3-B3k">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="http://sinatra.github.com/">A projekt weboldala</a> - Kiegészítő
dokumentáció,  hírek, hasznos linkek</p>
</li><li>
<p><a href="http://sinatra.github.com/contributing.html">Közreműködés</a> -
Hibát találtál?  Segítségre van szükséged? Foltot küldenél be?</p>
</li><li>
<p><a href="http://sinatra.lighthouseapp.com">Lighthouse</a> - Hibakövetés és
kiadások</p>
</li><li>
<p><a href="http://twitter.com/sinatra">Twitter</a></p>
</li><li>
<p><a href="http://groups.google.com/group/sinatrarb">Levelezőlista</a></p>
</li><li>
<p><a href="irc://chat.freenode.net/#sinatra"> #sinatra</a> a <a
href="http://freenode.net">freenode.net</a> címen</p>
</li></ul>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

